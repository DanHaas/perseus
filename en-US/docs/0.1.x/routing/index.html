<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs/cli":"docs","docs/next/reference/testing/fantoccini-basics":"docs","docs/next/reference/i18n/defining":"docs","docs/0.1.x/templates":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.3.0-0.3.2/plugins/functional":"docs","docs/next/reference/cli":"docs","docs/0.3.0-0.3.2/plugins/writing":"docs","docs/i18n/translations-managers":"docs","docs/strategies/revalidation":"docs","docs/0.3.0-0.3.2/strategies/amalgamation":"docs","docs/next/reference/error-pages":"docs","docs/0.2.x/debugging":"docs","docs/0.3.0-0.3.2/stores":"docs","docs/advanced/initial-loads":"docs","docs/next/core-principles":"docs","docs/plugins/control":"docs","docs/next/reference/deploying/docker":"docs","docs/next/advanced/initial-loads":"docs","docs/what-is-perseus":"docs","docs/i18n/other-engines":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/next/reference/strategies/request-state":"docs","docs/next/reference/server-communication":"docs","docs/next/reference/engines":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.3.0-0.3.2/plugins/control":"docs","docs/0.3.0-0.3.2/advanced/initial-loads":"docs","docs/0.1.x/building":"docs","docs/advanced/subsequent-loads":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/0.2.x/i18n/using":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.2.x/intro":"docs","docs/0.3.0-0.3.2/i18n/using":"docs","docs/0.2.x/styling":"docs","docs/ejecting":"docs","docs/0.1.x/arch":"docs","docs/0.2.x/updating":"docs","docs/next/reference/strategies/incremental":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.3.0-0.3.2/strategies/incremental":"docs","docs/0.3.0-0.3.2/plugins/using":"docs","docs/next/reference/define-app":"docs","docs/0.1.x/routing":"docs","docs/plugins/writing":"docs","docs/0.2.x/i18n/intro":"docs","docs/0.3.0-0.3.2/second-app":"docs","docs/plugins/tinker":"docs","docs/0.3.0-0.3.2/strategies/request-state":"docs","docs/next/reference/testing/intro":"docs","docs/next/advanced/routing":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.1.x/setup":"docs","docs/0.2.x/strategies/build-state":"docs","docs/testing/checkpoints":"docs","docs/hydration":"docs","docs/0.2.x/strategies/intro":"docs","docs/next/reference/plugins/using":"docs","docs/0.3.0-0.3.2/strategies/build-state":"docs","docs/deploying/size":"docs","docs/0.3.0-0.3.2/hydration":"docs","docs/0.1.x/cli":"docs","docs/next/reference/state/global":"docs","docs/0.3.0-0.3.2/updating":"docs","docs/0.2.x/templates/intro":"docs","docs/intro":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.3.0-0.3.2/testing/intro":"docs","docs/0.2.x/cli":"docs","docs/0.3.0-0.3.2/server-communication":"docs","docs/next/reference/plugins/intro":"docs","docs/advanced/define_app":"docs","docs/0.3.0-0.3.2/plugins/security":"docs","docs/styling":"docs","docs/next/reference/strategies/revalidation":"docs","docs/next/reference/stores":"docs","docs/next/reference/state/idb-freezing":"docs","docs/next/reference/i18n/other-engines":"docs","docs/next/reference/state/rx":"docs","docs/advanced/routing":"docs","docs/0.3.0-0.3.2/static-content":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.3.0-0.3.2/plugins/intro":"docs","docs/0.1.x/strategies/build_state":"docs","docs/0.3.0-0.3.2/exporting":"docs","docs/strategies/amalgamation":"docs","docs/next/reference/deploying/intro":"docs","docs/plugins/publishing":"docs","docs/0.3.0-0.3.2/advanced/define_app":"docs","docs/0.2.x/hello-world":"docs","docs/next/reference/plugins/security":"docs","docs/deploying/docker":"docs","docs/0.1.x/error_pages":"docs","docs/0.3.0-0.3.2/deploying/docker":"docs","docs/updating":"docs","docs/0.3.0-0.3.2/templates/intro":"docs","index":"index","docs/next/reference/plugins/tinker":"docs","docs/next/reference/state/freezing":"docs","docs/0.3.0-0.3.2/deploying/intro":"docs","docs/next/reference/i18n/intro":"docs","docs/0.3.0-0.3.2/advanced/intro":"docs","docs/0.3.0-0.3.2/plugins/tinker":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/testing/intro":"docs","docs/0.3.0-0.3.2/i18n/defining":"docs","docs/next/reference/deploying/serverless":"docs","docs/next/reference/pitfalls-and-bugs":"docs","docs/next/reference/plugins/functional":"docs","docs/next/reference/strategies/intro":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.1.x/config_managers":"docs","docs/next/reference/hydration":"docs","docs":"docs","docs/0.2.x/ejecting":"docs","docs/0.3.0-0.3.2/i18n/other-engines":"docs","docs/next/reference/deploying/size":"docs","docs/next/reference/templates/metadata-modification":"docs","docs/strategies/incremental":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.2.x/testing/intro":"docs","docs/0.3.0-0.3.2/strategies/revalidation":"docs","docs/next/reference/templates/intro":"docs","docs/0.3.0-0.3.2/debugging":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/next/reference/i18n/using":"docs","docs/define-app":"docs","docs/0.3.0-0.3.2/i18n/translations-managers":"docs","docs/0.3.0-0.3.2/templates/metadata-modification":"docs","docs/plugins/functional":"docs","docs/0.3.0-0.3.2/deploying/size":"docs","docs/next/advanced/define_app":"docs","docs/next/reference/styling":"docs","docs/exporting":"docs","docs/next/tutorials/second-app":"docs","docs/templates/intro":"docs","docs/0.3.0-0.3.2/snooping":"docs","docs/static-content":"docs","docs/next/reference/plugins/writing":"docs","docs/0.3.0-0.3.2/hello-world":"docs","docs/0.3.0-0.3.2/styling":"docs","docs/0.3.0-0.3.2/advanced/routing":"docs","docs/0.1.x/intro":"docs","docs/i18n/intro":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.3.0-0.3.2/i18n/intro":"docs","docs/pitfalls-and-bugs":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/hello-world":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/deploying/intro":"docs","docs/advanced/intro":"docs","docs/next/reference/strategies/build-paths":"docs","docs/next/reference/plugins/publishing":"docs","docs/0.2.x/testing/manual":"docs","docs/next/what-is-perseus":"docs","docs/0.2.x/second-app":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/0.2.x/deploying/exporting":"docs","docs/next/reference/static-content":"docs","docs/plugins/security":"docs","docs/next/advanced/intro":"docs","docs/0.3.0-0.3.2/define-app":"docs","docs/next/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.2/error-pages":"docs","docs/next/advanced/arch":"docs","docs/next/reference/templates/setting-headers":"docs","docs/next/reference/testing/checkpoints":"docs","docs/0.2.x/error-pages":"docs","docs/0.3.0-0.3.2/views":"docs","docs/stores":"docs","docs/0.3.0-0.3.2/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.2/strategies/build-paths":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/next/reference/deploying/serverful":"docs","docs/0.3.0-0.3.2/cli":"docs","docs/0.3.0-0.3.2/testing/manual":"docs","docs/0.2.x/what-is-perseus":"docs","docs/deploying/relative-paths":"docs","docs/i18n/using":"docs","docs/0.3.0-0.3.2/plugins/publishing":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/snooping":"docs","docs/0.3.0-0.3.2/intro":"docs","docs/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.2/deploying/serverful":"docs","docs/0.3.0-0.3.2/templates/setting-headers":"docs","docs/0.3.0-0.3.2/deploying/serverless":"docs","docs/0.3.0-0.3.2/deploying/relative-paths":"docs","docs/next/reference/exporting":"docs","docs/server-communication":"docs","docs/deploying/serverful":"docs","docs/strategies/request-state":"docs","docs/next/reference/updating":"docs","plugins":"plugins","docs/0.1.x/serving":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/next/reference/state/hsr":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.3.0-0.3.2/testing/checkpoints":"docs","docs/next/reference/debugging":"docs","docs/debugging":"docs","docs/0.3.0-0.3.2/pitfalls-and-bugs":"docs","docs/templates/setting-headers":"docs","docs/templates/metadata-modification":"docs","docs/next/tutorials/hello-world":"docs","docs/testing/manual":"docs","docs/0.2.x/config-managers":"docs","docs/strategies/build-paths":"docs","docs/strategies/intro":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.2.x/define-app":"docs","docs/next/reference/strategies/amalgamation":"docs","docs/second-app":"docs","docs/next/reference/snooping":"docs","docs/0.2.x/static-content":"docs","docs/next/intro":"docs","docs/strategies/build-state":"docs","docs/plugins/intro":"docs","docs/0.2.x/views":"docs","docs/next/reference/deploying/relative-paths":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/next/reference/views":"docs","docs/0.3.0-0.3.2/advanced/subsequent-loads":"docs","docs/next/reference/strategies/build-state":"docs","docs/0.3.0-0.3.2/ejecting":"docs","docs/0.3.0-0.3.2/what-is-perseus":"docs","docs/next/reference/ejecting":"docs","docs/deploying/serverless":"docs","comparisons":"comparisons","docs/next/reference/live-reloading":"docs","docs/advanced/arch":"docs","docs/next/reference/templates/router-state":"docs","docs/next/reference/plugins/control":"docs","docs/plugins/using":"docs","docs/i18n/defining":"docs","docs/0.3.0-0.3.2/strategies/intro":"docs","docs/next/reference/testing/manual":"docs","docs/next/reference/i18n/translations-managers":"docs","docs/views":"docs","docs/0.2.x/strategies/request-state":"docs","docs/error-pages":"docs","docs/0.3.0-0.3.2/advanced/arch":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title data-hk="1.0">Routing | Perseus Docs</title><link href=".perseus/static/styles/markdown.css" rel="stylesheet" data-hk="1.1"/><link href=".perseus/static/styles/docs_links_markdown.css" rel="stylesheet" data-hk="1.2"/><link rel="stylesheet" href=".perseus/static/prism.css" data-hk="1.3"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"Routing","content":"<h1>Routing</h1>\\n<p><em>You only need this page if you're not using the Perseus CLI, which performs this process for you! It does provide some useful background even so though.</em></p>\\n<p>Perseus will serve your pages on the backend, rendered however you like, but it depends on <a href=\\"https://github.com/sycamore-rs/sycamore\\">Sycamore</a> for front-end rendering and routing, so you'll need to provide a router for your pages. You can see more information about Sycamore routing in their official documentation <a href=\\"https://sycamore-rs.netlify.app/docs/advanced/routing\\">here</a>.</p>\\n<h2>Usage</h2>\\n<p>You'll need to define a rout <code>enum</code> at the root of your app like so to define your app's routes:</p>\\n<pre><code class=\\"language-rust\\">use sycamore::prelude::*;\\n\\n#[derive(Route)]\\nenum AppRoute {\\n    #[to(&quot;/&quot;)]\\n    Index,\\n    #[to(&quot;/about&quot;)]\\n    About,\\n    #[to(&quot;/post/new&quot;)]\\n    NewPost,\\n    #[to(&quot;/post/&lt;slug..&gt;&quot;)]\\n    Post { slug: Vec&lt;String&gt; },\\n    #[to(&quot;/ip&quot;)]\\n    Ip,\\n    #[to(&quot;/time&quot;)]\\n    TimeRoot,\\n    #[to(&quot;/timeisr/&lt;slug&gt;&quot;)]\\n    Time { slug: String },\\n    #[not_found]\\n    NotFound,\\n}\\n</code></pre>\\n<p>Note in the above example the usage of the <code>NewPost</code> template to override a section of the domain of the <code>Post</code> template, specifically the <code>/post/new</code> path, where a post writing page is hosted. Notably, such intrusive routes must be placed before. In general, <strong>order your routes by specificity</strong>. If you're not having troubles though, put them in any order you like (but <code>NotFound</code> must come last).</p>\\n<p>You can then match each of your routes and render it like so (subset of the previous example):</p>\\n<pre><code class=\\"language-rust,no_run,no_plyaground\\">let root = web_sys::window()\\n        .unwrap()\\n        .document()\\n        .unwrap()\\n        .query_selector(&quot;#_perseus_root&quot;)\\n        .unwrap()\\n        .unwrap();\\n\\nsycamore::render_to(\\n        || {\\n            template! {\\n                BrowserRouter(|route: AppRoute| {\\n                    match route {\\n                        AppRoute::Index =&gt; app_shell(\\n                            &quot;index&quot;.to_string(),\\n                            pages::index::template_fn(),\\n                            get_error_pages()\\n                        ),\\n                        AppRoute::About =&gt; app_shell(\\n                            &quot;about&quot;.to_string(),\\n                            pages::about::template_fn(),\\n                            get_error_pages()\\n                        ),\\n                        AppRoute::Post { slug } =&gt; app_shell(\\n                            format!(&quot;post/{}&quot;, slug.join(&quot;/&quot;)),\\n                            pages::post::template_fn(),\\n                            get_error_pages()\\n                        ),\\n                        AppRoute::NotFound =&gt; template! {\\n                            p {&quot;Not Found.&quot;}\\n                        }\\n                    }\\n                })\\n            }\\n        },\\n        &amp;root,\\n    );\\n</code></pre>\\n<p>Note that you pass your error pages to the app shell, allowing it to conditionally render them if need be. Also note the template function being reused for the router as well as in the template itself.</p>\\n<p>The router is the core of your app, and should be rendered to a location from which you'll use Perseus. Perseus is a full framework for rendering, so if you want incremental adoption of reactivity, you should check out the underlying <a href=\\"https://github.com/sycamore-rs/sycamore\\">Sycamore</a> library.</p>\\n","sidebar_content":"<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro\\">Introduction</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup\\">Setup</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro\\">Building Your First App</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup\\">Installation and Setup</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template\\">Writing Your First Template</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app\\">Setting up the App Itself</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli\\">CLI</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates\\">Templates</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing\\">Routing</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental\\">Incremental generation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building\\">Building</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving\\">Serving</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web\\">Actix Web Integration</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers\\">Config Managers</a></li>\\n</ul>\\n","status":"Outdated","manifest":{"stable":"0.3.0-0.3.2","outdated":["0.2.x","0.1.x"],"beta":[],"history_map":{"0.2.x":"v0.2.3","0.1.x":"v0.1.4","0.3.0-0.3.2":"v0.3.2"}},"current_version":"0.1.x"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header data-hk="3.0" class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20"><div data-hk="3.1" class="flex justify-between"><a href="en-US/" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" data-hk="3.2">Perseus</a><div data-hk="3.3" class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div data-hk="3.4" class="tham-box"><div data-hk="3.5" class="dark:bg-white tham-inner"></div></div></div><nav data-hk="3.6" class="hidden md:flex"><ul data-hk="3.7" class="mr-5 flex"><li data-hk="4.0" class="m-3 p-1"><a class="px-2" data-hk="4.1" href="en-US/docs">Docs</a></li><li class="m-3 p-1" data-hk="4.2"><a class="px-2" data-hk="4.3" href="en-US/comparisons">Comparisons</a></li><li data-hk="4.4" class="m-3 p-1"><a class="px-2" data-hk="4.5" href="en-US/plugins">Plugins</a></li></ul></nav></div><nav data-hk="3.8" id="mobile_nav_menu" class="md:hidden w-full text-center justify-center overflow-y-scroll hidden"><div style="max-height: 500px" data-hk="3.9" class="mr-5 overflow-y-scroll"><ul data-hk="3.10"><li class="m-3 p-1" data-hk="5.0"><a data-hk="5.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="5.2" class="m-3 p-1"><a class="px-2" data-hk="5.3" href="en-US/comparisons">Comparisons</a></li><li class="m-3 p-1" data-hk="5.4"><a href="en-US/plugins" data-hk="5.5" class="px-2">Plugins</a></li></ul><hr data-hk="3.11"/><div data-hk="3.12" class="text-left p-3"><!--#--><!----><select data-hk="6.0" class="p-2 rounded-md text-white bg-indigo-500"><option value="next" data-hk="6.1">Next (unreleased)</option><!--#--><!--/--><option value="0.3.0-0.3.2" data-hk="6.2">v⁨0.3.0-0.3.2⁩ (stable)</option><!--#--><option data-hk="6.3" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option selected="" value="0.1.x" data-hk="6.4">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.13" class="docs-links-markdown"><ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro">Introduction</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup">Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro">Building Your First App</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup">Installation and Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template">Writing Your First Template</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app">Setting up the App Itself</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli">CLI</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates">Templates</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing">Routing</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental">Incremental generation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building">Building</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving">Serving</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web">Actix Web Integration</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers">Config Managers</a></li>
</ul>
</div></div></div></nav></header><div class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex" data-hk="3.14"><div class="flex w-full" data-hk="3.15"><div class="h-full hidden md:block max-w-xs w-full border-r" data-hk="3.16"><div data-hk="3.17" class="mr-5"><div data-hk="3.18" class="text-left text-black dark:text-white p-3"><aside data-hk="3.19"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="7.0"><option data-hk="7.1" value="next">Next (unreleased)</option><!--#--><!--/--><option data-hk="7.2" value="0.3.0-0.3.2">v⁨0.3.0-0.3.2⁩ (stable)</option><!--#--><option data-hk="7.3" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option data-hk="7.4" selected="" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div class="docs-links-markdown" data-hk="3.20"><ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro">Introduction</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup">Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro">Building Your First App</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup">Installation and Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template">Writing Your First Template</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app">Setting up the App Itself</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli">CLI</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates">Templates</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing">Routing</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental">Incremental generation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building">Building</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving">Serving</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web">Actix Web Integration</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers">Config Managers</a></li>
</ul>
</div></aside></div></div></div><div class="h-full flex w-full" data-hk="3.21"><div data-hk="3.22" class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl"><!--#--><div data-hk="3.23" class="ring-4 ring-red-400 p-4 rounded-lg mt-1"><div data-hk="3.24" class="flex flex-col 2xs:flex-row dark:text-white"><span style="fill: #f87171;" class="self-center mr-2" data-hk="3.25"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk="3.26">This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href="en-US/docs/0.3.x/intro" class="underline">here</a>.</p></div></div><!--/--><main class="text-black dark:text-white" data-hk="3.27"><div class="markdown" data-hk="2.0"><h1>Routing</h1>
<p><em>You only need this page if you're not using the Perseus CLI, which performs this process for you! It does provide some useful background even so though.</em></p>
<p>Perseus will serve your pages on the backend, rendered however you like, but it depends on <a href="https://github.com/sycamore-rs/sycamore">Sycamore</a> for front-end rendering and routing, so you'll need to provide a router for your pages. You can see more information about Sycamore routing in their official documentation <a href="https://sycamore-rs.netlify.app/docs/advanced/routing">here</a>.</p>
<h2>Usage</h2>
<p>You'll need to define a rout <code>enum</code> at the root of your app like so to define your app's routes:</p>
<pre><code class="language-rust">use sycamore::prelude::*;

#[derive(Route)]
enum AppRoute {
    #[to(&quot;/&quot;)]
    Index,
    #[to(&quot;/about&quot;)]
    About,
    #[to(&quot;/post/new&quot;)]
    NewPost,
    #[to(&quot;/post/&lt;slug..&gt;&quot;)]
    Post { slug: Vec&lt;String&gt; },
    #[to(&quot;/ip&quot;)]
    Ip,
    #[to(&quot;/time&quot;)]
    TimeRoot,
    #[to(&quot;/timeisr/&lt;slug&gt;&quot;)]
    Time { slug: String },
    #[not_found]
    NotFound,
}
</code></pre>
<p>Note in the above example the usage of the <code>NewPost</code> template to override a section of the domain of the <code>Post</code> template, specifically the <code>/post/new</code> path, where a post writing page is hosted. Notably, such intrusive routes must be placed before. In general, <strong>order your routes by specificity</strong>. If you're not having troubles though, put them in any order you like (but <code>NotFound</code> must come last).</p>
<p>You can then match each of your routes and render it like so (subset of the previous example):</p>
<pre><code class="language-rust,no_run,no_plyaground">let root = web_sys::window()
        .unwrap()
        .document()
        .unwrap()
        .query_selector(&quot;#_perseus_root&quot;)
        .unwrap()
        .unwrap();

sycamore::render_to(
        || {
            template! {
                BrowserRouter(|route: AppRoute| {
                    match route {
                        AppRoute::Index =&gt; app_shell(
                            &quot;index&quot;.to_string(),
                            pages::index::template_fn(),
                            get_error_pages()
                        ),
                        AppRoute::About =&gt; app_shell(
                            &quot;about&quot;.to_string(),
                            pages::about::template_fn(),
                            get_error_pages()
                        ),
                        AppRoute::Post { slug } =&gt; app_shell(
                            format!(&quot;post/{}&quot;, slug.join(&quot;/&quot;)),
                            pages::post::template_fn(),
                            get_error_pages()
                        ),
                        AppRoute::NotFound =&gt; template! {
                            p {&quot;Not Found.&quot;}
                        }
                    }
                })
            }
        },
        &amp;root,
    );
</code></pre>
<p>Note that you pass your error pages to the app shell, allowing it to conditionally render them if need be. Also note the template function being reused for the router as well as in the template itself.</p>
<p>The router is the core of your app, and should be rendered to a location from which you'll use Perseus. Perseus is a full framework for rendering, so if you want incremental adoption of reactivity, you should check out the underlying <a href="https://github.com/sycamore-rs/sycamore">Sycamore</a> library.</p>
</div></main></div></div></div></div><footer data-hk="3.28" class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep"><p class="dark:text-white mx-5 text-center" data-hk="3.29"><span data-hk="3.30">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script data-hk="2.1" src=".perseus/static/prism.js" defer=""></script><script data-hk="2.2">window.Prism.highlightAll();</script></div></div>
    </body>
</html>
