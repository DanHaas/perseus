<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs/next/static-content":"docs","docs/views":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/hello-world":"docs","docs/0.2.x/deploying/exporting":"docs","docs/debugging":"docs","docs/0.3.x/plugins/using":"docs","docs/intro":"docs","docs/advanced/arch":"docs","docs/next/testing/checkpoints":"docs","docs/0.2.x/ejecting":"docs","docs/0.1.x/serving":"docs","docs/next/hydration":"docs","docs/0.2.x/styling":"docs","docs/0.2.x/testing/intro":"docs","docs/error-pages":"docs","docs/0.3.x/strategies/incremental":"docs","docs/next/plugins/writing":"docs","docs/0.3.x/strategies/revalidation":"docs","docs/testing/manual":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/0.2.x/strategies/intro":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.3.x/testing/fantoccini-basics":"docs","docs/next/plugins/publishing":"docs","docs/plugins/publishing":"docs","docs/0.2.x/config-managers":"docs","docs/plugins/intro":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.3.x/styling":"docs","docs/0.3.x/advanced/intro":"docs","docs/0.3.x/plugins/writing":"docs","docs/0.1.x/arch":"docs","docs/what-is-perseus":"docs","docs/next/templates/setting-headers":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/advanced/initial-loads":"docs","docs/strategies/revalidation":"docs","docs/strategies/build-paths":"docs","docs/next/testing/manual":"docs","docs/0.2.x/updating":"docs","docs/exporting":"docs","docs/next/i18n/using":"docs","docs/0.2.x/i18n/using":"docs","docs/0.3.x/strategies/build-paths":"docs","docs/0.3.x/updating":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/0.2.x/static-content":"docs","docs/0.3.x/templates/intro":"docs","docs/next/testing/fantoccini-basics":"docs","docs/next/plugins/functional":"docs","docs/0.3.x/snooping":"docs","docs/0.1.x/building":"docs","docs/next/deploying/relative-paths":"docs","docs/advanced/routing":"docs","docs/0.3.x/ejecting":"docs","docs/0.3.x/i18n/other-engines":"docs","docs/0.3.x/plugins/tinker":"docs","docs/i18n/using":"docs","docs/deploying/size":"docs","docs/0.2.x/error-pages":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/next/views":"docs","docs/next/stores":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/next/plugins/using":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/strategies/build-state":"docs","docs/ejecting":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.1.x/error_pages":"docs","docs/second-app":"docs","docs/strategies/intro":"docs","docs/testing/checkpoints":"docs","docs/next/strategies/build-state":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.2.x/advanced/arch":"docs","docs/server-communication":"docs","docs/next/i18n/other-engines":"docs","docs/0.3.x/i18n/translations-managers":"docs","docs/strategies/incremental":"docs","docs/0.1.x/setup":"docs","docs/deploying/serverless":"docs","docs/deploying/intro":"docs","docs/0.3.x/static-content":"docs","docs/0.2.x/i18n/intro":"docs","docs/0.2.x/second-app":"docs","docs/next/deploying/serverless":"docs","docs/static-content":"docs","plugins":"plugins","docs/next/i18n/defining":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/0.3.x/i18n/using":"docs","docs/next/strategies/revalidation":"docs","docs/next/advanced/routing":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.1.x/intro":"docs","docs/next/strategies/build-paths":"docs","docs/plugins/writing":"docs","index":"index","docs/0.3.x/exporting":"docs","docs/deploying/serverful":"docs","docs/next/strategies/intro":"docs","docs/next/plugins/intro":"docs","docs/0.3.x/intro":"docs","docs/0.3.x/templates/setting-headers":"docs","docs/0.3.x/strategies/intro":"docs","docs/0.3.x/what-is-perseus":"docs","docs/next/advanced/subsequent-loads":"docs","docs/0.3.x/deploying/relative-paths":"docs","docs/updating":"docs","docs/plugins/functional":"docs","docs/0.3.x/plugins/intro":"docs","docs/0.3.x/stores":"docs","docs/snooping":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.3.x/templates/metadata-modification":"docs","docs/deploying/relative-paths":"docs","docs/0.3.x/views":"docs","docs/next/advanced/arch":"docs","docs/0.2.x/debugging":"docs","docs/next/styling":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/plugins/security":"docs","docs/advanced/subsequent-loads":"docs","docs/0.1.x/config_managers":"docs","docs/0.3.x/debugging":"docs","docs/0.3.x/error-pages":"docs","docs/next/updating":"docs","docs/next/templates/intro":"docs","docs/next/snooping":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/next/templates/metadata-modification":"docs","docs/i18n/intro":"docs","docs/0.2.x/deploying/intro":"docs","docs/next/strategies/incremental":"docs","docs/0.3.x/advanced/arch":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/define-app":"docs","docs/pitfalls-and-bugs":"docs","comparisons":"comparisons","docs/i18n/defining":"docs","docs/next/deploying/size":"docs","docs/0.3.x/cli":"docs","docs/0.1.x/routing":"docs","docs/next/hello-world":"docs","docs/next/define-app":"docs","docs/testing/intro":"docs","docs/0.1.x/strategies/intro":"docs","docs/advanced/intro":"docs","docs/next/cli":"docs","docs/stores":"docs","docs/0.3.x/i18n/defining":"docs","docs/0.2.x/templates/intro":"docs","docs/plugins/tinker":"docs","docs/0.3.x/plugins/functional":"docs","docs/0.3.x/deploying/serverless":"docs","docs/0.3.x/strategies/build-state":"docs","docs/next/exporting":"docs","docs/0.3.x/hello-world":"docs","docs/next/pitfalls-and-bugs":"docs","docs/0.3.x/testing/intro":"docs","docs/next/testing/intro":"docs","docs/next/ejecting":"docs","docs/0.3.x/server-communication":"docs","docs/next/advanced/initial-loads":"docs","docs/0.3.x/plugins/publishing":"docs","docs/0.3.x/deploying/intro":"docs","docs/templates/setting-headers":"docs","docs/0.2.x/views":"docs","docs/0.3.x/pitfalls-and-bugs":"docs","docs/0.3.x/hydration":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.3.x/second-app":"docs","docs/next/strategies/amalgamation":"docs","docs/0.3.x/advanced/routing":"docs","docs/0.3.x/advanced/subsequent-loads":"docs","docs/next/error-pages":"docs","docs/0.3.x/strategies/request-state":"docs","docs/0.3.x/testing/checkpoints":"docs","docs":"docs","docs/plugins/using":"docs","docs/0.2.x/testing/manual":"docs","docs/hydration":"docs","docs/0.1.x/strategies/request_state":"docs","docs/plugins/control":"docs","docs/next/what-is-perseus":"docs","docs/cli":"docs","docs/0.3.x/strategies/amalgamation":"docs","docs/templates/intro":"docs","docs/0.1.x/cli":"docs","docs/0.2.x/intro":"docs","docs/next/advanced/intro":"docs","docs/0.2.x/strategies/request-state":"docs","docs/0.3.x/i18n/intro":"docs","docs/0.2.x/hello-world":"docs","docs/i18n/translations-managers":"docs","docs/next/debugging":"docs","docs/next/plugins/tinker":"docs","docs/templates/metadata-modification":"docs","docs/0.3.x/testing/manual":"docs","docs/0.1.x/strategies/incremental":"docs","docs/next/strategies/request-state":"docs","docs/0.1.x/templates":"docs","docs/0.3.x/advanced/initial-loads":"docs","docs/0.3.x/plugins/security":"docs","docs/0.3.x/deploying/size":"docs","docs/next/deploying/intro":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.2.x/strategies/build-state":"docs","docs/i18n/other-engines":"docs","docs/next/i18n/translations-managers":"docs","docs/next/server-communication":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.3.x/define-app":"docs","docs/next/i18n/intro":"docs","docs/next/deploying/serverful":"docs","docs/testing/fantoccini-basics":"docs","docs/0.3.x/deploying/serverful":"docs","docs/0.2.x/cli":"docs","docs/strategies/request-state":"docs","docs/next/second-app":"docs","docs/0.1.x/strategies/build_state":"docs","docs/strategies/amalgamation":"docs","docs/styling":"docs","docs/0.3.x/plugins/control":"docs","docs/0.2.x/define-app":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/next/plugins/security":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/next/plugins/control":"docs","docs/next/intro":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title data-hk="1.0">Config Managers | Perseus Docs</title><link rel="stylesheet" data-hk="1.1" href=".perseus/static/styles/markdown.css"/><link data-hk="1.2" rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css"/><link data-hk="1.3" rel="stylesheet" href=".perseus/static/prism.css"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"Config Managers","content":"<h1>Config Managers</h1>\\n<p>As you may have noticed, Perseus generates a considerable volume of static files to speed up serving your app and to cache various data. Storing these is trivial in development, they can just be put in a <code>dist</code> folder or the like. However, when in production, we don't always have access to such luxuries as a stateful filesystem, and we may need to access files from elsewhere, like a database or a CDN.</p>\\n<h2>Default</h2>\\n<p>In development, you'll still need to specify a config manager, which allows you to test out your production config manager even in local development! The easiest one to use for typical development though is the inbuilt <code>FsConfigManager</code>.</p>\\n<h2>Writing a Config Manager</h2>\\n<p>Any custom config managers have to implement the <code>ConfigManager</code> trait, which only has two functions: <code>read</code> and <code>write</code>. Here's the trait definition:</p>\\n<pre><code class=\\"language-rust\\">pub trait ConfigManager {\\n    /// Reads data from the named asset.\\n    async fn read(&amp;self, name: &amp;str) -&gt; Result&lt;String&gt;;\\n    /// Writes data to the named asset. This will create a new asset if one doesn't exist already.\\n    async fn write(&amp;self, name: &amp;str, content: &amp;str) -&gt; Result&lt;()&gt;;\\n}\\n</code></pre>\\n<h3>Errors</h3>\\n<p>It's easily possible for CDNs of filesystems to throw errors when we try to interact with them, and Perseus provides a custom set of errors with <a href=\\"\\"><code>error_chain!</code></a> to deal with this. Note that your implementation <em>must</em> use these, or it will not implement the trait and thus not be compatible with Perseus. The errors available to you are:</p>\\n<ul>\\n<li><code>NotFound</code>, takes a <code>String</code> asset name</li>\\n<li><code>ReadFailed</code>, takes a <code>String</code> asset name and a <code>String</code> error (not chained because it might come back by carrier pigeon for all we know)</li>\\n<li><code>WriteFailed</code>, takes a <code>String</code> asset name and a <code>String</code> error (not chained because it might come back by carrier pigeon for all we know)</li>\\n</ul>\\n<h2>Best Practices</h2>\\n<p>Some storage solutions will be significantly faster in production than others, and a CDN is recommended over a database or the like. Generally speaking, go with something lightning-fast, or a local filesystem if you can. Unfortunately, Perseus must run its own logic to know what files to fetch, so direct communication between the app shell and the CDN is not possible, so speed of connection with your storage provider is essential.</p>\\n<p>We're currently working on framework support on providers like Netlify so this process is fully seamless for you, but for now it will be very inconvenient. Hence, <strong>Perseus is presently not recommended for production use, but soon will be</strong>! Once integrations are up and running, the project has matured some more, and setup on platforms like Vercel is done, have at it!</p>\\n","sidebar_content":"<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro\\">Introduction</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup\\">Setup</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro\\">Building Your First App</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup\\">Installation and Setup</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template\\">Writing Your First Template</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app\\">Setting up the App Itself</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli\\">CLI</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates\\">Templates</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing\\">Routing</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental\\">Incremental generation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building\\">Building</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving\\">Serving</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web\\">Actix Web Integration</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers\\">Config Managers</a></li>\\n</ul>\\n","status":"Outdated","manifest":{"stable":"0.3.x","outdated":["0.2.x","0.1.x"],"beta":[],"history_map":{"0.1.x":"v0.1.4","0.2.x":"v0.2.3","0.3.x":"HEAD"}},"current_version":"0.1.x"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20" data-hk="3.0"><div class="flex justify-between" data-hk="3.1"><a data-hk="3.2" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" href="en-US/">Perseus</a><div class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 " data-hk="3.3"><div data-hk="3.4" class="tham-box"><div data-hk="3.5" class="dark:bg-white tham-inner"></div></div></div><nav class="hidden md:flex" data-hk="3.6"><ul class="mr-5 flex" data-hk="3.7"><li data-hk="4.0" class="m-3 p-1"><a class="px-2" data-hk="4.1" href="en-US/docs">Docs</a></li><li data-hk="4.2" class="m-3 p-1"><a data-hk="4.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li class="m-3 p-1" data-hk="4.4"><a class="px-2" data-hk="4.5" href="en-US/plugins">Plugins</a></li></ul></nav></div><nav id="mobile_nav_menu" data-hk="3.8" class="md:hidden w-full text-center justify-center overflow-y-scroll hidden"><div class="mr-5 overflow-y-scroll" style="max-height: 500px" data-hk="3.9"><ul data-hk="3.10"><li data-hk="5.0" class="m-3 p-1"><a href="en-US/docs" class="px-2" data-hk="5.1">Docs</a></li><li data-hk="5.2" class="m-3 p-1"><a data-hk="5.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="5.4" class="m-3 p-1"><a data-hk="5.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul><hr data-hk="3.11"/><div class="text-left p-3" data-hk="3.12"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="6.0"><option value="next" data-hk="6.1">Next (unreleased)</option><!--#--><!--/--><option data-hk="6.2" value="0.3.x">v⁨0.3.x⁩ (stable)</option><!--#--><option data-hk="6.3" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option value="0.1.x" data-hk="6.4" selected="">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.13" class="docs-links-markdown"><ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro">Introduction</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup">Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro">Building Your First App</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup">Installation and Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template">Writing Your First Template</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app">Setting up the App Itself</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli">CLI</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates">Templates</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing">Routing</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental">Incremental generation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building">Building</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving">Serving</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web">Actix Web Integration</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers">Config Managers</a></li>
</ul>
</div></div></div></nav></header><div class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex" data-hk="3.14"><div data-hk="3.15" class="flex w-full"><div class="h-full hidden md:block max-w-xs w-full border-r" data-hk="3.16"><div data-hk="3.17" class="mr-5"><div data-hk="3.18" class="text-left text-black dark:text-white p-3"><aside data-hk="3.19"><!--#--><!----><select data-hk="7.0" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="7.1" value="next">Next (unreleased)</option><!--#--><!--/--><option value="0.3.x" data-hk="7.2">v⁨0.3.x⁩ (stable)</option><!--#--><option data-hk="7.3" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option value="0.1.x" data-hk="7.4" selected="">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.20" class="docs-links-markdown"><ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/intro">Introduction</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/setup">Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/intro">Building Your First App</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/setup">Installation and Setup</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/template">Writing Your First Template</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/tutorials/first_app/app">Setting up the App Itself</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/cli">CLI</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/templates">Templates</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/routing">Routing</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/error_pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/build_state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/request_state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/strategies/incremental">Incremental generation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/building">Building</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/serving">Serving</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/integrations/actix-web">Actix Web Integration</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.1.x/config_managers">Config Managers</a></li>
</ul>
</div></aside></div></div></div><div data-hk="3.21" class="h-full flex w-full"><div data-hk="3.22" class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl"><!--#--><div data-hk="3.23" class="ring-4 ring-red-400 p-4 rounded-lg mt-1"><div class="flex flex-col 2xs:flex-row dark:text-white" data-hk="3.24"><span data-hk="3.25" style="fill: #f87171;" class="self-center mr-2"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk="3.26">This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href="en-US/docs/0.3.x/intro" class="underline">here</a>.</p></div></div><!--/--><main data-hk="3.27" class="text-black dark:text-white"><div class="markdown" data-hk="2.0"><h1>Config Managers</h1>
<p>As you may have noticed, Perseus generates a considerable volume of static files to speed up serving your app and to cache various data. Storing these is trivial in development, they can just be put in a <code>dist</code> folder or the like. However, when in production, we don't always have access to such luxuries as a stateful filesystem, and we may need to access files from elsewhere, like a database or a CDN.</p>
<h2>Default</h2>
<p>In development, you'll still need to specify a config manager, which allows you to test out your production config manager even in local development! The easiest one to use for typical development though is the inbuilt <code>FsConfigManager</code>.</p>
<h2>Writing a Config Manager</h2>
<p>Any custom config managers have to implement the <code>ConfigManager</code> trait, which only has two functions: <code>read</code> and <code>write</code>. Here's the trait definition:</p>
<pre><code class="language-rust">pub trait ConfigManager {
    /// Reads data from the named asset.
    async fn read(&amp;self, name: &amp;str) -&gt; Result&lt;String&gt;;
    /// Writes data to the named asset. This will create a new asset if one doesn't exist already.
    async fn write(&amp;self, name: &amp;str, content: &amp;str) -&gt; Result&lt;()&gt;;
}
</code></pre>
<h3>Errors</h3>
<p>It's easily possible for CDNs of filesystems to throw errors when we try to interact with them, and Perseus provides a custom set of errors with <a href=""><code>error_chain!</code></a> to deal with this. Note that your implementation <em>must</em> use these, or it will not implement the trait and thus not be compatible with Perseus. The errors available to you are:</p>
<ul>
<li><code>NotFound</code>, takes a <code>String</code> asset name</li>
<li><code>ReadFailed</code>, takes a <code>String</code> asset name and a <code>String</code> error (not chained because it might come back by carrier pigeon for all we know)</li>
<li><code>WriteFailed</code>, takes a <code>String</code> asset name and a <code>String</code> error (not chained because it might come back by carrier pigeon for all we know)</li>
</ul>
<h2>Best Practices</h2>
<p>Some storage solutions will be significantly faster in production than others, and a CDN is recommended over a database or the like. Generally speaking, go with something lightning-fast, or a local filesystem if you can. Unfortunately, Perseus must run its own logic to know what files to fetch, so direct communication between the app shell and the CDN is not possible, so speed of connection with your storage provider is essential.</p>
<p>We're currently working on framework support on providers like Netlify so this process is fully seamless for you, but for now it will be very inconvenient. Hence, <strong>Perseus is presently not recommended for production use, but soon will be</strong>! Once integrations are up and running, the project has matured some more, and setup on platforms like Vercel is done, have at it!</p>
</div></main></div></div></div></div><footer class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep" data-hk="3.28"><p class="dark:text-white mx-5 text-center" data-hk="3.29"><span data-hk="3.30">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script data-hk="2.1" defer="" src=".perseus/static/prism.js"></script><script data-hk="2.2">window.Prism.highlightAll();</script></div></div>
    </body>
</html>
