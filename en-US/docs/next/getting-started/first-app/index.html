<!DOCTYPE html>
<html  class="light"><head><base href="https://arctic-hen7.github.io/perseus/" />
<meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><link rel="stylesheet" href=".perseus/static/tailwind.css" /><link href=".perseus/static/styles/style.css"  rel="stylesheet"/>
            <script type="module">window.__PERSEUS_RENDER_CFG = '{"docs/0.3.4/reference/deploying/relative-paths":"docs","docs/reference/index-view":"docs","docs/0.2.x/i18n/using":"docs","docs/0.3.0-0.3.3/testing/intro":"docs","docs/0.4.x/reference/state/idb-freezing":"docs","docs/0.4.x/advanced/subsequent-loads":"docs","docs/reference/plugins/tinker":"docs","docs/0.3.4/reference/i18n/other-engines":"docs","docs/0.3.0-0.3.3/advanced/intro":"docs","docs/0.4.x/reference/strategies/build-paths":"docs","docs/0.4.x/reference/i18n/using":"docs","docs/0.2.x/debugging":"docs","docs/0.3.4/reference/define-app":"docs","docs/0.2.x/i18n/other-engines":"docs","plugins":"plugins","docs/0.4.x/reference/strategies/incremental":"docs","docs/0.4.x/reference/strategies/intro":"docs","docs/reference/strategies/incremental":"docs","docs/0.3.4/reference/plugins/intro":"docs","docs/reference/testing/checkpoints":"docs","docs/0.3.0-0.3.3/templates/metadata-modification":"docs","docs/0.4.x/reference/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/snooping":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.3.0-0.3.3/strategies/intro":"docs","docs/reference/templates/setting-headers":"docs","docs/0.4.x/reference/i18n/other-engines":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/reference/state/global":"docs","docs/0.4.x/reference/state/freezing":"docs","docs/tutorials/second-app":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.4/reference/plugins/security":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.3.0-0.3.3/styling":"docs","docs/0.1.x/templates":"docs","docs/0.4.x/reference/deploying/serverless":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.3.0-0.3.3/plugins/intro":"docs","docs/next/reference/deploying":"docs","docs/0.4.x/reference/strategies/amalgamation":"docs","docs/0.3.0-0.3.3/deploying/docker":"docs","docs/0.3.0-0.3.3/cli":"docs","docs/next/reference/live-reloading-and-hsr":"docs","docs/0.3.0-0.3.3/updating":"docs","docs/0.3.0-0.3.3/stores":"docs","docs/0.3.4/reference/deploying/serverful":"docs","docs/0.3.0-0.3.3/templates/setting-headers":"docs","docs/0.3.0-0.3.3/static-content":"docs","docs/0.4.x/reference/i18n/intro":"docs","docs/0.3.4/reference/server-communication":"docs","docs/0.4.x/reference/updating":"docs","docs/0.4.x/reference/plugins/writing":"docs","docs/0.3.4/reference/templates/intro":"docs","docs/0.4.x/reference/strategies/request-state":"docs","docs/0.4.x/reference/define-app":"docs","docs/0.4.x/reference/deploying/size":"docs","docs/0.3.4/reference/state/freezing":"docs","docs/0.2.x/testing/manual":"docs","docs/reference/updating":"docs","docs/0.3.4/reference/strategies/build-paths":"docs","docs/0.3.4/reference/plugins/publishing":"docs","docs/0.3.4/reference/testing/fantoccini-basics":"docs","docs/0.3.4/reference/strategies/amalgamation":"docs","docs/advanced/arch":"docs","docs/0.3.0-0.3.3/strategies/build-state":"docs","docs/0.4.x/reference/styling":"docs","docs/0.3.4/reference/error-pages":"docs","docs/0.4.x/reference/server-communication":"docs","docs/0.4.x/reference/snooping":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.3.4/reference/strategies/incremental":"docs","docs/0.3.0-0.3.3/hydration":"docs","docs/0.3.4/reference/styling":"docs","docs/next/reference/plugins":"docs","docs/next/reference/exporting":"docs","docs/0.4.x/reference/i18n/defining":"docs","docs/0.3.0-0.3.3/second-app":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/advanced/route-announcer":"docs","docs/0.2.x/second-app":"docs","docs/0.3.0-0.3.3/plugins/publishing":"docs","docs/0.2.x/updating":"docs","docs/0.3.4/reference/plugins/writing":"docs","docs/reference/strategies/request-state":"docs","docs/0.2.x/cli":"docs","docs/0.3.0-0.3.3/i18n/using":"docs","docs/next/what-is-perseus":"docs","docs/0.2.x/styling":"docs","docs/0.4.x/reference/strategies/build-state":"docs","docs/0.4.x/core-principles":"docs","docs/0.4.x/reference/testing/fantoccini-basics":"docs","docs/0.3.4/reference/strategies/revalidation":"docs","docs/reference/plugins/security":"docs","docs/0.1.x/serving":"docs","docs/0.3.4/reference/cli":"docs","docs/0.4.x/reference/deploying/serverful":"docs","docs/reference/pitfalls-and-bugs":"docs","docs/reference/stores":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/next/features":"docs","docs/0.3.0-0.3.3/ejecting":"docs","docs/0.3.4/reference/deploying/intro":"docs","docs/0.4.x/reference/ejecting":"docs","docs/0.3.4/reference/plugins/tinker":"docs","docs/next/getting-started/intro":"docs","docs/0.2.x/templates/intro":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/reference/static-content":"docs","docs/next/reference/faq":"docs","docs/0.2.x/static-content":"docs","docs/0.3.4/advanced/route-announcer":"docs","docs/reference/error-pages":"docs","docs/0.3.4/reference/live-reloading":"docs","docs/0.3.0-0.3.3/plugins/security":"docs","docs/0.2.x/define-app":"docs","docs/0.4.x/advanced/route-announcer":"docs","docs/0.2.x/strategies/request-state":"docs","docs/what-is-perseus":"docs","docs/0.2.x/error-pages":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/reference/strategies/revalidation":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.2.x/strategies/intro":"docs","docs/0.4.x/reference/state/hsr":"docs","docs/0.3.4/reference/deploying/serverless":"docs","docs/0.4.x/reference/error-pages":"docs","docs/0.4.x/reference/testing/intro":"docs","docs/reference/deploying/docker":"docs","docs/reference/plugins/using":"docs","docs/0.3.4/reference/templates/setting-headers":"docs","docs/0.3.4/reference/testing/checkpoints":"docs","docs/0.3.0-0.3.3/server-communication":"docs","docs/reference/engines":"docs","docs/0.4.x/tutorials/hello-world":"docs","docs/reference/exporting":"docs","docs/reference/state/hsr":"docs","docs/reference/plugins/control":"docs","docs/0.4.x/reference/state/global":"docs","docs/0.3.4/reference/templates/router-state":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.3.0-0.3.3/testing/fantoccini-basics":"docs","docs/reference/strategies/build-state":"docs","docs/0.3.0-0.3.3/i18n/defining":"docs","docs/0.3.0-0.3.3/strategies/build-paths":"docs","docs/reference/plugins/publishing":"docs","docs/0.3.4/reference/strategies/request-state":"docs","docs/0.2.x/i18n/intro":"docs","docs/reference/define-app":"docs","docs/0.4.x/reference/perseus-app":"docs","docs/reference/ejecting":"docs","docs/0.4.x/reference/pitfalls-and-bugs":"docs","docs/0.3.0-0.3.3/plugins/writing":"docs","docs/advanced/intro":"docs","docs/0.3.4/reference/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/hello-world":"docs","docs/0.4.x/reference/templates/setting-headers":"docs","docs/0.3.4/reference/updating":"docs","docs/reference/i18n/intro":"docs","docs/0.3.4/reference/perseus-app":"docs","docs/0.3.4/reference/testing/intro":"docs","docs/reference/i18n/other-engines":"docs","docs/reference/testing/intro":"docs","docs/0.3.0-0.3.3/i18n/other-engines":"docs","docs/0.4.x/reference/deploying/intro":"docs","docs/0.4.x/reference/deploying/docker":"docs","docs/reference/perseus-app":"docs","docs/0.3.0-0.3.3/deploying/serverless":"docs","docs/0.3.4/reference/ejecting":"docs","docs/0.3.0-0.3.3/testing/checkpoints":"docs","docs/0.3.0-0.3.3/templates/intro":"docs","docs/0.1.x/config_managers":"docs","docs/reference/styling":"docs","docs/0.3.4/what-is-perseus":"docs","docs/0.3.0-0.3.3/plugins/using":"docs","docs/tutorials/hello-world":"docs","docs/0.3.0-0.3.3/i18n/intro":"docs","docs/0.3.4/advanced/intro":"docs","docs/0.4.x/reference/views":"docs","docs/0.3.4/reference/snooping":"docs","docs/0.3.4/reference/state/rx":"docs","docs/0.2.x/testing/intro":"docs","docs/0.3.4/tutorials/hello-world":"docs","docs/0.1.x/building":"docs","docs/0.4.x/reference/plugins/tinker":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/pitfalls-and-bugs":"docs","docs/0.3.4/reference/state/global":"docs","docs/reference/templates/metadata-modification":"docs","docs/0.4.x/reference/templates/router-state":"docs","docs/0.3.0-0.3.3/deploying/size":"docs","docs/0.3.4/reference/strategies/build-state":"docs","docs":"docs","docs/reference/live-reloading":"docs","docs/0.3.4/reference/plugins/functional":"docs","docs/reference/templates/router-state":"docs","docs/0.4.x/reference/templates/intro":"docs","docs/0.3.0-0.3.3/deploying/serverful":"docs","docs/0.2.x/advanced/routing":"docs","docs/advanced/subsequent-loads":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.4.x/reference/live-reloading":"docs","docs/0.4.x/what-is-perseus":"docs","docs/0.3.0-0.3.3/what-is-perseus":"docs","docs/reference/plugins/functional":"docs","docs/0.4.x/reference/testing/checkpoints":"docs","docs/0.3.4/reference/plugins/using":"docs","docs/0.3.4/advanced/initial-loads":"docs","docs/0.3.4/reference/hydration":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/views":"docs","docs/0.4.x/reference/stores":"docs","docs/0.1.x/setup":"docs","docs/advanced/initial-loads":"docs","docs/0.4.x/reference/deploying/relative-paths":"docs","docs/0.3.4/tutorials/auth":"docs","docs/0.3.4/reference/engines":"docs","docs/0.4.x/advanced/routing":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.1.x/cli":"docs","docs/0.4.x/reference/engines":"docs","docs/0.4.x/advanced/initial-loads":"docs","docs/0.2.x/intro":"docs","docs/0.3.0-0.3.3/i18n/translations-managers":"docs","docs/0.2.x/views":"docs","docs/reference/strategies/build-paths":"docs","docs/next/core-princles":"docs","docs/0.2.x/ejecting":"docs","docs/0.1.x/intro":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/0.3.0-0.3.3/strategies/request-state":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.3.0-0.3.3/error-pages":"docs","docs/0.3.4/reference/plugins/control":"docs","docs/0.2.x/hello-world":"docs","docs/0.4.x/reference/index-view":"docs","docs/0.4.x/reference/cli":"docs","docs/0.3.4/reference/templates/metadata-modification":"docs","docs/reference/deploying/relative-paths":"docs","docs/0.3.4/core-principles":"docs","docs/0.3.4/reference/exporting":"docs","docs/next/reference/hydration":"docs","docs/0.3.0-0.3.3/deploying/intro":"docs","docs/advanced/routing":"docs","docs/0.3.4/reference/deploying/docker":"docs","docs/0.4.x/reference/strategies/revalidation":"docs","docs/0.3.4/tutorials/second-app":"docs","docs/0.3.4/advanced/subsequent-loads":"docs","docs/reference/strategies/intro":"docs","docs/reference/i18n/defining":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.3.0-0.3.3/plugins/control":"docs","docs/reference/state/freezing":"docs","docs/0.3.4/reference/strategies/intro":"docs","docs/0.3.0-0.3.3/plugins/tinker":"docs","docs/reference/testing/fantoccini-basics":"docs","docs/reference/deploying/serverful":"docs","docs/0.4.x/reference/testing/manual":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.3/plugins/functional":"docs","docs/0.4.x/reference/state/rx":"docs","docs/next/reference/migrating":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/0.3.0-0.3.3/advanced/subsequent-loads":"docs","docs/0.2.x/strategies/incremental":"docs","docs/reference/strategies/amalgamation":"docs","docs/0.4.x/reference/plugins/security":"docs","docs/0.3.0-0.3.3/debugging":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.3.4/reference/stores":"docs","docs/reference/plugins/writing":"docs","docs/0.4.x/reference/static-content":"docs","docs/0.3.0-0.3.3/define-app":"docs","docs/tutorials/auth":"docs","docs/0.3.0-0.3.3/advanced/routing":"docs","comparisons":"comparisons","docs/0.1.x/strategies/build_state":"docs","docs/0.3.4/reference/views":"docs","docs/0.4.x/tutorials/second-app":"docs","docs/next/reference/architecture":"docs","docs/0.4.x/reference/plugins/functional":"docs","docs/0.3.4/intro":"docs","docs/0.3.4/reference/static-content":"docs","docs/0.3.4/reference/debugging":"docs","docs/0.4.x/advanced/intro":"docs","docs/next/reference/i18n":"docs","docs/0.4.x/intro":"docs","docs/reference/snooping":"docs","docs/0.4.x/reference/plugins/using":"docs","docs/reference/templates/intro":"docs","docs/reference/hydration":"docs","docs/next/intro":"docs","docs/reference/deploying/serverless":"docs","docs/next/tutorials/second-app":"docs","docs/0.4.x/tutorials/auth":"docs","docs/0.3.4/advanced/routing":"docs","docs/0.4.x/reference/plugins/control":"docs","docs/reference/i18n/using":"docs","docs/0.3.0-0.3.3/advanced/arch":"docs","docs/0.1.x/arch":"docs","docs/0.4.x/reference/exporting":"docs","docs/0.1.x/routing":"docs","docs/0.3.4/reference/testing/manual":"docs","docs/0.3.0-0.3.3/intro":"docs","docs/0.3.0-0.3.3/testing/manual":"docs","docs/0.4.x/reference/debugging":"docs","docs/0.3.0-0.3.3/strategies/amalgamation":"docs","docs/0.3.0-0.3.3/exporting":"docs","docs/0.3.0-0.3.3/strategies/incremental":"docs","docs/next/getting-started/first-app":"docs","docs/reference/testing/manual":"docs","docs/0.4.x/reference/templates/metadata-modification":"docs","index":"index","docs/0.3.4/reference/state/idb-freezing":"docs","docs/0.3.0-0.3.3/deploying/relative-paths":"docs","docs/0.3.4/advanced/arch":"docs","docs/0.4.x/advanced/arch":"docs","docs/reference/debugging":"docs","docs/0.3.0-0.3.3/advanced/initial-loads":"docs","docs/0.3.4/reference/i18n/using":"docs","docs/reference/deploying/intro":"docs","docs/next/getting-started/installation":"docs","docs/0.3.4/reference/index-view":"docs","docs/reference/state/rx":"docs","docs/0.3.4/reference/pitfalls-and-bugs":"docs","docs/reference/plugins/intro":"docs","docs/reference/state/idb-freezing":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/0.3.4/reference/deploying/size":"docs","docs/reference/i18n/translations-managers":"docs","docs/reference/views":"docs","docs/intro":"docs","docs/0.3.4/reference/i18n/intro":"docs","docs/0.4.x/reference/plugins/intro":"docs","docs/0.3.0-0.3.3/advanced/define_app":"docs","docs/0.3.4/reference/i18n/defining":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.4.x/reference/plugins/publishing":"docs","docs/0.4.x/reference/hydration":"docs","docs/0.2.x/config-managers":"docs","docs/0.3.0-0.3.3/strategies/revalidation":"docs","docs/reference/server-communication":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.3.4/reference/state/hsr":"docs","docs/reference/deploying/size":"docs","docs/reference/cli":"docs","docs/core-principles":"docs","docs/0.1.x/error_pages":"docs"}';

        import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
        async function main() {
            await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
            run();
        }
        main();
        

window.__PERSEUS_GLOBAL_STATE = `None`;</script>
            <!--PERSEUS_INTERPOLATED_HEAD_BEGINS-->
            
<title data-hk="1.0">Your First App | Perseus Docs</title><link rel="stylesheet" data-hk="1.1" href=".perseus/static/styles/markdown.css"/><link rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css" data-hk="1.2"/><link data-hk="1.3" rel="stylesheet" href=".perseus/static/prism.css"/>
            <script>
window.__PERSEUS_INITIAL_STATE = `{"title":"Your First App","content":"<h1>Your First App</h1>\\n<p>With a basic directory scaffold all set up, it's time to get into the nitty-gritty of building a Perseus app. Somewhat humorously, the hardest part to wrap your head around as a beginner is probably going to be the <code>Cargo.toml</code> we're about to set up. For now, make it look like the following.</p>\\n<pre><code class=\\"language-toml\\">{{#include ../../../examples/comprehensive/tiny/Cargo.toml.example}\\n</code></pre>\\n<details>\\n<summary>Excuse me??</summary>\\n<p>The first section is still pretty straightforward, just defining the name and version of your app's package. The line after that, <code>edition = &quot;2021&quot;</code>, tells Rust to use a specific version of itself. There's also a 2018 version and a 2015 version, though Perseus won't work with either of those, as it needs some features only introduced in 2021. That version also includes some comfort features that will make your life easier at times.</p>\\n<p>Now we'll address the interesting dependencies setup. Essentially, we've got three dependency sections. The reason for this is because Perseus runs partly on a server, and partially in a browser. The former is called the <em>engine</em>, which is responsible for building and serving your app. The latter is just called the browser, which is where Perseus makes your app work for your users.</p>\\n<p>These two environments couldn't really be more different, and, while Perseus tries to minimize the complexities of managing both from your perspective, there are <em>many</em> Rust packages that won't run in the browser yet. By having separate dependency sections for each environment, we can decide explicitly which packages we want to be available where.</p>\\n<p>The first section is the usual one, pulling in dependencies that we want everywhere. Both <code>perseus</code> and <code>sycamore</code> are needed in the browser and on the server-side, so we put them here. Most of the packages you bring in yourself will go here too. As a general rule of thumb, put stuff here unless you're getting errors or trying to optimize your app (which we have a whole section on).</p>\\n<p>The second is <code>[target.'cfg(not(target_arch = &quot;wasm32&quot;))'.dependencies]</code>, which looks scary, but is actually pretty simple when you think about it. It defines the <code>dependencies</code> section only on the <code>target</code> (operating system) that matches the condition <code>cfg(not(target_arch = &quot;wasm32&quot;))</code> --- the target that's not <code>wasm32</code>, which is Rust's way of talking about the browser. This section contains engine-only dependencies. In other words, the code that runs in the browser will have no clude these even exist. We put two things in here: <code>tokio</code> and <code>perseus-warp</code>. The first is an asynchronous runtime that Perseus uses in the background (this means we can do stuff like compile three parts of your app at the same time, which speeds up builds). The second is one of those integration crates we were talking about earlier, with the <code>dflt-server</code> feature enabled, which makes it expose an extra function that just makes us a server that we don't have to think about. Unless you're writing custom API routes, this is all you need.</p>\\n<p>The third section is exactly the same as the previous, just without that <code>not(...)</code>, so this one defines dependencies that we use in the browser only. We've put <code>wasm-bindgen</code> here, which we could compile on the server, but it would be a little pointless, since Perseus only uses it behind the scenes in making your app work in the browser. (This is needed for a macro that a Perseus macro defines, which is why you have to import it yourself.)</p>\\n<p>Now we've got some really weird stuff, that you may not have seen before even if you've been working with Rust for a while. The next two sections, <code>[lib]</code> and <code>[bin]</code>, declare that <code>src/lib.rs</code> is both a binary <em>and</em> a library. What does that mean? Well, a library is something that exposes some functions, and that's what Wasm expects. But the engine needs a binary to not just expose code, but to run it as well. Conveniently, you can define these in the same place, and you can then annoy Cargo a little by telling it to treat <code>lib.rs</code> as both a binary and a library. This will print a little warning at the top of every <code>cargo</code> command you run in this directory, but there's no actual problem here.</p>\\n<p><em>Note: this solution isn't ideal, and the situation of this will be improved by the time v0.4.0 goes stable. The aim is to get Wasm to work with a binary rather than a library, which requires changing several things in the CLI.</em></p>\\n<p>The only other thing of note here is <code>crate-type</code> under the <code>[lib]</code> section, which makes your library compatible with Wasm. Unfortunately, Perseus has basically no control over the fact that that's required, and we'd like it to not be necessary too!</p>\\n<p>So, to summarize, there's a bunch of weird stuff in <code>Cargo.toml</code> for every Perseus app, but you usually don't have to care about it too much!</p>\\n</details>\\n<p>Next, we can get on with the app's actual code! Head over to <code>src/lib.rs</code> and put the following inside:</p>\\n<pre><code class=\\"language-rust\\">{{#include ../../../examples/comprehensive/tiny/src/lib.rs}\\n</code></pre>\\n<p>This is your entire first app! Note that most Perseus app's won't actually look like this, we've condensed everything into 17 lines of code for simplicity.</p>\\n<details>\\n<summary>So that means something, does it?</summary>\\n<p>We've started off with some simple imports that we need, which we'll talk about as we get to them. The really important thing here is the <code>main()</code> function, which is annotated with the <code>#[perseus::main()]</code> <em>proc macro</em> (these are nifty things in Rust that let you define something, like a function, and then let the macro modify it). This macro isn't necessary, but it's very good for small apps, because there's actually fair bit of stuff happening behind the scenes here.</p>\\n<p>We also give that macro an argument, <code>perseus_integration::dflt_server</code>. You should change this to whatever integration you're using (we set up <code>perseus_warp</code> earlier). Every integration has a feature called <code>dflt-server</code> (which we enabled earlier in <code>Cargo.toml</code>) that exposes a function called <code>dflt_server</code> (notice how the packages use hyphens and the code uses underscores --- this is a Rust convention).</p>\\n<p>As you might have inferred, the argument we provide to the <code>#[perseus::main()]</code> macro is the function it will use to create a server for our app! You can provide something like <code>dflt_server</code> here if you don't want to think about that much more, or you can define an expansive API and use that here instead! (Note that there's actually a much better way to do this, which is addressed much later on.)</p>\\n<p>This function also takes a <em>generic</em>, or <em>type parameter</em>, called <code>G</code>. We use this to return a <code>PerseusApp</code> (which is the construct that contains all the information about our app) that uses <code>G</code>. This is essentially saying that we want to return a <code>PerseusApp</code> for something that implements the <code>Html</code> trait, which we imported earlier. This is Sycamore's way of expressing that this function can either return something designed for the browser, or for the engine. Specifically, the engine uses <code>SsrNode</code> (server-side rendering), and the browser uses <code>DomNode</code>/<code>HydrateNode</code>. Don't worry though, you don't need to understand these distinctions just yet.</p>\\n<p>The body of the function is where the magic happens: we define a new <code>PerseusApp</code> with our one template and some error pages. The template is called <code>index</code>, which is a special name that means it will be hosted at the index of our site --- it will be the landing page. The code for that template is a <code>view! { .. }</code>, which comes from Sycamore, and it's how we write things that the user can see. If you've used HTML before, this is the Rust version of that. It might look a bit daunting at first, but most people tend to warm to it fairly well after using it a little.</p>\\n<p>All this <code>view! { .. }</code> defines is a <code>p</code>, which is equivalent to the HTML <code>&lt;p&gt;&lt;/p&gt;</code>, a paragraph element. This is where we can put text for our site. The contents are the universal phrase, <code>Hello World!</code>.</p>\\n<p>You might be scratching your head about that <code>cx</code> though. Understandable. This is the <em>reactive scope</em> of the view, which is something complicated that you would need to understand much more about if you were using normal Sycamore. In Perseus, all you really need to know for the basics is that this is a thing that you need to give to every <code>view! { .. }</code>, and that your templates always take it as an argument. If you want to know what this actually does, you can read more about it <a href=\\"https://sycamore-rs.netlify.app/docs/basics/reactivity\\">here</a>.</p>\\n<p>The last thing to note is the <code>ErrorPages</code>, which are an innovation of Perseus that force you to write fallback pages for situations like the user going to a page that doesn't exist (the infamous 404 error). You could leave these out in development, but when you go to production, Perseus will scream at you. The error pages we've defined here are dead simple: we're just using the universal fallback provided to <code>ErrorPages::new()</code>, which is used for everything, unless you provide specific error pages for errors like 404, 500, etc. This fallback page is told the URL the error occurred on, the HTTP status code, and the error itself.</p>\\n</details>\\n<p>With that all out of the way, add the following to <code>.gitignore</code>:</p>\\n<pre><code>dist/\\n</code></pre>\\n<p>That just tells Git not to pay any attention to the build artifacts that Perseus is about to create. Now run this command:</p>\\n<pre><code class=\\"language-sh\\">perseus serve -w\\n</code></pre>\\n<p>Because this is the first time building your app, Cargo has to pull in a whole lot of stuff behind the scenes, so now would be a good time to fix yourself a beverage. Once it's done, you can see your app at <a href=\\"http://localhost:8080\\">http://localhost:8080</a>, and you should be greeted pleasantly by your app! If you want to check out the error pages, go to <a href=\\"http://localhost:8080/blah\\">http://localhost:8080/blah</a>, or any other page that doesn't exist.</p>\\n<p>Now, try updating that <code>Hello World!</code> message to be a little more like the first of its kind: <code>Hello, world!</code> Once you save the file, the CLI will immediately get to work rebuilding your app, and your browser will reload automatically when it's done!</p>\\n<p><em>Note: if you're finding the build process really slow, or if you're on older hardware, you should try switching to Rust's <a href=\\"https://doc.rust-lang.org/book/appendix-07-nightly-rust.html#rustup-and-the-role-of-rust-nightly\\">nightly channel</a> for a faster compiler experience.</em></p>\\n<p>Now stop that command with <code>Ctrl+C</code> and run <code>perseus deploy</code> instead. This will take a very long time, but it will produce a <code>pkg/</code> directory that you could put on a real-world server, and it would be completely ready to serve your brand-new app! Because this app is so simple, you could even use <code>perseus deploy -e</code> instead to just produce a bunch of flat files that you could host from anywhere without needing a proper server.</p>\\n<p>All this has just scratched the surface of what's possible with Perseus, and there's so much more to learn! The next big things are about understanding some of the core principles behind Perseus, which should help you to understand why any of what you just did actually worked.</p>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/intro\\">Introduction</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/getting-started/intro\\">Getting Started</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/getting-started/installation\\">Installation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/getting-started/first-app\\">Your First App</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles\\">Core Principles</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app\\">Your Second App</a></li>\\n</ul>\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/features\\">Feature Discovery Terminal</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading-and-hsr\\">Live Reloading and HSR</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n\\">Internationalization</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins\\">Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying\\">Deploying</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/architecture\\">Architecture Details</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/migrating\\">Migrating from v0.3.x</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/faq\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n","status":"Next","manifest":{"stable":"0.3.4","outdated":["0.3.0-0.3.3","0.2.x","0.1.x"],"beta":["0.4.x"],"history_map":{"0.3.0-0.3.3":"v0.3.3","0.2.x":"v0.2.3","0.1.x":"v0.1.4","0.3.4":"eccf137032fbe8e6507be9e9317edc16e7576a4f","0.4.x":"HEAD"}},"current_version":"next"}`;</script>
            </head><body class="bg-white dark:bg-navy"><div><div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header data-hk="3.0" class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20"><div data-hk="3.1" class="flex justify-between"><a data-hk="3.2" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" href="en-US/">Perseus</a><div class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 " data-hk="3.3"><div data-hk="3.4" class="tham-box"><div data-hk="3.5" class="dark:bg-white tham-inner"></div></div></div><nav data-hk="3.6" class="hidden md:flex"><ul data-hk="3.7" class="mr-5 flex"><li data-hk="4.0" class="m-3 p-1"><a class="px-2" data-hk="4.1" href="en-US/docs">Docs</a></li><li data-hk="4.2" class="m-3 p-1"><a data-hk="4.3" class="px-2" href="en-US/comparisons">Comparisons</a></li><li data-hk="4.4" class="m-3 p-1"><a data-hk="4.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul></nav></div><nav class="md:hidden w-full text-center justify-center overflow-y-scroll hidden" data-hk="3.8" id="mobile_nav_menu"><div data-hk="3.9" class="mr-5 overflow-y-scroll" style="max-height: 500px"><ul data-hk="3.10"><li class="m-3 p-1" data-hk="5.0"><a data-hk="5.1" href="en-US/docs" class="px-2">Docs</a></li><li class="m-3 p-1" data-hk="5.2"><a href="en-US/comparisons" data-hk="5.3" class="px-2">Comparisons</a></li><li data-hk="5.4" class="m-3 p-1"><a class="px-2" href="en-US/plugins" data-hk="5.5">Plugins</a></li></ul><hr data-hk="3.11"/><div class="text-left p-3" data-hk="3.12"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="6.0"><option selected="" data-hk="6.1" value="next">Next (unreleased)</option><!--#--><option data-hk="6.2" value="0.4.x">v⁨0.4.x⁩ (beta)</option><!--/--><option value="0.3.4" data-hk="6.3">v⁨0.3.4⁩ (stable)</option><!--#--><option value="0.3.0-0.3.3" data-hk="6.4">v⁨0.3.0-0.3.3⁩ (outdated)</option><option data-hk="6.5" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option data-hk="6.6" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div class="docs-links-markdown" data-hk="3.13"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/intro">Introduction</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/getting-started/intro">Getting Started</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/getting-started/installation">Installation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/getting-started/first-app">Your First App</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app">Your Second App</a></li>
</ul>
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/features">Feature Discovery Terminal</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading-and-hsr">Live Reloading and HSR</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n">Internationalization</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins">Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying">Deploying</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/architecture">Architecture Details</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/migrating">Migrating from v0.3.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/faq">Common Pitfalls and Known Bugs</a></li>
</ul>
</div></div></div></nav></header><div class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex" data-hk="3.14"><div class="flex w-full" data-hk="3.15"><div class="h-full hidden md:block max-w-xs w-full border-r" data-hk="3.16"><div data-hk="3.17" class="mr-5"><div data-hk="3.18" class="text-left text-black dark:text-white p-3"><aside data-hk="3.19"><!--#--><!----><select data-hk="7.0" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="7.1" value="next" selected="">Next (unreleased)</option><!--#--><option value="0.4.x" data-hk="7.2">v⁨0.4.x⁩ (beta)</option><!--/--><option data-hk="7.3" value="0.3.4">v⁨0.3.4⁩ (stable)</option><!--#--><option value="0.3.0-0.3.3" data-hk="7.4">v⁨0.3.0-0.3.3⁩ (outdated)</option><option value="0.2.x" data-hk="7.5">v⁨0.2.x⁩ (outdated)</option><option value="0.1.x" data-hk="7.6">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.20" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/intro">Introduction</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/getting-started/intro">Getting Started</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/getting-started/installation">Installation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/getting-started/first-app">Your First App</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app">Your Second App</a></li>
</ul>
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/features">Feature Discovery Terminal</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading-and-hsr">Live Reloading and HSR</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n">Internationalization</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins">Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying">Deploying</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/architecture">Architecture Details</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/migrating">Migrating from v0.3.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/faq">Common Pitfalls and Known Bugs</a></li>
</ul>
</div></aside></div></div></div><div class="h-full flex w-full" data-hk="3.21"><div class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl" data-hk="3.22"><!--#--><div data-hk="3.23" class="ring-4 ring-orange-400 p-4 rounded-lg mt-1"><div class="flex flex-col 2xs:flex-row dark:text-white" data-hk="3.24"><span data-hk="3.25" style="fill: #fb923c;" class="self-center mr-2"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk="3.26">This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href="en-US/docs/0.3.x/intro" class="underline">here</a>.</p></div></div><!--/--><main data-hk="3.27" class="text-black dark:text-white"><div class="markdown" data-hk="2.0"><h1>Your First App</h1>
<p>With a basic directory scaffold all set up, it's time to get into the nitty-gritty of building a Perseus app. Somewhat humorously, the hardest part to wrap your head around as a beginner is probably going to be the <code>Cargo.toml</code> we're about to set up. For now, make it look like the following.</p>
<pre><code class="language-toml">{{#include ../../../examples/comprehensive/tiny/Cargo.toml.example}
</code></pre>
<details>
<summary>Excuse me??</summary>
<p>The first section is still pretty straightforward, just defining the name and version of your app's package. The line after that, <code>edition = &quot;2021&quot;</code>, tells Rust to use a specific version of itself. There's also a 2018 version and a 2015 version, though Perseus won't work with either of those, as it needs some features only introduced in 2021. That version also includes some comfort features that will make your life easier at times.</p>
<p>Now we'll address the interesting dependencies setup. Essentially, we've got three dependency sections. The reason for this is because Perseus runs partly on a server, and partially in a browser. The former is called the <em>engine</em>, which is responsible for building and serving your app. The latter is just called the browser, which is where Perseus makes your app work for your users.</p>
<p>These two environments couldn't really be more different, and, while Perseus tries to minimize the complexities of managing both from your perspective, there are <em>many</em> Rust packages that won't run in the browser yet. By having separate dependency sections for each environment, we can decide explicitly which packages we want to be available where.</p>
<p>The first section is the usual one, pulling in dependencies that we want everywhere. Both <code>perseus</code> and <code>sycamore</code> are needed in the browser and on the server-side, so we put them here. Most of the packages you bring in yourself will go here too. As a general rule of thumb, put stuff here unless you're getting errors or trying to optimize your app (which we have a whole section on).</p>
<p>The second is <code>[target.'cfg(not(target_arch = &quot;wasm32&quot;))'.dependencies]</code>, which looks scary, but is actually pretty simple when you think about it. It defines the <code>dependencies</code> section only on the <code>target</code> (operating system) that matches the condition <code>cfg(not(target_arch = &quot;wasm32&quot;))</code> --- the target that's not <code>wasm32</code>, which is Rust's way of talking about the browser. This section contains engine-only dependencies. In other words, the code that runs in the browser will have no clude these even exist. We put two things in here: <code>tokio</code> and <code>perseus-warp</code>. The first is an asynchronous runtime that Perseus uses in the background (this means we can do stuff like compile three parts of your app at the same time, which speeds up builds). The second is one of those integration crates we were talking about earlier, with the <code>dflt-server</code> feature enabled, which makes it expose an extra function that just makes us a server that we don't have to think about. Unless you're writing custom API routes, this is all you need.</p>
<p>The third section is exactly the same as the previous, just without that <code>not(...)</code>, so this one defines dependencies that we use in the browser only. We've put <code>wasm-bindgen</code> here, which we could compile on the server, but it would be a little pointless, since Perseus only uses it behind the scenes in making your app work in the browser. (This is needed for a macro that a Perseus macro defines, which is why you have to import it yourself.)</p>
<p>Now we've got some really weird stuff, that you may not have seen before even if you've been working with Rust for a while. The next two sections, <code>[lib]</code> and <code>[bin]</code>, declare that <code>src/lib.rs</code> is both a binary <em>and</em> a library. What does that mean? Well, a library is something that exposes some functions, and that's what Wasm expects. But the engine needs a binary to not just expose code, but to run it as well. Conveniently, you can define these in the same place, and you can then annoy Cargo a little by telling it to treat <code>lib.rs</code> as both a binary and a library. This will print a little warning at the top of every <code>cargo</code> command you run in this directory, but there's no actual problem here.</p>
<p><em>Note: this solution isn't ideal, and the situation of this will be improved by the time v0.4.0 goes stable. The aim is to get Wasm to work with a binary rather than a library, which requires changing several things in the CLI.</em></p>
<p>The only other thing of note here is <code>crate-type</code> under the <code>[lib]</code> section, which makes your library compatible with Wasm. Unfortunately, Perseus has basically no control over the fact that that's required, and we'd like it to not be necessary too!</p>
<p>So, to summarize, there's a bunch of weird stuff in <code>Cargo.toml</code> for every Perseus app, but you usually don't have to care about it too much!</p>
</details>
<p>Next, we can get on with the app's actual code! Head over to <code>src/lib.rs</code> and put the following inside:</p>
<pre><code class="language-rust">{{#include ../../../examples/comprehensive/tiny/src/lib.rs}
</code></pre>
<p>This is your entire first app! Note that most Perseus app's won't actually look like this, we've condensed everything into 17 lines of code for simplicity.</p>
<details>
<summary>So that means something, does it?</summary>
<p>We've started off with some simple imports that we need, which we'll talk about as we get to them. The really important thing here is the <code>main()</code> function, which is annotated with the <code>#[perseus::main()]</code> <em>proc macro</em> (these are nifty things in Rust that let you define something, like a function, and then let the macro modify it). This macro isn't necessary, but it's very good for small apps, because there's actually fair bit of stuff happening behind the scenes here.</p>
<p>We also give that macro an argument, <code>perseus_integration::dflt_server</code>. You should change this to whatever integration you're using (we set up <code>perseus_warp</code> earlier). Every integration has a feature called <code>dflt-server</code> (which we enabled earlier in <code>Cargo.toml</code>) that exposes a function called <code>dflt_server</code> (notice how the packages use hyphens and the code uses underscores --- this is a Rust convention).</p>
<p>As you might have inferred, the argument we provide to the <code>#[perseus::main()]</code> macro is the function it will use to create a server for our app! You can provide something like <code>dflt_server</code> here if you don't want to think about that much more, or you can define an expansive API and use that here instead! (Note that there's actually a much better way to do this, which is addressed much later on.)</p>
<p>This function also takes a <em>generic</em>, or <em>type parameter</em>, called <code>G</code>. We use this to return a <code>PerseusApp</code> (which is the construct that contains all the information about our app) that uses <code>G</code>. This is essentially saying that we want to return a <code>PerseusApp</code> for something that implements the <code>Html</code> trait, which we imported earlier. This is Sycamore's way of expressing that this function can either return something designed for the browser, or for the engine. Specifically, the engine uses <code>SsrNode</code> (server-side rendering), and the browser uses <code>DomNode</code>/<code>HydrateNode</code>. Don't worry though, you don't need to understand these distinctions just yet.</p>
<p>The body of the function is where the magic happens: we define a new <code>PerseusApp</code> with our one template and some error pages. The template is called <code>index</code>, which is a special name that means it will be hosted at the index of our site --- it will be the landing page. The code for that template is a <code>view! { .. }</code>, which comes from Sycamore, and it's how we write things that the user can see. If you've used HTML before, this is the Rust version of that. It might look a bit daunting at first, but most people tend to warm to it fairly well after using it a little.</p>
<p>All this <code>view! { .. }</code> defines is a <code>p</code>, which is equivalent to the HTML <code>&lt;p&gt;&lt;/p&gt;</code>, a paragraph element. This is where we can put text for our site. The contents are the universal phrase, <code>Hello World!</code>.</p>
<p>You might be scratching your head about that <code>cx</code> though. Understandable. This is the <em>reactive scope</em> of the view, which is something complicated that you would need to understand much more about if you were using normal Sycamore. In Perseus, all you really need to know for the basics is that this is a thing that you need to give to every <code>view! { .. }</code>, and that your templates always take it as an argument. If you want to know what this actually does, you can read more about it <a href="https://sycamore-rs.netlify.app/docs/basics/reactivity">here</a>.</p>
<p>The last thing to note is the <code>ErrorPages</code>, which are an innovation of Perseus that force you to write fallback pages for situations like the user going to a page that doesn't exist (the infamous 404 error). You could leave these out in development, but when you go to production, Perseus will scream at you. The error pages we've defined here are dead simple: we're just using the universal fallback provided to <code>ErrorPages::new()</code>, which is used for everything, unless you provide specific error pages for errors like 404, 500, etc. This fallback page is told the URL the error occurred on, the HTTP status code, and the error itself.</p>
</details>
<p>With that all out of the way, add the following to <code>.gitignore</code>:</p>
<pre><code>dist/
</code></pre>
<p>That just tells Git not to pay any attention to the build artifacts that Perseus is about to create. Now run this command:</p>
<pre><code class="language-sh">perseus serve -w
</code></pre>
<p>Because this is the first time building your app, Cargo has to pull in a whole lot of stuff behind the scenes, so now would be a good time to fix yourself a beverage. Once it's done, you can see your app at <a href="http://localhost:8080">http://localhost:8080</a>, and you should be greeted pleasantly by your app! If you want to check out the error pages, go to <a href="http://localhost:8080/blah">http://localhost:8080/blah</a>, or any other page that doesn't exist.</p>
<p>Now, try updating that <code>Hello World!</code> message to be a little more like the first of its kind: <code>Hello, world!</code> Once you save the file, the CLI will immediately get to work rebuilding your app, and your browser will reload automatically when it's done!</p>
<p><em>Note: if you're finding the build process really slow, or if you're on older hardware, you should try switching to Rust's <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html#rustup-and-the-role-of-rust-nightly">nightly channel</a> for a faster compiler experience.</em></p>
<p>Now stop that command with <code>Ctrl+C</code> and run <code>perseus deploy</code> instead. This will take a very long time, but it will produce a <code>pkg/</code> directory that you could put on a real-world server, and it would be completely ready to serve your brand-new app! Because this app is so simple, you could even use <code>perseus deploy -e</code> instead to just produce a bunch of flat files that you could host from anywhere without needing a proper server.</p>
<p>All this has just scratched the surface of what's possible with Perseus, and there's so much more to learn! The next big things are about understanding some of the core principles behind Perseus, which should help you to understand why any of what you just did actually worked.</p>
</div></main></div></div></div></div><footer class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep" data-hk="3.28"><p data-hk="3.29" class="dark:text-white mx-5 text-center"><span data-hk="3.30">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script defer="" data-hk="2.1" src=".perseus/static/prism.js"></script><script data-hk="2.2">window.Prism.highlightAll();</script></div></div></div></body></html>