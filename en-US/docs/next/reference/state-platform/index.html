<!DOCTYPE html>
<html class="light"><head><base href="https://framesurge.sh/perseus/" />
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="stylesheet" href=".perseus/static/tailwind.css"/><link rel="stylesheet" href=".perseus/static/styles/style.css"/>
            <script type="module">window.__PERSEUS_RENDER_CFG = `{"docs/reference/strategies/request-state":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.4/reference/i18n/using":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.3.4/reference/templates/router-state":"docs","docs/next/what-is-perseus":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.3.0-0.3.3/ejecting":"docs","docs/reference/views":"docs","docs/0.4.x/reference/router":"docs","docs/reference/deploying/intro":"docs","docs/reference/i18n/using":"docs","docs/next/reference/compilation-times":"docs","docs/0.3.4/reference/plugins/publishing":"docs","docs/0.1.x/setup":"docs","docs/reference/templates/router-state":"docs","docs/next/fundamentals/testing":"docs","docs/reference/index-view":"docs","docs/0.2.x/config-managers":"docs","docs/0.1.x/arch":"docs","docs/0.3.4/reference/state/rx":"docs","docs/advanced/arch":"docs","docs/reference/templates/intro":"docs","docs/0.2.x/testing/manual":"docs","docs/0.2.x/second-app":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.1.x/routing":"docs","docs/0.2.x/define-app":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.3.4/reference/engines":"docs","docs/0.3.4/reference/strategies/revalidation":"docs","docs/0.3.0-0.3.3/advanced/arch":"docs","docs/reference/deploying/docker":"docs","docs/reference/plugins/tinker":"docs","docs/reference/strategies/build-paths":"docs","docs/0.3.4/reference/i18n/defining":"docs","docs/reference/testing/intro":"docs","docs/0.3.0-0.3.3/testing/manual":"docs","docs/advanced/route-announcer":"docs","docs/0.3.4/reference/plugins/using":"docs","docs/0.3.4/reference/testing/manual":"docs","docs/0.4.x/reference/initial_subsequent_loads":"docs","docs/0.3.0-0.3.3/strategies/revalidation":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.3.0-0.3.3/testing/intro":"docs","docs/next/first-app/generating-pages":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.3.4/reference/templates/metadata-modification":"docs","docs/0.1.x/serving":"docs","docs/reference/state/idb-freezing":"docs","docs/0.3.0-0.3.3/strategies/amalgamation":"docs","docs/next/reference/architecture":"docs","docs/0.3.4/reference/plugins/tinker":"docs","docs/0.3.4/reference/testing/fantoccini-basics":"docs","docs/0.3.4/reference/deploying/intro":"docs","docs/0.2.x/ejecting":"docs","docs/0.3.4/reference/state/freezing":"docs","plugins":"plugins","docs/0.3.0-0.3.3/plugins/security":"docs","docs/0.3.0-0.3.3/i18n/defining":"docs","docs/0.3.4/reference/define-app":"docs","docs/0.3.0-0.3.3/i18n/translations-managers":"docs","docs/0.3.4/reference/deploying/docker":"docs","docs/reference/testing/manual":"docs","docs/0.1.x/error_pages":"docs","docs/0.2.x/strategies/intro":"docs","docs/0.3.0-0.3.3/server-communication":"docs","docs/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.3/styling":"docs","docs/reference/cli":"docs","docs/reference/snooping":"docs","docs/0.2.x/debugging":"docs","docs/0.3.4/reference/pitfalls-and-bugs":"docs","docs/0.3.0-0.3.3/plugins/using":"docs","docs/0.3.0-0.3.3/templates/intro":"docs","docs/0.2.x/strategies/incremental":"docs","docs/next/reference/faq":"docs","docs/0.3.4/reference/deploying/serverful":"docs","docs/0.3.0-0.3.3/testing/fantoccini-basics":"docs","docs/0.3.4/reference/testing/intro":"docs","docs/next/reference/deploying":"docs","docs/tutorials/auth":"docs","docs/0.4.x/reference/migrating":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/0.3.4/reference/index-view":"docs","docs/0.3.0-0.3.3/static-content":"docs","docs/0.3.4/reference/stores":"docs","docs/reference/strategies/build-state":"docs","docs/next/first-app/error-handling":"docs","docs/0.3.4/what-is-perseus":"docs","docs/reference/deploying/serverful":"docs","docs/reference/state/hsr":"docs","docs/0.3.0-0.3.3/templates/setting-headers":"docs","docs/reference/testing/checkpoints":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/advanced/routing":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/0.4.x/core-principles":"docs","docs/0.4.x/reference/hydration":"docs","docs/reference/server-communication":"docs","docs/0.3.4/reference/strategies/intro":"docs","docs/0.4.x/reference/i18n":"docs","docs/reference/pitfalls-and-bugs":"docs","docs/0.4.x/reference/state-generation":"docs","docs/0.3.0-0.3.3/advanced/define_app":"docs","docs/0.3.4/reference/state/idb-freezing":"docs","docs/next/reference/initial_subsequent_loads":"docs","docs/0.3.4/reference/cli":"docs","docs/reference/debugging":"docs","docs/reference/plugins/control":"docs","docs/reference/perseus-app":"docs","docs/next/fundamentals/perseus-app":"docs","docs/0.3.0-0.3.3/i18n/other-engines":"docs","docs/reference/static-content":"docs","docs/reference/plugins/intro":"docs","docs/0.1.x/strategies/build_state":"docs","docs/next/reference/migrating":"docs","docs/0.1.x/intro":"docs","docs/0.4.x/reference/plugins":"docs","docs/0.3.0-0.3.3/templates/metadata-modification":"docs","docs/0.3.4/reference/strategies/request-state":"docs","docs/reference/plugins/functional":"docs","docs/next/fundamentals/static-content":"docs","docs/next/fundamentals/styling":"docs","docs/reference/state/global":"docs","docs/0.3.0-0.3.3/deploying/size":"docs","docs/reference/strategies/incremental":"docs","docs/0.3.4/reference/strategies/build-paths":"docs","docs/0.3.4/reference/i18n/intro":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.3.0-0.3.3/define-app":"docs","docs/0.3.4/advanced/initial-loads":"docs","docs/reference/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/i18n/intro":"docs","docs/0.3.0-0.3.3/strategies/intro":"docs","docs/0.4.x/reference/exporting":"docs","docs/0.3.4/reference/templates/setting-headers":"docs","docs":"docs","docs/reference/plugins/security":"docs","docs/0.4.x/reference/state-platform":"docs","docs/intro":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.3.4/reference/strategies/amalgamation":"docs","docs/0.3.4/reference/live-reloading":"docs","docs/reference/templates/setting-headers":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.2.x/styling":"docs","docs/next/fundamentals/routing":"docs","docs/next/quickstart":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.3.0-0.3.3/deploying/serverless":"docs","docs/0.3.4/reference/plugins/functional":"docs","docs/next/reference/state-platform":"docs","docs/0.2.x/updating":"docs","docs/0.2.x/strategies/request-state":"docs","docs/reference/ejecting":"docs","docs/0.2.x/i18n/intro":"docs","docs/next/reference/plugins":"docs","docs/0.3.4/reference/updating":"docs","docs/0.1.x/templates":"docs","docs/0.3.0-0.3.3/exporting":"docs","":"","docs/0.3.0-0.3.3/plugins/intro":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/0.3.0-0.3.3/plugins/writing":"docs","docs/reference/styling":"docs","docs/0.3.4/reference/plugins/security":"docs","docs/0.3.4/tutorials/second-app":"docs","docs/0.3.0-0.3.3/cli":"docs","docs/core-principles":"docs","docs/0.3.0-0.3.3/second-app":"docs","docs/0.3.0-0.3.3/debugging":"docs","docs/0.3.0-0.3.3/plugins/tinker":"docs","docs/0.3.4/reference/i18n/translations-managers":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/reference/strategies/amalgamation":"docs","docs/reference/plugins/publishing":"docs","docs/0.3.4/advanced/intro":"docs","docs/what-is-perseus":"docs","docs/next/reference/state-generation":"docs","docs/0.3.4/reference/snooping":"docs","docs/reference/define-app":"docs","docs/0.3.0-0.3.3/hello-world":"docs","docs/0.3.4/reference/server-communication":"docs","docs/0.2.x/templates/intro":"docs","docs/0.3.4/reference/plugins/control":"docs","docs/0.3.4/reference/state/global":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/reference/deploying/size":"docs","docs/0.3.0-0.3.3/deploying/serverful":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.3.4/reference/exporting":"docs","docs/reference/engines":"docs","docs/0.3.0-0.3.3/hydration":"docs","docs/next/first-app/installation":"docs","docs/next/fundamentals/i18n":"docs","docs/0.3.4/reference/perseus-app":"docs","docs/0.3.4/reference/deploying/serverless":"docs","docs/advanced/intro":"docs","docs/next/fundamentals/debugging":"docs","docs/0.4.x/reference/faq":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.3.0-0.3.3/deploying/relative-paths":"docs","docs/reference/deploying/serverless":"docs","docs/0.2.x/static-content":"docs","docs/0.3.0-0.3.3/snooping":"docs","docs/0.4.x/reference/compilation-times":"docs","docs/0.3.4/reference/templates/intro":"docs","docs/reference/hydration":"docs","docs/0.3.0-0.3.3/deploying/intro":"docs","docs/0.4.x/intro":"docs","docs/0.3.0-0.3.3/views":"docs","docs/0.3.4/reference/deploying/relative-paths":"docs","docs/0.4.x/reference/deploying":"docs","docs/reference/strategies/intro":"docs","docs/0.3.4/reference/i18n/other-engines":"docs","docs/reference/testing/fantoccini-basics":"docs","docs/next/fundamentals/preloading":"docs","docs/0.3.0-0.3.3/plugins/control":"docs","docs/reference/state/freezing":"docs","docs/0.4.x/reference/live-reloading-and-hsr":"docs","docs/0.3.4/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.3/what-is-perseus":"docs","docs/0.2.x/strategies/build-state":"docs","docs/next/core-principles":"docs","docs/0.2.x/cli":"docs","docs/0.3.4/tutorials/auth":"docs","docs/0.3.0-0.3.3/intro":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/0.3.4/reference/views":"docs","comparisons":"comparisons","docs/reference/i18n/other-engines":"docs","docs/next/first-app/deploying":"docs","docs/reference/error-pages":"docs","docs/0.3.4/reference/static-content":"docs","docs/0.3.4/reference/plugins/writing":"docs","docs/0.3.4/tutorials/hello-world":"docs","docs/0.3.0-0.3.3/plugins/functional":"docs","docs/reference/plugins/using":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/0.3.0-0.3.3/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/error-pages":"docs","docs/reference/updating":"docs","docs/next/fundamentals/reactor":"docs","docs/reference/stores":"docs","docs/0.2.x/error-pages":"docs","docs/0.3.0-0.3.3/strategies/request-state":"docs","docs/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/strategies/incremental":"docs","docs/next/reference/router":"docs","docs/next/first-app/dev-cycle":"docs","docs/0.3.0-0.3.3/advanced/routing":"docs","docs/0.3.4/reference/strategies/build-state":"docs","docs/0.3.0-0.3.3/pitfalls-and-bugs":"docs","docs/0.2.x/views":"docs","docs/0.1.x/config_managers":"docs","docs/next/fundamentals/hydration":"docs","docs/0.1.x/building":"docs","docs/0.2.x/hello-world":"docs","docs/0.3.4/reference/ejecting":"docs","docs/0.3.0-0.3.3/plugins/publishing":"docs","docs/0.4.x/reference/architecture":"docs","docs/tutorials/second-app":"docs","docs/0.3.0-0.3.3/i18n/using":"docs","docs/reference/plugins/writing":"docs","docs/reference/state/rx":"docs","docs/next/reference/live-reloading-and-hsr":"docs","docs/0.3.4/reference/state/hsr":"docs","docs/0.3.4/reference/deploying/size":"docs","docs/0.4.x/what-is-perseus":"docs","docs/0.3.4/reference/strategies/incremental":"docs","docs/0.3.4/advanced/routing":"docs","docs/0.3.4/reference/styling":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/next/reference/exporting":"docs","docs/0.2.x/i18n/using":"docs","docs/0.3.0-0.3.3/stores":"docs","docs/reference/exporting":"docs","docs/0.3.4/intro":"docs","docs/next/intro":"docs","docs/tutorials/hello-world":"docs","docs/next/fundamentals/error-views":"docs","docs/0.1.x/cli":"docs","docs/0.3.0-0.3.3/advanced/intro":"docs","docs/0.2.x/intro":"docs","docs/reference/live-reloading":"docs","docs/0.3.4/advanced/route-announcer":"docs","docs/reference/strategies/revalidation":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.3.0-0.3.3/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.3/updating":"docs","docs/next/reference/hydration":"docs","docs/0.3.4/reference/testing/checkpoints":"docs","docs/next/first-app/defining":"docs","docs/reference/templates/metadata-modification":"docs","docs/0.3.4/advanced/arch":"docs","docs/0.3.0-0.3.3/strategies/build-paths":"docs","docs/0.3.0-0.3.3/deploying/docker":"docs","docs/reference/deploying/relative-paths":"docs","docs/0.3.4/reference/error-pages":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.3.4/core-principles":"docs","docs/next/fundamentals/serving-exporting":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/0.3.4/reference/debugging":"docs","docs/reference/i18n/intro":"docs","docs/0.3.0-0.3.3/strategies/build-state":"docs","docs/next/reference/i18n":"docs","docs/reference/i18n/defining":"docs","docs/0.3.4/reference/plugins/intro":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.3/testing/checkpoints":"docs","docs/0.3.4/reference/hydration":"docs","docs/next/fundamentals/js-interop":"docs","docs/0.4.x/features":"docs","docs/0.2.x/testing/intro":"docs"}`;

        import init from "https://framesurge.sh/perseus/.perseus/bundle.js";
        async function main() {
            await init("https://framesurge.sh/perseus/.perseus/bundle.wasm");
        }
        main();

        
        

window.__PERSEUS_GLOBAL_STATE = `null`;</script>
            <meta itemprop="__perseus_head_boundary" content="">
            
<title>The State Platform | Perseus Docs</title><link rel="stylesheet" href=".perseus/static/styles/markdown.css"/><link rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css"/><link rel="stylesheet" href=".perseus/static/prism.css"/>
            <script>
window.__PERSEUS_INITIAL_STATE = `{"content":"<h1>The State Platform</h1>\\n<p>One of the features Perseus proclaims most is its advanced <em>state platform</em>, which isn't the simplest concept to explain, but it forms the 'secret sauce' that makes Perseus so powerful. As discussed on the <a href=\\"https://framesurge.sh/perseus/en-US/docs/next/core-principles\\">core principles page</a>, Perseus uses a template/page model, such that a page is the product of state going into a template, and you can generate that state in all sorts of ways. Now, let's dive into the specifics on this.</p>\\n<p>One of the most powerful features of Perseus' state platform is that it spans both the engine-side and the browser-side: you can generate state in all sorts of ways on the engine-side (see the <a href=\\"https://framesurge.sh/perseus/en-US/docs/next/reference/state-generation\\">state generation page</a>), and then, when that state gets to your pages, it's 'reactive'. But what does this actually mean? Well, let's take an example state that a page in a music app might use:</p>\\n<pre><code class=\\"language-rust\\">#[derive(Serialize, Deserialize, ReactiveState)]\\nstruct Song {\\n    title: String,\\n    #[rx(nested)]\\n    artist: Artist,\\n    year: u32,\\n    #[rx(nested)]\\n    album: Album,\\n}\\n#[derive(Serialize, Deserialize, ReactiveState)]\\nstruct Album {\\n    title: String,\\n    #[rx(nested)]\\n    artist: Artist,\\n    year: u32,\\n    ty: AlbumType,\\n    cover_art_url: String,\\n}\\n#[derive(Serialize, Deserialize)]\\nenum AlbumType {\\n    Single,\\n    EP,\\n    Album,\\n}\\n#[derive(Serialize, Deserialize, ReactiveState)]\\nstruct Artist {\\n    name: String,\\n    bio: String,\\n    profile_pic_url: String,\\n}\\n</code></pre>\\n<p>Now, this is pretty complex for an example, and rightly so, we're going to dive into exactly how a real app might use Perseus' reactive state platform! Note that this will be a bit of a contrived example, since you probably wouldn't need <em>reactive</em> state in a music app, but that means we can use this example for both reactive and unreactive state!</p>\\n<h2>State Generation</h2>\\n<p>The first step in all this is actually getting some instances of this state, since we can't do anything with the state unless we know what it is! Above, we've defined a schema for it, but we need some actual values in there now. If we imagine there's a database of everything we need, we could use one of Perseus' many <a href=\\"https://framesurge.sh/perseus/en-US/docs/next/reference/state-generation\\">state generation strategies</a> to get that state at build-time, or even incrementally as users visit certain URLs, getting state as necessary. Since there's a <a href=\\"https://framesurge.sh/perseus/en-US/docs/next/reference/state-generation\\">whole separate page</a> on this, we'll leave it there for this, just imagine we've somehow gotten instances of our state into Perseus. Note that this stage will also involve defining all the paths under the URL <code>/song</code> that we want to create.</p>\\n<h2>Passing State to a Template</h2>\\n<p>Now that we have our many states (one for each song), we need to pass it to our <code>song</code> template, and use it to generate a number of pages. <strong>This entire stage is automatic, and occurs behind the scenes.</strong> In essence, Perseus will take in all the paths you've told it about, and it will get the state for those in parallel (e.g. you read a database to tell it about all the songs, and then it fetches each one and gets its state), building all the pages you need. Now, obviously, this involves sending the state you've generated to a page (we'll focus on just one page from now on, for simplicity), so how does this happen?</p>\\n<p>Well, when you generated state, you generated an instance of <code>Song</code>, but, if we want our state to be <em>reactive</em>, then we'll have to do better. Reactive state is state that you can call <code>.get()</code> and <code>.set()</code> on. The most obvious usage of it is inside a form: let's say you're building a user interface that involves the user inputting some values, well, you could use Sycamore's <code>bind:value</code> on each of the <code>input</code> elements to store the state of each input reactively. But, rather than creating all the variables to do this inside your template, you can accept these as state, like so:</p>\\n<pre><code class=\\"language-rust\\">#[template]\\nfn my_template&lt;'a, G: Html&gt;(cx: Scope&lt;'a&gt;, state: PageStateRx&lt;'a&gt;) -&gt; View&lt;G&gt; {\\n    view! { cx,\\n        form {\\n            input(bind:value = state.name, placeholder = &quot;Name&quot;)\\n            input(bind:value = state.email, placeholder = &quot;Email&quot;)\\n            // ...\\n        }\\n    }\\n}\\n</code></pre>\\n<p>See what we mean? It's much more convenient if every single one of the fields of <code>state</code> is <em>reactive</em>, meaning it's wrapped in a Sycamore <code>Signal</code>. (If you haven't read the Sycamore docs yet, now would be a good time!) Otherwise, you'd have to create all the <code>Signal</code>s you need at the start of your template function.</p>\\n<p>But this isn't just for convenience, it also serves a practical function: Perseus automatically caches all reactive state internally, meaning the changes the user makes to those inputs will be reflected inside Perseus' cache. And, when they come back to that page later, <em>the state will be restored from the cache</em>, meaning the inputs are just as they left them. This means users can navigate fearlessly around any Perseus app using reactive state, without fear of losing their place.</p>\\n<p><em>(It actually gets even better than this, but keep reading!)</em></p>\\n<p>Now, what matters behind the scenes is that we can turn the unreactive state you gave to Perseus into reactive state. Since we're making all the fields of the <code>Song</code> <code>struct</code> reactive, in the above example, this will involve a macro: <code>#[derive(ReactiveState)]</code> (we also derive <code>Serialize</code> and <code>Deserialize</code> from Serde, since Perseus needs to send this state over a network connection from server to browser). Now, this derive macro is more complex than most: it takes in the <code>struct</code> you give it, and derives the <code>MakeRx</code> trait on it, which means it can be converted into some reactive type. Then, it actually <em>creates</em> a whole new <code>struct</code> called <code>SongPerseusRxIntermediate</code> (which you should never have to touch) that has all its fields wrapped in <code>RcSignal</code>s. The reason we don't just go straight to a <code>Signal</code> is because, as we mentioned earlier, Perseus caches all reactive state at the application-level, which means it has to outlive all your templates, so, for the lifetimes to work out, we use <code>RcSignal</code>s.</p>\\n<p>Now, if you've worked with lifetimes long enough in Sycamore (no problem if you haven't), you'll know that this will lead to some really poor ergonomics: using <code>RcSignal</code>s, we would have to <code>.clone()</code> almost everything we want to use inside <code>view!</code>. But, this is where that macro comes to the rescue again! It creates <em>another</em> <code>struct</code> called <code>SongPerseusRxRef</code> (which you shouldn't have to touch by that name, we'll get to naming), which has all the fields of the original <code>Song</code> wrapped in <code>&amp;'cx RcSignal</code>, where <code>cx</code> is the lifetime of the page the state is being used in. Basically, you can imagine it like this: we take unreactive state, make it reactive at the application-level, and then register it as a reference on each page it's used in when we need to, to get the best ergonomics possible.</p>\\n<p>But, if it encounters an <code>#[rx(nested)]</code> helper macro on any of your fields, it will assume the type of that field also has <code>ReactiveState</code> derived, and it will automatically use the reactive version of it. In our example above, this means we wouldn't be getting the artist of a song's name by going <code>song.artist.get().name</code>, we could use the far better <code>song.artist.name.get()</code>! This improves ergonomics substantially in complex apps (while also allowing <em>very</em> fine-grained state control).</p>\\n<p>[TODO implementation on <code>Vec</code> etc.]</p>\\n<p>Importantly, especially if you ever need to implement all this without the macro (e.g. if your page's state is an <code>enum</code> rather than a <code>struct</code>), the intermediate reactive type (the one with pure <code>RcSignal</code>s) implements three traits: <code>MakeUnrx</code> (which allows it to be turned back into a <code>Song</code>), <code>MakeRxRef</code> (which allows it to be turned into the final type using references), and <code>Freeze</code> (we'll get to this). The original <code>Song</code> just implements <code>MakeRx</code>, and the final reference <code>struct</code> implements <code>RxRef</code>, a simple linking trait that has no methods, but that just defines the <code>RxNonRef</code> associated type to be the intermediate type. By linking the three types together like this, Perseus can take in whichever is most ergonomically convenient and work with it! For instance, there are plenty of internal methods that have access to the intermediate type, but that need to go back to the original, and they easily can with this mechanism.</p>\\n<p>So, in the <code>#[template]</code> macro, Perseus takes in your generated, unreactive state, and checks if a reactive version has already been cached (e.g. the user has already been to this page). If there is, it'll use that, and, otherwise, it'll make the unreactive thing it was given reactive, cache that for the first time for future use, and then give a reference version to your code! Since this code is basically the same for every template, we do it with a macro to minimize the overhead.</p>\\n<p><em>Note: there are plans currently to remove the <code>#[template]</code> macro entirely, eventually, though this will involve significant alterations to the Perseus core.</em></p>\\n<p>Of course, you probably don't want to reference your reactive type using something like <code>&lt;&lt;Song as ::perseus::state::MakeRx&gt;::Rx as ::perseus::state::MakeRxRef&gt;::RxRef&lt;'__derived_rx&gt;;</code>, so you can use the <code>#[rx(alias = &quot;SongRx&quot;)]</code> helper macro to define an alias for the final reactive reference <code>struct</code>, which takes the same lifetime as the Sycamore <code>Scope</code> of the page it's being used in.</p>\\n<h2>Unreactive State</h2>\\n<p>The other thing we could do is have out song state be unreactive, since, after all, it's pretty unlikely that the user is going to be renaming a song inside our music app (remember that the <code>.set()</code> method simply changes the state locally, it doesn't change anything on the engine-side or in a database, unless you code that yourself).</p>\\n<p>To do this, we would remove all those <code>#[rx(nested)]</code> helper macros, and simply change <code>ReactiveState</code> to <code>UnreactiveState</code> in that <code>#[derive(...)]</code> call at the top. (We also wouldn't need to derive <code>ReactiveState</code> or <code>UnreactiveState</code> on anything other than <code>Song</code>). Importantly, you'll also need to change <code>#[template]</code> to <code>#[template(unreactive)]</code> in the function you're using to render <code>Song</code>s.</p>\\n<p>Now, you're probably wondering why on earth we have to specially derive <code>UnreactiveState</code>, when we're just going to get the exact same thing as we generated! Well, your type still has implement the special <code>Freeze</code> trait, and the Perseus state platform is built for storing explicitly reactive state. So, what that <code>UnreactiveState</code> derive macro actually does is basically exactly the same as the <code>ReactiveState</code> macro, except, rather than wrapping your fields in <code>Signal</code>s, it uses a special <code>UnreactiveState</code> wrapper, which basically makes your state <em>look</em> reactive to Perseus, but, when you use <code>#[template(unreactive)]</code>, it can know to get rid of those wrappers and give you the original type you generated.</p>\\n<h2>Freezing</h2>\\n<p>Earlier, we mentioned a <code>Freeze</code> trait that the intermediate reactive type implements, which is the core of Perseus' unique <em>state freezing</em> system. Up to now, we have the ability with Perseus to let users go between pages and have the state of each page stored perfectly, as long as they're still on the site. Of course, once they leave the site, or reload the page, that will all be lost, but what if we could preserve it somehow?</p>\\n<p>Well, conveniently, all the state in a Perseus app has to be both <code>Serialize</code> and <code>Deserialize</code>, since it needs to be turned into a <code>String</code> to be sent from the server to the user's browser. But, what if we took all the intermediate reactive types in an app, converted them back into their unreactive versions, and serialized those to <code>String</code>s? What if we added some internal Perseus state, any global state, and the current route? Put that all together as a JSON object, and you would have a <code>String</code> representation of the <em>exact</em> state of an app, from a user's perspective.</p>\\n<p><em>That</em> is what the <code>Freeze</code> trait enables. As explained above, to achieve this, you would need to take each intermediate reactive type, turn it into its unreactive version, and serialize it to a <code>String</code>. To allow flexibility in this, Perseus requires such intermediate types to implement <code>Freeze</code>, which just has the <code>.freeze()</code> method, which simply produces a <code>String</code> representation of that type.</p>\\n<p>If you want to see how you can freeze and entire Perseus app, check out <a href=\\"https://github.com/framesurge/perseus/tree/main/examples/core/freezing_and_thawing\\">this example</a>. Alternately, take a look at <a href=\\"https://github.com/framesurge/perseus/tree/main/examples/core/idb_freezing\\">this one</a> to see how you can easily store the resulting frozen app to IndexedDB (a native in-browser storage system)!</p>\\n<p>Of course, if we can freeze, we need to be able to <em>thaw</em> too, right? Well, Perseus makes this pretty much trivial, since you can register a frozen app <code>String</code> that will be progressively unwrapped as necessary. In essence, rather than restoring the whole state of the app at once, Perseus simply restores the internal state and takes the user to whatever route they were on at the last freeze, and then restores each page's state on-demand: we leave it frozen until the user goes to that exact page. The same thing applies to the global state: it will only be thawed when it's first used. That not only mitigates the need for you to specify all your state types to a single thaw command, but it also means that any page states that are no longer valid can be silently ignored (e.g. if the app's code has changed since the freeze). This means users get the best replication of the previous state possible, even if the thaw is years later.</p>\\n<p>As a side note, this is exactly how Perseus' HSR (hot state reloading) system works! In JavaScript frameworks, you can split up all your JS files into many small <em>chunks</em>, and then, when you as a developer change some code and want to see the result, the framework just reloads the necessary chunks, meaning most things should stay the same. Since we can't chunk Wasm files (yet), Perseus just freezes your app's state to IndexedDB, and restores it after a page reload. From your perspective, the page has reloaded to exactly the same place. When you're fifteen pages into a login form and trying to realign a button, making sure you don't have to go back to beginning of that flow whenever you change some code becomes pretty useful! That said, you can easily disable HSR by turning off the default feature flag <code>hsr</code>.</p>\\n","current_version":"next","manifest":{"0.1.x":{"docs_rs":"0.1","git":"v0.1.4","state":"outdated"},"0.2.x":{"docs_rs":"0.2","git":"v0.2.3","state":"outdated"},"0.3.0-0.3.3":{"docs_rs":"0.3.3","git":"v0.3.3","state":"outdated"},"0.3.4":{"docs_rs":"0.3","git":"v0.3.6","state":"stable"},"0.4.x":{"docs_rs":"0.4.0-beta","git":"HEAD","state":"beta"}},"sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/intro\\">Introduction</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/quickstart\\">Quickstart</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/core-principles\\">Core Principles</a></li>\\n</ul>\\n<h1>Your First App</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/installation\\">Installing Perseus</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/defining\\">Defining your app</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/generating-pages\\">Generating pages</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/dev-cycle\\">Development cycle</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/error-handling\\">Error handling</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/deploying\\">Deploying your app</a></li>\\n</ul>\\n<h1>Fundamentals</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/perseus-app\\"><code>PerseusApp</code></a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/reactor\\">The reactor</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/routing\\">Routing and navigation</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/preloading\\">Preloading</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/i18n\\">Internationalization</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/error-views\\">Error views</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/static-content\\">Static content</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/styling\\">Styling</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/js-interop\\">Working with JS</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/serving-exporting\\">Servers and exporting</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/testing\\">Writing tests</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/plugins\\">Plugins</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/compilation-times\\">Improving Compilation Times</a></li>\\n</ul>\\n<h1>The State Platform</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/intro\\">Understanding state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/build\\">Build-time state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/request\\">Request-time state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/incremental\\">Incremental generation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/browser\\">Using state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/global\\">Global state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/helper\\">Helper state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/suspense\\">Suspended state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/freezing-thawing\\">Freezing and thawing</a></li>\\n</ul>\\n<h1>Capsules</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/capsules/intro\\">Introduction</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/capsules/capsules-vs-templates\\">Capsules vs. templates</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/capsules/delayed\\">Delayed widgets</a></li>\\n</ul>\\n<h1>Miscellaneous</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/migrating\\">Migrating from v0.3.x</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/faq\\">Common pitfalls and FAQs</a></li>\\n</ul>\\n","status":"Next","title":"The State Platform"}`;
window.__PERSEUS_INITIAL_WIDGET_STATES = `{}`;
window.__PERSEUS_TRANSLATIONS = `{
    "perseus": "Perseus",
    "sycamore": "Sycamore",
    "navlinks.docs": "Docs",
    "navlinks.comparisons": "Comparisons",
    "navlinks.plugins": "Plugins",
    "index-intro.heading": "The Rust framework for the modern web",
    "index-intro.get-started-button": "Get started now",
    "index-intro.github-button": "GitHub",
    "index-state-gen.heading": "Generate state, on your terms",
    "index-state-gen.desc": "Perseus apps can generate state whenever they like and pass it to <a href=\\"https://github.com/sycamore-rs/sycamore\\" class=\\"underline\\">Sycamore</a>, one of the fastest web frameworks in the world.",
    "index-i18n.heading.start": "I18n",
    "index-i18n.heading.rest": " that just works",
    "index-i18n.heading.tooltip": "Internationalization",
    "index-i18n.desc": "Just add translations using <a href=\\"https://projectfluent.org\\" class=\\"underline\\">Fluent</a>, and your app can be set up in seconds in multiple languages, with automatic user locale detection.",
    "index-opts.heading": "You want options? We got options.",
    "index-opts.desc": "Perseus comes with a built-in plugins system and full customizability of almost every part of the system. Static exporting? Serverful deployment? Fetch data by carrier pigeon? Easy.",
    "index-speed.heading": "Fast. Crazy. Fast.",
    "index-speed.desc-line-1": "Underlying platform? <strong>Rust.</strong>",
    "index-speed.desc-line-2": "Target platform? <strong>WebAssembly.</strong>",
    "index-speed.desc-line-3": "Lighthouse scores? <strong>💯</strong>",
    "index-speed.desktop-perf-label": "Performance (Desktop)",
    "index-speed.mobile-perf-label": "Performance (Mobile)",
    "index-speed.best-practices-label": "Best Practices",
    "index-cta.heading": "Get started with Perseus today!",
    "index-cta.docs-button": "Docs",
    "index-cta.gh-button": "GitHub",
    "index-cta.api-docs-button": "API Docs",
    "index-cta.crates-io-button": "Crates.io",
    "index-cta.matrix-button": "Matrix",
    "index-cta.discord-button": "Discord",
    "index-cta.comparisons-button": "Comparisons",
    "footer.copyright": "© <a href=\\"https://github.com/arctic-hen7\\" class=\\"underline\\">arctic-hen7</a> { $years }, see license <a href=\\"https://github.com/arctic-hen7/perseus/blob/main/LICENSE\\" class=\\"underline\\">here</a>.",
    "comparisons-title": "Comparisons to Other Frameworks",
    "comparisons-heading": "Comparisons",
    "comparisons-subtitle": "See how Perseus compares to other web development frameworks.",
    "comparisons-extra": "Is there anything we're missing here? Please <a href =\\"https://github.com/framesurge/perseus/issues/new/choose\\" class=\\"underline\\">open an issue</a> and let us know!",
    "comparisons-table-header": "Comparison",
    "comparisons-table-headings.name": "Name",
    "comparisons-table-headings.supports_ssg": "Static generation",
    "comparisons-table-headings.supports_ssr": "Server-side rendering",
    "comparisons-table-headings.supports_ssr_ssg_same_page": "SSG & SSR in same page",
    "comparisons-table-headings.supports_i18n": "Internationalization",
    "comparisons-table-headings.supports_incremental": "Incremental generation",
    "comparisons-table-headings.supports_revalidation": "Revalidation",
    "comparisons-table-headings.inbuilt_cli": "Inbuilt CLI",
    "comparisons-table-headings.inbuilt_routing": "Routing support",
    "comparisons-table-headings.supports_shell": "App shell",
    "comparisons-table-headings.supports_deployment": "Easy deployment",
    "comparisons-table-headings.supports_exporting": "Static exporting",
    "comparisons-table-headings.language": "Language",
    "comparisons-table-headings.homepage_lighthouse_desktop": "Homepage Lighthouse Score (Desktop)",
    "comparisons-table-headings.homepage_lighthouse_mobile": "Homepage Lighthouse Score (Mobile)",
    "comparisons-table-details.supports_ssg": "Whether or not the framework supports pre-rendering pages at build-time.",
    "comparisons-table-details.supports_ssr": "Whether or not the framework supports rendering pages dynamically when they're requested.",
    "comparisons-table-details.supports_ssr_ssg_same_page": "Whether or not the framework supports SSG and SSR (see above) in the very same page.",
    "comparisons-table-details.supports_i18n": "Whether or not the framework supports building a multilingual app. Some frameworks support this through plugins.",
    "comparisons-table-details.supports_incremental": "Whether or not the framework supports rendering pages on-demand and then caching them for future use.",
    "comparisons-table-details.supports_revalidation": "Whether or not the framework supports rebuilding pages that were built at build-time at request-time. Some frameworks can do this by time, or by custom logic. Perseus supports both.",
    "comparisons-table-details.inbuilt_cli": "Whether or not the framework has a command-line interface for convenient usage. Some frameworks use third-party CLIs.",
    "comparisons-table-details.inbuilt_routing": "Whether or not the framework supports inbuilt routing. Most frameworks have their own way of doing this if they do support it.",
    "comparisons-table-details.supports_shell": "Whether or not this framework has an app shell, which makes switching pages much faster and cleaner.",
    "comparisons-table-details.supports_deployment": "Whether or not this framework supports easy deployment. Perseus can deploy in one command.",
    "comparisons-table-details.supports_exporting": "Whether or not this framework can operate without a server, as a series of purely static files.",
    "comparisons-table-details.language": "The programming language this framework is built in. (Hint: Rust is the fastest!)",
    "comparisons-table-details.homepage_lighthouse_desktop": "The Lighthouse score out of 100 for desktop (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-table-details.homepage_lighthouse_mobile": "The Lighthouse score out of 100 for mobile (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-sycamore-heading": "Perseus vs Sycamore",
    "comparisons-sycamore-text": "Perseus is a framework that uses Sycamore to write views (the things users see), so there's not much point in comparing the two as competitors. However, Sycamore can be used without Perseus, which works perfectly well, though you'll miss out on features like inbuilt internationalization, static generation (though you could build this yourself), and incremental generation. If you want to build just a bit of your site with Rust, Sycamore is the perfect tool, Perseus is a full framework designed for building entire websites.",
    "comparisons-unknown-heading": "Perseus vs { $name }",
    "docs-title-base": "Perseus Docs",
    "docs-status.outdated": "This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.beta": "This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.next": "This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-version-switcher.next": "Next (unreleased)",
    "docs-version-switcher.beta": "v{ $version } (beta)",
    "docs-version-switcher.stable": "v{ $version } (stable)",
    "docs-version-switcher.outdated": "v{ $version } (outdated)",
    "plugins-title": "Plugins",
    "plugins-title-full": "Perseus Plugins",
    "plugin-card-author": "By { $author }",
    "plugin-details.repo_link": "Repository:",
    "plugin-details.crates_link": "Crate page:",
    "plugin-details.docs_link": "Docs:",
    "plugin-details.site_link": "Site:",
    "plugin-details.metadata_heading": "Metadata",
    "plugin-details.no_link_text": "N/A",
    "plugin-search.placeholder": "Search",
    "plugin-search.no_results": "No results found.",
    "plugins-desc": "These are all the public plugins for Perseus! If you've made a plugin, and you'd like it to be listed here, please open an issue on our repository!",
    "search": "Search the docs",
    "index-example-switcher.excerpts": "Excerpts",
    "index-example-switcher.full": "Full"
}
`;</script>
            <meta itemprop="__perseus_head_end" content="">
            <script>//</script>
            </head><body class="bg-white dark:bg-neutral-900"><div id="root"><header data-hk="8.0" class="shadow-md sm:p-2 w-full mb-20 bg-neutral-500/30 backdrop-blur-lg text-black dark:text-white"><div data-hk="8.1" class="flex justify-between items-center"><a data-hk="8.2" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl text-bold title-font" href="en-US/">Perseus</a><div data-hk="8.3" class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div data-hk="8.4" class="tham-box"><div data-hk="8.5" class="tham-inner bg-black dark:bg-white"></div></div></div><nav data-hk="8.6" class="hidden md:flex"><ul data-hk="8.7" class="mr-5 flex"><li data-hk="9.0" class="m-3 p-1 title-font"><a data-hk="9.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="9.2" class="m-3 p-1 title-font"><a data-hk="9.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="9.4" class="m-3 p-1 title-font"><a data-hk="9.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul></nav></div><nav data-hk="8.8" id="mobile_nav_menu" class="md:hidden w-full text-center justify-center hidden"><ul data-hk="8.9" class="mr-5"><li data-hk="10.0" class="m-3 p-1 title-font"><a data-hk="10.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="10.2" class="m-3 p-1 title-font"><a data-hk="10.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="10.4" class="m-3 p-1 title-font"><a data-hk="10.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul><hr data-hk="2.0"/><div data-hk="2.1" class="text-left p-3 overflow-y-scroll h-[60vh]"><div data-hk="2.2" class="flex w-full justify-center text-center"><div data-hk="2.3" class="max-w-3xl flex flex-col"><!--#--><!----><!--/--><!----><!--#--><!----><select data-hk="4.4" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="4.5" value="next" selected="">Next (unreleased)</option><option data-hk="4.0" value="0.4.x">v0.4.x (beta)</option><option data-hk="4.6" value="0.3.4">v0.3.4 (stable)</option><option data-hk="4.1" value="0.3.0-0.3.3">v0.3.0-0.3.3 (outdated)</option><option data-hk="4.2" value="0.2.x">v0.2.x (outdated)</option><option data-hk="4.3" value="0.1.x">v0.1.x (outdated)</option></select><!--/--></div></div><div data-hk="2.4" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/intro">Introduction</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/quickstart">Quickstart</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
</ul>
<h1>Your First App</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/installation">Installing Perseus</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/defining">Defining your app</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/generating-pages">Generating pages</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/dev-cycle">Development cycle</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/error-handling">Error handling</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/deploying">Deploying your app</a></li>
</ul>
<h1>Fundamentals</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/perseus-app"><code>PerseusApp</code></a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/reactor">The reactor</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/routing">Routing and navigation</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/preloading">Preloading</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/i18n">Internationalization</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/error-views">Error views</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/hydration">Hydration</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/static-content">Static content</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/styling">Styling</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/js-interop">Working with JS</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/serving-exporting">Servers and exporting</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/debugging">Debugging</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/testing">Writing tests</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/plugins">Plugins</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/compilation-times">Improving Compilation Times</a></li>
</ul>
<h1>The State Platform</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/intro">Understanding state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/build">Build-time state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/request">Request-time state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/revalidation">Revalidation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/incremental">Incremental generation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/browser">Using state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/global">Global state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/helper">Helper state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/suspense">Suspended state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/freezing-thawing">Freezing and thawing</a></li>
</ul>
<h1>Capsules</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/capsules/intro">Introduction</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/capsules/capsules-vs-templates">Capsules vs. templates</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/capsules/delayed">Delayed widgets</a></li>
</ul>
<h1>Miscellaneous</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/migrating">Migrating from v0.3.x</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/faq">Common pitfalls and FAQs</a></li>
</ul>
</div></div></nav></header><main data-hk="2.20" id="scroll-container"><div data-hk="2.5" class="flex w-full"><div data-hk="2.6" class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 hidden md:block max-w-xs w-full border-r overflow-y-auto"><div data-hk="2.7" class="mr-5"><div data-hk="2.8" class="text-left text-black dark:text-white p-3"><aside data-hk="2.9"><div data-hk="2.10" class="flex flex-col"><!--#--><!----><!--/--><!----><!--#--><!----><select data-hk="6.4" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="6.5" value="next" selected="">Next (unreleased)</option><option data-hk="6.0" value="0.4.x">v0.4.x (beta)</option><option data-hk="6.6" value="0.3.4">v0.3.4 (stable)</option><option data-hk="6.1" value="0.3.0-0.3.3">v0.3.0-0.3.3 (outdated)</option><option data-hk="6.2" value="0.2.x">v0.2.x (outdated)</option><option data-hk="6.3" value="0.1.x">v0.1.x (outdated)</option></select><!--/--></div><div data-hk="2.11" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/intro">Introduction</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/quickstart">Quickstart</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
</ul>
<h1>Your First App</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/installation">Installing Perseus</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/defining">Defining your app</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/generating-pages">Generating pages</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/dev-cycle">Development cycle</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/error-handling">Error handling</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/first-app/deploying">Deploying your app</a></li>
</ul>
<h1>Fundamentals</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/perseus-app"><code>PerseusApp</code></a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/reactor">The reactor</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/routing">Routing and navigation</a>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/preloading">Preloading</a></li>
</ul>
</li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/i18n">Internationalization</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/error-views">Error views</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/hydration">Hydration</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/static-content">Static content</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/styling">Styling</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/js-interop">Working with JS</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/serving-exporting">Servers and exporting</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/debugging">Debugging</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/testing">Writing tests</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/plugins">Plugins</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/fundamentals/compilation-times">Improving Compilation Times</a></li>
</ul>
<h1>The State Platform</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/intro">Understanding state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/build">Build-time state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/request">Request-time state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/revalidation">Revalidation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/incremental">Incremental generation</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/browser">Using state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/global">Global state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/helper">Helper state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/suspense">Suspended state</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/state/freezing-thawing">Freezing and thawing</a></li>
</ul>
<h1>Capsules</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/capsules/intro">Introduction</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/capsules/capsules-vs-templates">Capsules vs. templates</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/capsules/delayed">Delayed widgets</a></li>
</ul>
<h1>Miscellaneous</h1>
<ul>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/migrating">Migrating from v0.3.x</a></li>
<li><a href="https://framesurge.sh/perseus/en-US/docs/next/faq">Common pitfalls and FAQs</a></li>
</ul>
</div></aside></div></div></div><div data-hk="2.12" class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 grid grid-rows-[1fr_min-content] w-full overflow-y-auto"><div data-hk="2.13" class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl min-w-0"><!--#--><div data-hk="2.14" class="ring-4 ring-orange-400 p-4 rounded-lg mt-1"><div data-hk="2.15" class="flex flex-col 2xs:flex-row dark:text-white"><span data-hk="2.16" class="self-center mr-2" style="fill: #fb923c;"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk="2.17">This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href="en-US/docs/0.3.4/intro" class="underline">here</a>.</p></div></div><!--/--><main data-hk="2.18" class="text-black dark:text-white"><div data-hk="1.0" class="markdown min-w-0 pb-10"><h1>The State Platform</h1>
<p>One of the features Perseus proclaims most is its advanced <em>state platform</em>, which isn't the simplest concept to explain, but it forms the 'secret sauce' that makes Perseus so powerful. As discussed on the <a href="https://framesurge.sh/perseus/en-US/docs/next/core-principles">core principles page</a>, Perseus uses a template/page model, such that a page is the product of state going into a template, and you can generate that state in all sorts of ways. Now, let's dive into the specifics on this.</p>
<p>One of the most powerful features of Perseus' state platform is that it spans both the engine-side and the browser-side: you can generate state in all sorts of ways on the engine-side (see the <a href="https://framesurge.sh/perseus/en-US/docs/next/reference/state-generation">state generation page</a>), and then, when that state gets to your pages, it's 'reactive'. But what does this actually mean? Well, let's take an example state that a page in a music app might use:</p>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, ReactiveState)]
struct Song {
    title: String,
    #[rx(nested)]
    artist: Artist,
    year: u32,
    #[rx(nested)]
    album: Album,
}
#[derive(Serialize, Deserialize, ReactiveState)]
struct Album {
    title: String,
    #[rx(nested)]
    artist: Artist,
    year: u32,
    ty: AlbumType,
    cover_art_url: String,
}
#[derive(Serialize, Deserialize)]
enum AlbumType {
    Single,
    EP,
    Album,
}
#[derive(Serialize, Deserialize, ReactiveState)]
struct Artist {
    name: String,
    bio: String,
    profile_pic_url: String,
}
</code></pre>
<p>Now, this is pretty complex for an example, and rightly so, we're going to dive into exactly how a real app might use Perseus' reactive state platform! Note that this will be a bit of a contrived example, since you probably wouldn't need <em>reactive</em> state in a music app, but that means we can use this example for both reactive and unreactive state!</p>
<h2>State Generation</h2>
<p>The first step in all this is actually getting some instances of this state, since we can't do anything with the state unless we know what it is! Above, we've defined a schema for it, but we need some actual values in there now. If we imagine there's a database of everything we need, we could use one of Perseus' many <a href="https://framesurge.sh/perseus/en-US/docs/next/reference/state-generation">state generation strategies</a> to get that state at build-time, or even incrementally as users visit certain URLs, getting state as necessary. Since there's a <a href="https://framesurge.sh/perseus/en-US/docs/next/reference/state-generation">whole separate page</a> on this, we'll leave it there for this, just imagine we've somehow gotten instances of our state into Perseus. Note that this stage will also involve defining all the paths under the URL <code>/song</code> that we want to create.</p>
<h2>Passing State to a Template</h2>
<p>Now that we have our many states (one for each song), we need to pass it to our <code>song</code> template, and use it to generate a number of pages. <strong>This entire stage is automatic, and occurs behind the scenes.</strong> In essence, Perseus will take in all the paths you've told it about, and it will get the state for those in parallel (e.g. you read a database to tell it about all the songs, and then it fetches each one and gets its state), building all the pages you need. Now, obviously, this involves sending the state you've generated to a page (we'll focus on just one page from now on, for simplicity), so how does this happen?</p>
<p>Well, when you generated state, you generated an instance of <code>Song</code>, but, if we want our state to be <em>reactive</em>, then we'll have to do better. Reactive state is state that you can call <code>.get()</code> and <code>.set()</code> on. The most obvious usage of it is inside a form: let's say you're building a user interface that involves the user inputting some values, well, you could use Sycamore's <code>bind:value</code> on each of the <code>input</code> elements to store the state of each input reactively. But, rather than creating all the variables to do this inside your template, you can accept these as state, like so:</p>
<pre><code class="language-rust">#[template]
fn my_template&lt;'a, G: Html&gt;(cx: Scope&lt;'a&gt;, state: PageStateRx&lt;'a&gt;) -&gt; View&lt;G&gt; {
    view! { cx,
        form {
            input(bind:value = state.name, placeholder = &quot;Name&quot;)
            input(bind:value = state.email, placeholder = &quot;Email&quot;)
            // ...
        }
    }
}
</code></pre>
<p>See what we mean? It's much more convenient if every single one of the fields of <code>state</code> is <em>reactive</em>, meaning it's wrapped in a Sycamore <code>Signal</code>. (If you haven't read the Sycamore docs yet, now would be a good time!) Otherwise, you'd have to create all the <code>Signal</code>s you need at the start of your template function.</p>
<p>But this isn't just for convenience, it also serves a practical function: Perseus automatically caches all reactive state internally, meaning the changes the user makes to those inputs will be reflected inside Perseus' cache. And, when they come back to that page later, <em>the state will be restored from the cache</em>, meaning the inputs are just as they left them. This means users can navigate fearlessly around any Perseus app using reactive state, without fear of losing their place.</p>
<p><em>(It actually gets even better than this, but keep reading!)</em></p>
<p>Now, what matters behind the scenes is that we can turn the unreactive state you gave to Perseus into reactive state. Since we're making all the fields of the <code>Song</code> <code>struct</code> reactive, in the above example, this will involve a macro: <code>#[derive(ReactiveState)]</code> (we also derive <code>Serialize</code> and <code>Deserialize</code> from Serde, since Perseus needs to send this state over a network connection from server to browser). Now, this derive macro is more complex than most: it takes in the <code>struct</code> you give it, and derives the <code>MakeRx</code> trait on it, which means it can be converted into some reactive type. Then, it actually <em>creates</em> a whole new <code>struct</code> called <code>SongPerseusRxIntermediate</code> (which you should never have to touch) that has all its fields wrapped in <code>RcSignal</code>s. The reason we don't just go straight to a <code>Signal</code> is because, as we mentioned earlier, Perseus caches all reactive state at the application-level, which means it has to outlive all your templates, so, for the lifetimes to work out, we use <code>RcSignal</code>s.</p>
<p>Now, if you've worked with lifetimes long enough in Sycamore (no problem if you haven't), you'll know that this will lead to some really poor ergonomics: using <code>RcSignal</code>s, we would have to <code>.clone()</code> almost everything we want to use inside <code>view!</code>. But, this is where that macro comes to the rescue again! It creates <em>another</em> <code>struct</code> called <code>SongPerseusRxRef</code> (which you shouldn't have to touch by that name, we'll get to naming), which has all the fields of the original <code>Song</code> wrapped in <code>&amp;'cx RcSignal</code>, where <code>cx</code> is the lifetime of the page the state is being used in. Basically, you can imagine it like this: we take unreactive state, make it reactive at the application-level, and then register it as a reference on each page it's used in when we need to, to get the best ergonomics possible.</p>
<p>But, if it encounters an <code>#[rx(nested)]</code> helper macro on any of your fields, it will assume the type of that field also has <code>ReactiveState</code> derived, and it will automatically use the reactive version of it. In our example above, this means we wouldn't be getting the artist of a song's name by going <code>song.artist.get().name</code>, we could use the far better <code>song.artist.name.get()</code>! This improves ergonomics substantially in complex apps (while also allowing <em>very</em> fine-grained state control).</p>
<p>[TODO implementation on <code>Vec</code> etc.]</p>
<p>Importantly, especially if you ever need to implement all this without the macro (e.g. if your page's state is an <code>enum</code> rather than a <code>struct</code>), the intermediate reactive type (the one with pure <code>RcSignal</code>s) implements three traits: <code>MakeUnrx</code> (which allows it to be turned back into a <code>Song</code>), <code>MakeRxRef</code> (which allows it to be turned into the final type using references), and <code>Freeze</code> (we'll get to this). The original <code>Song</code> just implements <code>MakeRx</code>, and the final reference <code>struct</code> implements <code>RxRef</code>, a simple linking trait that has no methods, but that just defines the <code>RxNonRef</code> associated type to be the intermediate type. By linking the three types together like this, Perseus can take in whichever is most ergonomically convenient and work with it! For instance, there are plenty of internal methods that have access to the intermediate type, but that need to go back to the original, and they easily can with this mechanism.</p>
<p>So, in the <code>#[template]</code> macro, Perseus takes in your generated, unreactive state, and checks if a reactive version has already been cached (e.g. the user has already been to this page). If there is, it'll use that, and, otherwise, it'll make the unreactive thing it was given reactive, cache that for the first time for future use, and then give a reference version to your code! Since this code is basically the same for every template, we do it with a macro to minimize the overhead.</p>
<p><em>Note: there are plans currently to remove the <code>#[template]</code> macro entirely, eventually, though this will involve significant alterations to the Perseus core.</em></p>
<p>Of course, you probably don't want to reference your reactive type using something like <code>&lt;&lt;Song as ::perseus::state::MakeRx&gt;::Rx as ::perseus::state::MakeRxRef&gt;::RxRef&lt;'__derived_rx&gt;;</code>, so you can use the <code>#[rx(alias = &quot;SongRx&quot;)]</code> helper macro to define an alias for the final reactive reference <code>struct</code>, which takes the same lifetime as the Sycamore <code>Scope</code> of the page it's being used in.</p>
<h2>Unreactive State</h2>
<p>The other thing we could do is have out song state be unreactive, since, after all, it's pretty unlikely that the user is going to be renaming a song inside our music app (remember that the <code>.set()</code> method simply changes the state locally, it doesn't change anything on the engine-side or in a database, unless you code that yourself).</p>
<p>To do this, we would remove all those <code>#[rx(nested)]</code> helper macros, and simply change <code>ReactiveState</code> to <code>UnreactiveState</code> in that <code>#[derive(...)]</code> call at the top. (We also wouldn't need to derive <code>ReactiveState</code> or <code>UnreactiveState</code> on anything other than <code>Song</code>). Importantly, you'll also need to change <code>#[template]</code> to <code>#[template(unreactive)]</code> in the function you're using to render <code>Song</code>s.</p>
<p>Now, you're probably wondering why on earth we have to specially derive <code>UnreactiveState</code>, when we're just going to get the exact same thing as we generated! Well, your type still has implement the special <code>Freeze</code> trait, and the Perseus state platform is built for storing explicitly reactive state. So, what that <code>UnreactiveState</code> derive macro actually does is basically exactly the same as the <code>ReactiveState</code> macro, except, rather than wrapping your fields in <code>Signal</code>s, it uses a special <code>UnreactiveState</code> wrapper, which basically makes your state <em>look</em> reactive to Perseus, but, when you use <code>#[template(unreactive)]</code>, it can know to get rid of those wrappers and give you the original type you generated.</p>
<h2>Freezing</h2>
<p>Earlier, we mentioned a <code>Freeze</code> trait that the intermediate reactive type implements, which is the core of Perseus' unique <em>state freezing</em> system. Up to now, we have the ability with Perseus to let users go between pages and have the state of each page stored perfectly, as long as they're still on the site. Of course, once they leave the site, or reload the page, that will all be lost, but what if we could preserve it somehow?</p>
<p>Well, conveniently, all the state in a Perseus app has to be both <code>Serialize</code> and <code>Deserialize</code>, since it needs to be turned into a <code>String</code> to be sent from the server to the user's browser. But, what if we took all the intermediate reactive types in an app, converted them back into their unreactive versions, and serialized those to <code>String</code>s? What if we added some internal Perseus state, any global state, and the current route? Put that all together as a JSON object, and you would have a <code>String</code> representation of the <em>exact</em> state of an app, from a user's perspective.</p>
<p><em>That</em> is what the <code>Freeze</code> trait enables. As explained above, to achieve this, you would need to take each intermediate reactive type, turn it into its unreactive version, and serialize it to a <code>String</code>. To allow flexibility in this, Perseus requires such intermediate types to implement <code>Freeze</code>, which just has the <code>.freeze()</code> method, which simply produces a <code>String</code> representation of that type.</p>
<p>If you want to see how you can freeze and entire Perseus app, check out <a href="https://github.com/framesurge/perseus/tree/main/examples/core/freezing_and_thawing">this example</a>. Alternately, take a look at <a href="https://github.com/framesurge/perseus/tree/main/examples/core/idb_freezing">this one</a> to see how you can easily store the resulting frozen app to IndexedDB (a native in-browser storage system)!</p>
<p>Of course, if we can freeze, we need to be able to <em>thaw</em> too, right? Well, Perseus makes this pretty much trivial, since you can register a frozen app <code>String</code> that will be progressively unwrapped as necessary. In essence, rather than restoring the whole state of the app at once, Perseus simply restores the internal state and takes the user to whatever route they were on at the last freeze, and then restores each page's state on-demand: we leave it frozen until the user goes to that exact page. The same thing applies to the global state: it will only be thawed when it's first used. That not only mitigates the need for you to specify all your state types to a single thaw command, but it also means that any page states that are no longer valid can be silently ignored (e.g. if the app's code has changed since the freeze). This means users get the best replication of the previous state possible, even if the thaw is years later.</p>
<p>As a side note, this is exactly how Perseus' HSR (hot state reloading) system works! In JavaScript frameworks, you can split up all your JS files into many small <em>chunks</em>, and then, when you as a developer change some code and want to see the result, the framework just reloads the necessary chunks, meaning most things should stay the same. Since we can't chunk Wasm files (yet), Perseus just freezes your app's state to IndexedDB, and restores it after a page reload. From your perspective, the page has reloaded to exactly the same place. When you're fifteen pages into a login form and trying to realign a button, making sure you don't have to go back to beginning of that flow whenever you change some code becomes pretty useful! That said, you can easily disable HSR by turning off the default feature flag <code>hsr</code>.</p>
</div></main></div><div data-hk="2.19" class="row-start-2"><footer data-hk="7.0" class="w-full flex justify-center py-5 bg-black text-white"><p data-hk="7.1" class="mx-5 text-center"><span data-hk="7.2">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> 2021-2022, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer></div></div></div></main><!----><script data-hk="0.0" src=".perseus/static/prism.js" defer=""></script><script data-hk="0.1">window.Prism.highlightAll();</script></div><div id="__perseus_popup_error"></div></body></html>