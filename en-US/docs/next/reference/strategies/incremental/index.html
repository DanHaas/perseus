<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/deploying/intro":"docs","docs/plugins/functional":"docs","docs/testing/checkpoints":"docs","docs/0.1.x/building":"docs","docs/0.3.0-0.3.2/i18n/intro":"docs","docs/0.3.0-0.3.2/snooping":"docs","docs/0.1.x/routing":"docs","docs/deploying/size":"docs","docs/strategies/intro":"docs","docs/define-app":"docs","docs/0.3.0-0.3.2/strategies/request-state":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/0.3.0-0.3.2/i18n/translations-managers":"docs","docs/next/reference/i18n/defining":"docs","docs/next/reference/strategies/build-state":"docs","docs/advanced/arch":"docs","docs/0.1.x/serving":"docs","docs/0.2.x/i18n/intro":"docs","docs/plugins/using":"docs","docs/next/advanced/define_app":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/next/core-principles":"docs","docs/next/reference/state/freezing":"docs","docs/next/intro":"docs","docs/next/reference/snooping":"docs","docs/0.3.0-0.3.2/plugins/using":"docs","docs/hello-world":"docs","docs/next/reference/templates/setting-headers":"docs","docs/0.3.0-0.3.2/second-app":"docs","docs/next/reference/state/rx":"docs","docs/0.3.0-0.3.2/plugins/intro":"docs","docs/0.1.x/cli":"docs","docs/next/reference/i18n/translations-managers":"docs","docs/server-communication":"docs","docs/0.2.x/updating":"docs","docs/0.3.0-0.3.2/advanced/intro":"docs","docs/deploying/serverless":"docs","docs/0.3.0-0.3.2/templates/intro":"docs","docs/0.3.0-0.3.2/advanced/subsequent-loads":"docs","docs/next/reference/stores":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.2.x/strategies/build-state":"docs","docs/plugins/intro":"docs","docs/next/reference/plugins/control":"docs","docs/strategies/build-paths":"docs","docs/next/tutorials/second-app":"docs","docs/next/tutorials/hello-world":"docs","docs/deploying/relative-paths":"docs","docs/next/reference/i18n/using":"docs","docs/0.3.0-0.3.2/hello-world":"docs","docs/0.2.x/what-is-perseus":"docs","docs/next/reference/templates/intro":"docs","docs/next/reference/exporting":"docs","docs/deploying/docker":"docs","docs/plugins/control":"docs","docs/0.3.0-0.3.2/templates/setting-headers":"docs","docs/next/reference/state/global":"docs","docs/next/reference/strategies/build-paths":"docs","docs/0.2.x/hello-world":"docs","docs/0.3.0-0.3.2/deploying/relative-paths":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/next/reference/strategies/request-state":"docs","docs/templates/metadata-modification":"docs","docs/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.2/debugging":"docs","docs/hydration":"docs","docs/next/reference/deploying/serverless":"docs","docs/debugging":"docs","docs/0.3.0-0.3.2/updating":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/intro":"docs","docs/0.2.x/intro":"docs","docs/next/reference/testing/manual":"docs","docs/0.3.0-0.3.2/plugins/writing":"docs","docs/next/reference/live-reloading":"docs","docs/0.3.0-0.3.2/pitfalls-and-bugs":"docs","docs/0.3.0-0.3.2/deploying/docker":"docs","docs/templates/intro":"docs","docs/0.3.0-0.3.2/server-communication":"docs","docs/views":"docs","docs/next/what-is-perseus":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/next/reference/debugging":"docs","docs/next/reference/plugins/security":"docs","docs/0.3.0-0.3.2/views":"docs","docs/what-is-perseus":"docs","docs/next/reference/plugins/tinker":"docs","docs/i18n/using":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.3.0-0.3.2/plugins/functional":"docs","docs/0.3.0-0.3.2/i18n/defining":"docs","docs/0.1.x/strategies/build_state":"docs","docs/0.2.x/second-app":"docs","docs/advanced/define_app":"docs","docs/next/reference/deploying/serverful":"docs","docs/0.2.x/templates/intro":"docs","docs/0.3.0-0.3.2/ejecting":"docs","docs/next/reference/error-pages":"docs","docs/0.1.x/templates":"docs","plugins":"plugins","docs/0.3.0-0.3.2/deploying/size":"docs","docs/0.2.x/strategies/request-state":"docs","docs/0.3.0-0.3.2/i18n/other-engines":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.3.0-0.3.2/plugins/security":"docs","docs/plugins/security":"docs","docs/0.2.x/cli":"docs","docs/testing/intro":"docs","docs/0.3.0-0.3.2/testing/checkpoints":"docs","docs/advanced/initial-loads":"docs","docs/0.1.x/strategies/request_state":"docs","docs/stores":"docs","docs/strategies/amalgamation":"docs","docs/0.3.0-0.3.2/define-app":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.2.x/define-app":"docs","docs/0.3.0-0.3.2/what-is-perseus":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/next/reference/state/hsr":"docs","docs/next/reference/testing/intro":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/ejecting":"docs","docs/error-pages":"docs","docs/next/advanced/subsequent-loads":"docs","docs/next/advanced/routing":"docs","docs/0.3.0-0.3.2/error-pages":"docs","docs/next/reference/testing/checkpoints":"docs","docs/next/reference/strategies/intro":"docs","docs/cli":"docs","docs/0.2.x/i18n/defining":"docs","docs/next/reference/plugins/publishing":"docs","docs/0.3.0-0.3.2/strategies/intro":"docs","docs/exporting":"docs","docs/next/reference/deploying/docker":"docs","docs/0.3.0-0.3.2/deploying/serverful":"docs","docs/i18n/other-engines":"docs","docs/i18n/translations-managers":"docs","docs/next/reference/strategies/amalgamation":"docs","docs/next/reference/strategies/revalidation":"docs","docs/next/reference/templates/router-state":"docs","docs/next/reference/strategies/incremental":"docs","docs/templates/setting-headers":"docs","docs/0.2.x/config-managers":"docs","docs/deploying/serverful":"docs","docs/next/reference/hydration":"docs","docs/next/reference/plugins/writing":"docs","docs/next/reference/i18n/other-engines":"docs","docs/0.2.x/advanced/intro":"docs","docs/next/reference/define-app":"docs","docs/advanced/routing":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.1.x/config_managers":"docs","docs/next/reference/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.2/styling":"docs","docs/strategies/revalidation":"docs","docs/0.3.0-0.3.2/templates/metadata-modification":"docs","docs/0.2.x/debugging":"docs","docs/next/reference/styling":"docs","docs/0.2.x/error-pages":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/styling":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.3.0-0.3.2/advanced/define_app":"docs","docs/next/reference/templates/metadata-modification":"docs","comparisons":"comparisons","docs/0.3.0-0.3.2/strategies/incremental":"docs","docs/0.3.0-0.3.2/i18n/using":"docs","docs/next/advanced/initial-loads":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.1.x/setup":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.3.0-0.3.2/strategies/revalidation":"docs","docs/0.3.0-0.3.2/testing/manual":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/next/reference/pitfalls-and-bugs":"docs","docs/next/reference/state/idb-freezing":"docs","docs/0.3.0-0.3.2/strategies/amalgamation":"docs","docs/0.2.x/testing/intro":"docs","docs/second-app":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.3.0-0.3.2/testing/intro":"docs","docs/plugins/tinker":"docs","docs/0.3.0-0.3.2/cli":"docs","docs/0.3.0-0.3.2/strategies/build-state":"docs","docs/0.3.0-0.3.2/strategies/build-paths":"docs","docs/0.3.0-0.3.2/static-content":"docs","docs/0.3.0-0.3.2/advanced/arch":"docs","docs/0.3.0-0.3.2/plugins/tinker":"docs","docs/i18n/intro":"docs","docs/next/reference/i18n/intro":"docs","docs/updating":"docs","docs/0.3.0-0.3.2/deploying/intro":"docs","docs/next/reference/views":"docs","docs/strategies/incremental":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.2.x/testing/manual":"docs","docs/0.3.0-0.3.2/hydration":"docs","index":"index","docs/next/reference/plugins/intro":"docs","docs/0.3.0-0.3.2/plugins/control":"docs","docs/next/reference/server-communication":"docs","docs/testing/manual":"docs","docs/strategies/build-state":"docs","docs/0.3.0-0.3.2/intro":"docs","docs/next/reference/updating":"docs","docs/i18n/defining":"docs","docs/0.1.x/intro":"docs","docs/advanced/intro":"docs","docs/next/reference/deploying/size":"docs","docs/snooping":"docs","docs/advanced/subsequent-loads":"docs","docs/0.1.x/error_pages":"docs","docs/0.2.x/styling":"docs","docs/0.2.x/i18n/using":"docs","docs/next/reference/static-content":"docs","docs/0.3.0-0.3.2/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.2/deploying/serverless":"docs","docs/static-content":"docs","docs/next/reference/cli":"docs","docs/next/reference/engines":"docs","docs/next/reference/deploying/relative-paths":"docs","docs/next/advanced/intro":"docs","docs/next/reference/plugins/functional":"docs","docs/next/reference/ejecting":"docs","docs/0.3.0-0.3.2/advanced/initial-loads":"docs","docs/0.3.0-0.3.2/advanced/routing":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/plugins/writing":"docs","docs/0.2.x/views":"docs","docs/0.2.x/strategies/incremental":"docs","docs/next/reference/plugins/using":"docs","docs/pitfalls-and-bugs":"docs","docs/0.2.x/ejecting":"docs","docs/0.3.0-0.3.2/exporting":"docs","docs/plugins/publishing":"docs","docs/0.2.x/static-content":"docs","docs/0.3.0-0.3.2/stores":"docs","docs/0.2.x/strategies/intro":"docs","docs/next/advanced/arch":"docs","docs/0.1.x/arch":"docs","docs/strategies/request-state":"docs","docs/0.3.0-0.3.2/plugins/publishing":"docs","docs/next/reference/deploying/intro":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title data-hk="1.0">Incremental Generation | Perseus Docs</title><link href=".perseus/static/styles/markdown.css" data-hk="1.1" rel="stylesheet"/><link data-hk="1.2" rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css"/><link href=".perseus/static/prism.css" data-hk="1.3" rel="stylesheet"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"Incremental Generation","content":"<h1>Incremental Generation</h1>\\n<p>Arguable the most powerful strategy in Perseus is <em>incremental generation</em>, which is an extension of <em>build paths</em> such that any path in the template's root path domain (more info on that concept <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro\\">here</a>) will result in calling the <em>build state</em> strategy while the server is running.</p>\\n<p>A perfect example of this would be an retail site with thousands of products, all using the <code>product</code> template. If we built all these with <em>build paths</em>, and they all require fetching information from a database, builds could take a very long time. Instead, it's far more efficient to use <em>incremental generation</em>, which will allow any path under <code>/product</code> to call the <em>build state</em> strategy, which you can then use to render the product when it's first requested. This is on-demand building. But how is this different from the <em>request state</em> strategy? It caches the pages after they've been built the first time, meaning <strong>you build once on-demand, and then it's static generation from there</strong>. In other words, this strategy provides support for rendering thousands, millions, or even billions of pages from a single template while maintaining static generation times of less than a second!</p>\\n<p>Also, this strategy is fully compatible with <em>build paths</em>, meaning you could pre-render you most common pages at build-time, and have the rest built on-demand and then cached.</p>\\n<h2>Usage</h2>\\n<p>This is the simplest strategy in Perseus to enable, needing only one line of code. Here's the example from earlier (which you can find <a href=\\"https://github.com/arctic-hen7/perseus/blob/main/examples/core/state_generation/src/templates/incremental_generation.rs\\">here</a>) that uses <em>incremental generation</em> together with <em>build paths</em> (and of course <em>build state</em>, which is mandatory for <em>incremental generation</em> to work):</p>\\n<pre><code class=\\"language-rust\\">// This is exactly the same as the build paths example except for a few lines and some names\\n\\nuse perseus::{blame_err, RenderFnResult, RenderFnResultWithCause, Template};\\nuse sycamore::prelude::{view, Html, View};\\n\\n#[perseus::make_rx(PageStateRx)]\\npub struct PageState {\\n    title: String,\\n    content: String,\\n}\\n\\n#[perseus::template_rx(IncrementalGenerationPage)]\\npub fn incremental_generation_page(state: PageStateRx) -&gt; View&lt;G&gt; {\\n    let title = state.title;\\n    let content = state.content;\\n    view! {\\n        h1 {\\n            (title.get())\\n        }\\n        p {\\n            (content.get())\\n        }\\n    }\\n}\\n\\npub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {\\n    Template::new(&quot;incremental_generation&quot;)\\n        .build_paths_fn(get_build_paths)\\n        .build_state_fn(get_build_state)\\n        // This line makes Perseus try to render any given path under the template's root path (\`incremental_generation\`) by putting it through \`get_build_state\`\\n        // If you want to filter the path because some are invalid (e.g. entries that aren't in some database), we can filter them out at the state of the build state function\\n        .incremental_generation()\\n        .template(incremental_generation_page)\\n}\\n\\n// We'll take in the path here, which will consist of the template name \`incremental_generation\` followed by the spcific path we're building for (as exported from \`get_build_paths\`)\\n#[perseus::autoserde(build_state)]\\npub async fn get_build_state(path: String, _locale: String) -&gt; RenderFnResultWithCause&lt;PageState&gt; {\\n    // This path is illegal, and can't be rendered\\n    // Because we're using incremental generation, we could gte literally anything as the \`path\`\\n    if path == &quot;post/tests&quot; {\\n        // This tells Perseus to return an error that's the client's fault, with the HTTP status code 404 (not found) and the message 'illegal page'\\n        // You could return this error manually, but this is more convenient\\n        blame_err!(client, 404, &quot;illegal page&quot;);\\n    }\\n    let title = path.clone();\\n    let content = format!(\\n        &quot;This is a post entitled '{}'. Its original slug was '{}'.&quot;,\\n        &amp;title, &amp;path\\n    );\\n\\n    Ok(PageState { title, content })\\n}\\n\\n// This just returns a vector of all the paths we want to generate for underneath \`incremental_generation\` (the template's name and root path)\\n// Like for build state, this function is asynchronous, so you could fetch these paths from a database or the like\\n// Note that everything you export from here will be prefixed with \`&lt;template-name&gt;/\` when it becomes a URL in your app\\n//\\n// Note also that there's almost no point in using build paths without build state, as every page would come out exactly the same (unless you differentiated them on the client...)\\npub async fn get_build_paths() -&gt; RenderFnResult&lt;Vec&lt;String&gt;&gt; {\\n    Ok(vec![&quot;test&quot;.to_string(), &quot;blah/test/blah&quot;.to_string()])\\n}\\n\\n</code></pre>\\n<p>All we need to do is run <code>.incremental_generation()</code> on the <code>Template</code>, and it's ready.</p>\\n<p>Note that this example throws a <em>404 Not Found</em> error if we go to <code>/post/tests</code>, which is considered an illegal URL. This is a demonstration of preventing certain pages from working with this strategy, and such filtering should be done in the <em>build state</em> strategy.</p>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/intro\\">Introduction</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles\\">Core Principles</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/hello-world\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/define-app\\"><code>define_app!</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/views\\">Writing Views</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading\\">Live Reloading</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/metadata-modification\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/setting-headers\\">Modifying HTTP Headers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/router-state\\">Listening to the Router</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/error-pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/static-content\\">Static Content</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/intro\\">Internationalization</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/defining\\">Defining Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/using\\">Using Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/translations-managers\\">Translations Managers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/other-engines\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/request-state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/incremental\\">Incremental Generation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/amalgamation\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/rx\\">Reactive State</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/global\\">Global State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing\\">State Freezing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing\\">Freezing to IndexedDB</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr\\">Hot State Reloading (HSR)</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/cli\\">CLI</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/ejecting\\">Ejecting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/snooping\\">Snooping</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/intro\\">Testing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/checkpoints\\">Checkpoints</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/fantoccini-basics\\">Fantoccini Basics</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/manual\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/styling\\">Styling</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/server-communication\\">Communicating with a Server</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/stores\\">Stores</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/intro\\">Plugins</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/functional\\">Functional Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/control\\">Control Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/using\\">Using Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/tinker\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/writing\\">Writing Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/security\\">Security Considerations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/publishing\\">Publishing Plugins</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/engines\\">Engines</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/intro\\">Deploying</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverful\\">Server Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverless\\">Serverless Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/size\\">Optimizing Code Size</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/relative-paths\\">Relative Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/docker\\">Docker Deployment</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/updating\\">Migrating from v0.2.x</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/pitfalls-and-bugs\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/intro\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/initial-loads\\">Initial Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads\\">Subsequent Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/routing\\">Routing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/define_app\\"><code>define_app</code> in Detail</a></li>\\n</ul>\\n","status":"Next","manifest":{"stable":"0.3.0-0.3.2","outdated":["0.2.x","0.1.x"],"beta":[],"history_map":{"0.2.x":"v0.2.3","0.3.0-0.3.2":"v0.3.2","0.1.x":"v0.1.4"}},"current_version":"next"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header data-hk="3.0" class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20"><div data-hk="3.1" class="flex justify-between"><a class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" href="en-US/" data-hk="3.2">Perseus</a><div class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 " data-hk="3.3"><div data-hk="3.4" class="tham-box"><div data-hk="3.5" class="dark:bg-white tham-inner"></div></div></div><nav data-hk="3.6" class="hidden md:flex"><ul data-hk="3.7" class="mr-5 flex"><li data-hk="4.0" class="m-3 p-1"><a href="en-US/docs" class="px-2" data-hk="4.1">Docs</a></li><li class="m-3 p-1" data-hk="4.2"><a href="en-US/comparisons" class="px-2" data-hk="4.3">Comparisons</a></li><li data-hk="4.4" class="m-3 p-1"><a class="px-2" data-hk="4.5" href="en-US/plugins">Plugins</a></li></ul></nav></div><nav class="md:hidden w-full text-center justify-center overflow-y-scroll hidden" data-hk="3.8" id="mobile_nav_menu"><div style="max-height: 500px" class="mr-5 overflow-y-scroll" data-hk="3.9"><ul data-hk="3.10"><li data-hk="5.0" class="m-3 p-1"><a href="en-US/docs" class="px-2" data-hk="5.1">Docs</a></li><li class="m-3 p-1" data-hk="5.2"><a data-hk="5.3" class="px-2" href="en-US/comparisons">Comparisons</a></li><li class="m-3 p-1" data-hk="5.4"><a data-hk="5.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul><hr data-hk="3.11"/><div data-hk="3.12" class="text-left p-3"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="6.0"><option selected="" data-hk="6.1" value="next">Next (unreleased)</option><!--#--><!--/--><option value="0.3.0-0.3.2" data-hk="6.2">v⁨0.3.0-0.3.2⁩ (stable)</option><!--#--><option value="0.2.x" data-hk="6.3">v⁨0.2.x⁩ (outdated)</option><option value="0.1.x" data-hk="6.4">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.13" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/define_app"><code>define_app</code> in Detail</a></li>
</ul>
</div></div></div></nav></header><div data-hk="3.14" class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex"><div data-hk="3.15" class="flex w-full"><div data-hk="3.16" class="h-full hidden md:block max-w-xs w-full border-r"><div class="mr-5" data-hk="3.17"><div data-hk="3.18" class="text-left text-black dark:text-white p-3"><aside data-hk="3.19"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="7.0"><option selected="" data-hk="7.1" value="next">Next (unreleased)</option><!--#--><!--/--><option data-hk="7.2" value="0.3.0-0.3.2">v⁨0.3.0-0.3.2⁩ (stable)</option><!--#--><option data-hk="7.3" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option value="0.1.x" data-hk="7.4">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.20" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/define_app"><code>define_app</code> in Detail</a></li>
</ul>
</div></aside></div></div></div><div data-hk="3.21" class="h-full flex w-full"><div class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl" data-hk="3.22"><!--#--><div class="ring-4 ring-orange-400 p-4 rounded-lg mt-1" data-hk="3.23"><div class="flex flex-col 2xs:flex-row dark:text-white" data-hk="3.24"><span style="fill: #fb923c;" class="self-center mr-2" data-hk="3.25"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk="3.26">This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href="en-US/docs/0.3.x/intro" class="underline">here</a>.</p></div></div><!--/--><main class="text-black dark:text-white" data-hk="3.27"><div data-hk="2.0" class="markdown"><h1>Incremental Generation</h1>
<p>Arguable the most powerful strategy in Perseus is <em>incremental generation</em>, which is an extension of <em>build paths</em> such that any path in the template's root path domain (more info on that concept <a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro">here</a>) will result in calling the <em>build state</em> strategy while the server is running.</p>
<p>A perfect example of this would be an retail site with thousands of products, all using the <code>product</code> template. If we built all these with <em>build paths</em>, and they all require fetching information from a database, builds could take a very long time. Instead, it's far more efficient to use <em>incremental generation</em>, which will allow any path under <code>/product</code> to call the <em>build state</em> strategy, which you can then use to render the product when it's first requested. This is on-demand building. But how is this different from the <em>request state</em> strategy? It caches the pages after they've been built the first time, meaning <strong>you build once on-demand, and then it's static generation from there</strong>. In other words, this strategy provides support for rendering thousands, millions, or even billions of pages from a single template while maintaining static generation times of less than a second!</p>
<p>Also, this strategy is fully compatible with <em>build paths</em>, meaning you could pre-render you most common pages at build-time, and have the rest built on-demand and then cached.</p>
<h2>Usage</h2>
<p>This is the simplest strategy in Perseus to enable, needing only one line of code. Here's the example from earlier (which you can find <a href="https://github.com/arctic-hen7/perseus/blob/main/examples/core/state_generation/src/templates/incremental_generation.rs">here</a>) that uses <em>incremental generation</em> together with <em>build paths</em> (and of course <em>build state</em>, which is mandatory for <em>incremental generation</em> to work):</p>
<pre><code class="language-rust">// This is exactly the same as the build paths example except for a few lines and some names

use perseus::{blame_err, RenderFnResult, RenderFnResultWithCause, Template};
use sycamore::prelude::{view, Html, View};

#[perseus::make_rx(PageStateRx)]
pub struct PageState {
    title: String,
    content: String,
}

#[perseus::template_rx(IncrementalGenerationPage)]
pub fn incremental_generation_page(state: PageStateRx) -&gt; View&lt;G&gt; {
    let title = state.title;
    let content = state.content;
    view! {
        h1 {
            (title.get())
        }
        p {
            (content.get())
        }
    }
}

pub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {
    Template::new(&quot;incremental_generation&quot;)
        .build_paths_fn(get_build_paths)
        .build_state_fn(get_build_state)
        // This line makes Perseus try to render any given path under the template's root path (`incremental_generation`) by putting it through `get_build_state`
        // If you want to filter the path because some are invalid (e.g. entries that aren't in some database), we can filter them out at the state of the build state function
        .incremental_generation()
        .template(incremental_generation_page)
}

// We'll take in the path here, which will consist of the template name `incremental_generation` followed by the spcific path we're building for (as exported from `get_build_paths`)
#[perseus::autoserde(build_state)]
pub async fn get_build_state(path: String, _locale: String) -&gt; RenderFnResultWithCause&lt;PageState&gt; {
    // This path is illegal, and can't be rendered
    // Because we're using incremental generation, we could gte literally anything as the `path`
    if path == &quot;post/tests&quot; {
        // This tells Perseus to return an error that's the client's fault, with the HTTP status code 404 (not found) and the message 'illegal page'
        // You could return this error manually, but this is more convenient
        blame_err!(client, 404, &quot;illegal page&quot;);
    }
    let title = path.clone();
    let content = format!(
        &quot;This is a post entitled '{}'. Its original slug was '{}'.&quot;,
        &amp;title, &amp;path
    );

    Ok(PageState { title, content })
}

// This just returns a vector of all the paths we want to generate for underneath `incremental_generation` (the template's name and root path)
// Like for build state, this function is asynchronous, so you could fetch these paths from a database or the like
// Note that everything you export from here will be prefixed with `&lt;template-name&gt;/` when it becomes a URL in your app
//
// Note also that there's almost no point in using build paths without build state, as every page would come out exactly the same (unless you differentiated them on the client...)
pub async fn get_build_paths() -&gt; RenderFnResult&lt;Vec&lt;String&gt;&gt; {
    Ok(vec![&quot;test&quot;.to_string(), &quot;blah/test/blah&quot;.to_string()])
}

</code></pre>
<p>All we need to do is run <code>.incremental_generation()</code> on the <code>Template</code>, and it's ready.</p>
<p>Note that this example throws a <em>404 Not Found</em> error if we go to <code>/post/tests</code>, which is considered an illegal URL. This is a demonstration of preventing certain pages from working with this strategy, and such filtering should be done in the <em>build state</em> strategy.</p>
</div></main></div></div></div></div><footer data-hk="3.28" class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep"><p data-hk="3.29" class="dark:text-white mx-5 text-center"><span data-hk="3.30">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script data-hk="2.1" src=".perseus/static/prism.js" defer=""></script><script data-hk="2.2">window.Prism.highlightAll();</script></div></div>
    </body>
</html>
