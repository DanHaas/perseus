<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs/next/reference/views":"docs","docs/0.3.x/cli":"docs","docs/0.3.x/deploying/serverless":"docs","docs/i18n/intro":"docs","docs/next/reference/static-content":"docs","docs/strategies/build-paths":"docs","docs/0.1.x/strategies/request_state":"docs","docs/next/reference/templates/intro":"docs","docs/next/reference/state/rx":"docs","docs/0.3.x/strategies/build-state":"docs","docs/next/reference/i18n/intro":"docs","docs/0.3.x/snooping":"docs","docs/testing/fantoccini-basics":"docs","docs/advanced/define_app":"docs","docs/0.3.x/i18n/using":"docs","docs/0.1.x/serving":"docs","docs/0.3.x/styling":"docs","docs/next/reference/deploying/relative-paths":"docs","docs/0.2.x/deploying/intro":"docs","index":"index","docs/plugins/intro":"docs","docs/advanced/arch":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.3.x/i18n/defining":"docs","docs/next/reference/deploying/size":"docs","docs/0.2.x/templates/intro":"docs","docs/next/reference/strategies/incremental":"docs","docs/0.1.x/intro":"docs","docs/0.1.x/error_pages":"docs","docs/next/reference/i18n/translations-managers":"docs","docs/0.3.x/testing/fantoccini-basics":"docs","docs/0.2.x/updating":"docs","docs/0.2.x/hello-world":"docs","docs/next/reference/testing/checkpoints":"docs","docs/strategies/amalgamation":"docs","docs/0.3.x/strategies/intro":"docs","docs/0.3.x/advanced/intro":"docs","docs/next/reference/templates/router-state":"docs","docs/next/reference/i18n/using":"docs","docs/next/reference/define-app":"docs","docs/0.1.x/strategies/intro":"docs","docs/intro":"docs","docs/views":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/ejecting":"docs","docs/strategies/incremental":"docs","docs/0.2.x/advanced/routing":"docs","docs/next/reference/engines":"docs","docs/0.3.x/exporting":"docs","docs/stores":"docs","docs/deploying/relative-paths":"docs","docs/0.3.x/deploying/intro":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/strategies/request-state":"docs","docs/next/reference/server-communication":"docs","docs/0.3.x/debugging":"docs","docs/templates/setting-headers":"docs","docs/0.3.x/updating":"docs","docs/0.3.x/stores":"docs","docs/0.3.x/deploying/docker":"docs","docs/0.1.x/building":"docs","docs/next/intro":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/next/reference/testing/manual":"docs","docs/0.2.x/strategies/intro":"docs","docs/0.3.x/templates/intro":"docs","docs/0.2.x/ejecting":"docs","docs/next/reference/state/freezing":"docs","docs/0.2.x/debugging":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.3.x/static-content":"docs","docs/next/reference/plugins/publishing":"docs","docs/0.3.x/testing/intro":"docs","docs/advanced/intro":"docs","docs/i18n/translations-managers":"docs","docs/0.2.x/second-app":"docs","docs/0.2.x/error-pages":"docs","docs/0.2.x/cli":"docs","docs/next/reference/plugins/writing":"docs","docs/next/reference/strategies/amalgamation":"docs","docs/0.3.x/strategies/build-paths":"docs","docs/next/advanced/define_app":"docs","docs/next/advanced/initial-loads":"docs","docs/0.3.x/hello-world":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/next/reference/plugins/control":"docs","docs/next/reference/state/idb-freezing":"docs","docs/error-pages":"docs","docs/snooping":"docs","docs/next/reference/strategies/intro":"docs","docs/0.3.x/i18n/translations-managers":"docs","docs/advanced/subsequent-loads":"docs","docs/deploying/docker":"docs","docs/strategies/intro":"docs","docs/advanced/routing":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/strategies/revalidation":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/0.3.x/plugins/publishing":"docs","docs/0.1.x/templates":"docs","docs/next/reference/templates/metadata-modification":"docs","docs/next/reference/strategies/build-state":"docs","docs/define-app":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.3.x/templates/metadata-modification":"docs","docs/0.3.x/advanced/arch":"docs","docs/0.1.x/setup":"docs","docs/templates/metadata-modification":"docs","docs/next/what-is-perseus":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/next/reference/state/hsr":"docs","docs/0.2.x/advanced/arch":"docs","docs/next/reference/stores":"docs","docs/i18n/defining":"docs","docs/0.3.x/testing/checkpoints":"docs","docs/updating":"docs","plugins":"plugins","docs/0.3.x/server-communication":"docs","docs/plugins/functional":"docs","docs/next/reference/strategies/build-paths":"docs","docs/0.3.x/strategies/request-state":"docs","docs/0.3.x/pitfalls-and-bugs":"docs","docs/0.2.x/config-managers":"docs","docs/next/reference/templates/setting-headers":"docs","docs/next/reference/ejecting":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.3.x/advanced/define_app":"docs","docs/next/reference/updating":"docs","docs/testing/manual":"docs","docs/0.2.x/i18n/using":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.2.x/testing/intro":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/templates/intro":"docs","docs/testing/checkpoints":"docs","docs/0.3.x/plugins/intro":"docs","docs/next/reference/i18n/other-engines":"docs","docs/0.2.x/advanced/intro":"docs","docs/testing/intro":"docs","docs/0.3.x/strategies/amalgamation":"docs","docs/exporting":"docs","docs/next/core-principles":"docs","docs/next/reference/styling":"docs","docs/plugins/security":"docs","docs/0.3.x/plugins/using":"docs","docs/deploying/serverless":"docs","docs/0.3.x/i18n/intro":"docs","docs/0.3.x/i18n/other-engines":"docs","docs/static-content":"docs","docs/strategies/build-state":"docs","docs/0.2.x/what-is-perseus":"docs","docs/hello-world":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.x/plugins/control":"docs","docs/styling":"docs","docs/next/reference/error-pages":"docs","docs/0.3.x/intro":"docs","docs/next/reference/deploying/intro":"docs","docs/0.3.x/plugins/writing":"docs","docs/debugging":"docs","docs/next/reference/cli":"docs","docs/next/reference/strategies/revalidation":"docs","docs/0.3.x/deploying/serverful":"docs","docs/next/reference/pitfalls-and-bugs":"docs","docs/next/reference/deploying/serverful":"docs","docs/0.3.x/error-pages":"docs","docs/0.3.x/templates/setting-headers":"docs","docs/next/advanced/routing":"docs","docs/next/reference/debugging":"docs","docs/next/reference/testing/fantoccini-basics":"docs","docs/0.3.x/define-app":"docs","docs/i18n/using":"docs","docs/0.2.x/strategies/request-state":"docs","docs/next/reference/deploying/docker":"docs","docs/0.1.x/arch":"docs","docs/next/advanced/intro":"docs","docs/next/tutorials/second-app":"docs","docs/0.3.x/strategies/incremental":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/next/advanced/subsequent-loads":"docs","docs/next/reference/plugins/tinker":"docs","docs/0.2.x/testing/manual":"docs","docs/next/reference/plugins/functional":"docs","docs/0.3.x/deploying/size":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.3.x/plugins/tinker":"docs","docs/deploying/serverful":"docs","docs/0.3.x/second-app":"docs","docs/plugins/control":"docs","docs/0.2.x/views":"docs","docs/next/reference/i18n/defining":"docs","docs/0.2.x/define-app":"docs","docs/0.3.x/what-is-perseus":"docs","docs/i18n/other-engines":"docs","docs/plugins/publishing":"docs","docs/0.2.x/deploying/exporting":"docs","docs/next/reference/hydration":"docs","docs/hydration":"docs","docs/next/reference/snooping":"docs","docs/what-is-perseus":"docs","docs/next/reference/plugins/using":"docs","docs/0.3.x/advanced/initial-loads":"docs","docs/0.3.x/strategies/revalidation":"docs","docs/next/reference/state/global":"docs","docs/second-app":"docs","docs/0.3.x/plugins/security":"docs","docs/0.3.x/advanced/subsequent-loads":"docs","docs/next/reference/exporting":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/0.3.x/deploying/relative-paths":"docs","docs/advanced/initial-loads":"docs","docs/0.2.x/intro":"docs","docs/plugins/tinker":"docs","docs/0.3.x/views":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/0.3.x/hydration":"docs","docs/0.3.x/advanced/routing":"docs","docs/next/reference/testing/intro":"docs","docs/server-communication":"docs","docs/0.1.x/config_managers":"docs","docs/0.3.x/testing/manual":"docs","docs/next/reference/plugins/intro":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/next/tutorials/hello-world":"docs","docs/next/reference/strategies/request-state":"docs","docs/plugins/using":"docs","docs/0.1.x/cli":"docs","docs/plugins/writing":"docs","docs/0.2.x/styling":"docs","docs/0.2.x/strategies/build-paths":"docs","docs":"docs","docs/pitfalls-and-bugs":"docs","docs/0.1.x/strategies/build_state":"docs","docs/cli":"docs","docs/0.2.x/static-content":"docs","docs/0.3.x/plugins/functional":"docs","docs/next/reference/live-reloading":"docs","docs/next/advanced/arch":"docs","comparisons":"comparisons","docs/next/reference/deploying/serverless":"docs","docs/0.3.x/ejecting":"docs","docs/next/reference/plugins/security":"docs","docs/0.1.x/routing":"docs","docs/deploying/intro":"docs","docs/deploying/size":"docs","docs/0.2.x/i18n/intro":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title data-hk="1.0">Hot State Reloading | Perseus Docs</title><link data-hk="1.1" rel="stylesheet" href=".perseus/static/styles/markdown.css"/><link href=".perseus/static/styles/docs_links_markdown.css" rel="stylesheet" data-hk="1.2"/><link rel="stylesheet" data-hk="1.3" href=".perseus/static/prism.css"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"Hot State Reloading","content":"<h1>Hot State Reloading</h1>\\n<p>If you've started using Perseus with reactive state, you may have already noticed something pretty cool. If you're using <code>-w</code> in the CLI to rebuild your app when you change your code, you'll find that the state of your app is maintained! This is called <em>hot state reloading</em>, and it's currently a feature entirely unique to Perseus.</p>\\n<p>If you've come from the JavaScript world, you might have heard of <em>hot module reloading</em>, or HMR, which is used by many JS frameworks to figure out which parts of your code you changed in development so that they only need to change the smallest part, meaning most of your app's state is retained. This approach requires being able to break your code up into many chunks, which is easy with JS, but currently extremely difficult with Wasm, so Perseus takes a different approach.</p>\\n<p>Perseus supports <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing\\">state freezing</a> automatically, which allows you to store the entire state of your app in a string and reload from that at any time. Perseus also supports <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing\\">freezing that state to IndexedDB</a>. When you combine that with Perseus' <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading\\">live reloading</a> system, why not freeze the state before every live reload and thaw it afterward? This is exactly what Perseus does, and it means that you can change your code and pick up from <em>exactly</em> where you were in your app without missing a beat.</p>\\n<p>If you ever want to ditch the current state completely, just manually reload the page in your browser (usually by pressing <code>Ctrl+R</code> or the reload button) and Perseus will start your app afresh!</p>\\n<p>HSR is inbuilt into Perseus, and it automatically enabled for all development builds. When you build for production (e.g. with <code>perseus deploy</code>), HSR will automatically be turned off, and you won't have to worry about it anymore. If you feel HSR gets in your way, you can easily disable it by disabling Perseus' default features (by adding <code>default-features = false</code> to the properties of the dependency <code>perseus</code> in your <code>Cargo.toml</code>). Note though that this will also disable <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading\\">live reloading</a>, and you'll need to manually the <code>live-reload</code> feature to get that back.</p>\\n<h2>Problems</h2>\\n<p>HSR is far less buggy than most implementations of HMR because it takes advantage of features built into Perseus' core, though there are some cases in which it won't work. If you're finding that you make a modification to your code and your last state isn't being restored, you'll probably find the reason here.</p>\\n<h3>Incorrect Data Model</h3>\\n<p>This is the most common case. If you're finding that most state properties are being restored except one or two, then you'll probably find that that those properties aren't in your template's data model. In other words, they aren't part of the state for your template that you're providing to Perseus, which usually means you're setting them up as <code>Signal</code>s separately. Moving them into your data model should solve your problems.</p>\\n<h3>New Data Model</h3>\\n<p>If you've changed the structure of your template's data model, for example by adding a new property that it includes, then you'll find that Perseus can't deserialize the state it kept from before properly (it saved your old data model, which is different to the new one), so it'll abort attempting to thaw the old state and regenerate from scratch. Unfortunately, due to the strictness of Rust's type system, this is unavoidable.</p>\\n<h3>Corrupt Entry</h3>\\n<p>If your state isn't restored and the above reasons don't fit, then it's possible that the state may have somehow been corrupted. That said, this is very unlikely, and really shouldn't happen outside contrived scenarios. That said, Perseus should automatically resolve this by clearing the stale state and the next reload should work properly. If it doesn't, you should manually reload the page to get out of any strange logic issues. If that still doesn't work, try going into your browser's developer tools and making the console logs persist across reloads, there could be some helpful error messages in there (if they occur just before the CLi-induced reload, they'll be wiped away by the browser).</p>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/intro\\">Introduction</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles\\">Core Principles</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/hello-world\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/define-app\\"><code>define_app!</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/views\\">Writing Views</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/nextr/reference/live-reloading\\">Live Reloading</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/metadata-modification\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/setting-headers\\">Modifying HTTP Headers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/router-state\\">Listening to the Router</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/error-pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/static-content\\">Static Content</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/intro\\">Internationalization</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/defining\\">Defining Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/using\\">Using Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/translations-managers\\">Translations Managers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/other-engines\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/request-state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/incremental\\">Incremental Generation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/amalgamation\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/rx\\">Reactive State</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/global\\">Global State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing\\">State Freezing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing\\">Freezing to IndexedDB</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr\\">Hot State Reloading (HSR)</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/cli\\">CLI</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/ejecting\\">Ejecting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/snooping\\">Snooping</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/intro\\">Testing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/checkpoints\\">Checkpoints</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/fantoccini-basics\\">Fantoccini Basics</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/manual\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/styling\\">Styling</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/server-communication\\">Communicating with a Server</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/stores\\">Stores</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/intro\\">Plugins</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/functional\\">Functional Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/control\\">Control Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/using\\">Using Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/tinker\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/writing\\">Writing Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/security\\">Security Considerations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/publishing\\">Publishing Plugins</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/engines\\">Engines</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/intro\\">Deploying</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverful\\">Server Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverless\\">Serverless Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/size\\">Optimizing Code Size</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/relative-paths\\">Relative Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/docker\\">Docker Deployment</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/updating\\">Migrating from v0.2.x</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/pitfalls-and-bugs\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/intro\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/initial-loads\\">Initial Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads\\">Subsequent Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/routing\\">Routing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/define_app\\"><code>define_app</code> in Detail</a></li>\\n</ul>\\n","status":"Next","manifest":{"stable":"0.3.x","outdated":["0.2.x","0.1.x"],"beta":[],"history_map":{"0.3.x":"HEAD","0.1.x":"v0.1.4","0.2.x":"v0.2.3"}},"current_version":"next"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header data-hk="3.0" class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20"><div class="flex justify-between" data-hk="3.1"><a class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" href="en-US/" data-hk="3.2">Perseus</a><div data-hk="3.3" class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div class="tham-box" data-hk="3.4"><div class="dark:bg-white tham-inner" data-hk="3.5"></div></div></div><nav class="hidden md:flex" data-hk="3.6"><ul class="mr-5 flex" data-hk="3.7"><li data-hk="4.0" class="m-3 p-1"><a data-hk="4.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="4.2" class="m-3 p-1"><a data-hk="4.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="4.4" class="m-3 p-1"><a data-hk="4.5" class="px-2" href="en-US/plugins">Plugins</a></li></ul></nav></div><nav data-hk="3.8" id="mobile_nav_menu" class="md:hidden w-full text-center justify-center overflow-y-scroll hidden"><div data-hk="3.9" style="max-height: 500px" class="mr-5 overflow-y-scroll"><ul data-hk="3.10"><li class="m-3 p-1" data-hk="5.0"><a data-hk="5.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="5.2" class="m-3 p-1"><a href="en-US/comparisons" data-hk="5.3" class="px-2">Comparisons</a></li><li data-hk="5.4" class="m-3 p-1"><a data-hk="5.5" class="px-2" href="en-US/plugins">Plugins</a></li></ul><hr data-hk="3.11"/><div data-hk="3.12" class="text-left p-3"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="6.0"><option selected="" value="next" data-hk="6.1">Next (unreleased)</option><!--#--><!--/--><option value="0.3.x" data-hk="6.2">v⁨0.3.x⁩ (stable)</option><!--#--><option value="0.2.x" data-hk="6.3">v⁨0.2.x⁩ (outdated)</option><option value="0.1.x" data-hk="6.4">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.13" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/nextr/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/define_app"><code>define_app</code> in Detail</a></li>
</ul>
</div></div></div></nav></header><div class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex" data-hk="3.14"><div data-hk="3.15" class="flex w-full"><div data-hk="3.16" class="h-full hidden md:block max-w-xs w-full border-r"><div class="mr-5" data-hk="3.17"><div class="text-left text-black dark:text-white p-3" data-hk="3.18"><aside data-hk="3.19"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="7.0"><option value="next" data-hk="7.1" selected="">Next (unreleased)</option><!--#--><!--/--><option value="0.3.x" data-hk="7.2">v⁨0.3.x⁩ (stable)</option><!--#--><option value="0.2.x" data-hk="7.3">v⁨0.2.x⁩ (outdated)</option><option data-hk="7.4" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.20" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/nextr/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/define_app"><code>define_app</code> in Detail</a></li>
</ul>
</div></aside></div></div></div><div class="h-full flex w-full" data-hk="3.21"><div data-hk="3.22" class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl"><!--#--><div class="ring-4 ring-orange-400 p-4 rounded-lg mt-1" data-hk="3.23"><div data-hk="3.24" class="flex flex-col 2xs:flex-row dark:text-white"><span style="fill: #fb923c;" data-hk="3.25" class="self-center mr-2"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk="3.26">This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href="en-US/docs/0.3.x/intro" class="underline">here</a>.</p></div></div><!--/--><main data-hk="3.27" class="text-black dark:text-white"><div data-hk="2.0" class="markdown"><h1>Hot State Reloading</h1>
<p>If you've started using Perseus with reactive state, you may have already noticed something pretty cool. If you're using <code>-w</code> in the CLI to rebuild your app when you change your code, you'll find that the state of your app is maintained! This is called <em>hot state reloading</em>, and it's currently a feature entirely unique to Perseus.</p>
<p>If you've come from the JavaScript world, you might have heard of <em>hot module reloading</em>, or HMR, which is used by many JS frameworks to figure out which parts of your code you changed in development so that they only need to change the smallest part, meaning most of your app's state is retained. This approach requires being able to break your code up into many chunks, which is easy with JS, but currently extremely difficult with Wasm, so Perseus takes a different approach.</p>
<p>Perseus supports <a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing">state freezing</a> automatically, which allows you to store the entire state of your app in a string and reload from that at any time. Perseus also supports <a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing">freezing that state to IndexedDB</a>. When you combine that with Perseus' <a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading">live reloading</a> system, why not freeze the state before every live reload and thaw it afterward? This is exactly what Perseus does, and it means that you can change your code and pick up from <em>exactly</em> where you were in your app without missing a beat.</p>
<p>If you ever want to ditch the current state completely, just manually reload the page in your browser (usually by pressing <code>Ctrl+R</code> or the reload button) and Perseus will start your app afresh!</p>
<p>HSR is inbuilt into Perseus, and it automatically enabled for all development builds. When you build for production (e.g. with <code>perseus deploy</code>), HSR will automatically be turned off, and you won't have to worry about it anymore. If you feel HSR gets in your way, you can easily disable it by disabling Perseus' default features (by adding <code>default-features = false</code> to the properties of the dependency <code>perseus</code> in your <code>Cargo.toml</code>). Note though that this will also disable <a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading">live reloading</a>, and you'll need to manually the <code>live-reload</code> feature to get that back.</p>
<h2>Problems</h2>
<p>HSR is far less buggy than most implementations of HMR because it takes advantage of features built into Perseus' core, though there are some cases in which it won't work. If you're finding that you make a modification to your code and your last state isn't being restored, you'll probably find the reason here.</p>
<h3>Incorrect Data Model</h3>
<p>This is the most common case. If you're finding that most state properties are being restored except one or two, then you'll probably find that that those properties aren't in your template's data model. In other words, they aren't part of the state for your template that you're providing to Perseus, which usually means you're setting them up as <code>Signal</code>s separately. Moving them into your data model should solve your problems.</p>
<h3>New Data Model</h3>
<p>If you've changed the structure of your template's data model, for example by adding a new property that it includes, then you'll find that Perseus can't deserialize the state it kept from before properly (it saved your old data model, which is different to the new one), so it'll abort attempting to thaw the old state and regenerate from scratch. Unfortunately, due to the strictness of Rust's type system, this is unavoidable.</p>
<h3>Corrupt Entry</h3>
<p>If your state isn't restored and the above reasons don't fit, then it's possible that the state may have somehow been corrupted. That said, this is very unlikely, and really shouldn't happen outside contrived scenarios. That said, Perseus should automatically resolve this by clearing the stale state and the next reload should work properly. If it doesn't, you should manually reload the page to get out of any strange logic issues. If that still doesn't work, try going into your browser's developer tools and making the console logs persist across reloads, there could be some helpful error messages in there (if they occur just before the CLi-induced reload, they'll be wiped away by the browser).</p>
</div></main></div></div></div></div><footer data-hk="3.28" class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep"><p class="dark:text-white mx-5 text-center" data-hk="3.29"><span data-hk="3.30">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script data-hk="2.1" src=".perseus/static/prism.js" defer=""></script><script data-hk="2.2">window.Prism.highlightAll();</script></div></div>
    </body>
</html>
