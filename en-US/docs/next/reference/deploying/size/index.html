<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs/0.3.0-0.3.2/i18n/translations-managers":"docs","docs/0.3.0-0.3.2/plugins/intro":"docs","docs/0.3.0-0.3.2/i18n/other-engines":"docs","docs/next/reference/hydration":"docs","docs/strategies/incremental":"docs","docs/next/what-is-perseus":"docs","docs/strategies/intro":"docs","docs/next/intro":"docs","docs/next/reference/deploying/docker":"docs","docs/plugins/tinker":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.1.x/building":"docs","docs/0.3.0-0.3.2/strategies/incremental":"docs","docs/next/reference/updating":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.3.0-0.3.2/plugins/using":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/advanced/intro":"docs","docs/0.2.x/updating":"docs","docs/0.1.x/config_managers":"docs","docs/0.2.x/templates/intro":"docs","docs/second-app":"docs","docs/0.1.x/strategies/incremental":"docs","docs/next/reference/state/hsr":"docs","docs/next/reference/engines":"docs","docs/0.3.0-0.3.2/deploying/serverless":"docs","docs/0.3.0-0.3.2/i18n/defining":"docs","docs/0.2.x/debugging":"docs","docs/0.3.0-0.3.2/advanced/routing":"docs","docs/0.1.x/serving":"docs","docs/0.3.0-0.3.2/server-communication":"docs","docs/next/tutorials/second-app":"docs","docs/0.1.x/templates":"docs","docs/0.2.x/styling":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/0.2.x/static-content":"docs","docs/next/reference/views":"docs","docs/next/reference/debugging":"docs","docs/0.1.x/arch":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/next/advanced/initial-loads":"docs","docs/next/reference/plugins/publishing":"docs","docs/next/reference/templates/router-state":"docs","docs/0.3.0-0.3.2/plugins/publishing":"docs","docs/0.3.0-0.3.2/plugins/control":"docs","docs/0.2.x/views":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/plugins/using":"docs","docs/0.3.0-0.3.2/deploying/docker":"docs","docs/next/advanced/routing":"docs","docs/next/reference/templates/metadata-modification":"docs","docs/next/reference/state/idb-freezing":"docs","docs/0.3.0-0.3.2/what-is-perseus":"docs","docs/next/core-principles":"docs","docs/next/advanced/subsequent-loads":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/next/reference/plugins/tinker":"docs","docs/0.3.0-0.3.2/testing/checkpoints":"docs","docs/0.3.0-0.3.2/strategies/amalgamation":"docs","docs/0.3.0-0.3.2/second-app":"docs","docs/next/reference/templates/intro":"docs","docs/testing/checkpoints":"docs","docs/next/tutorials/hello-world":"docs","docs/plugins/intro":"docs","docs/next/reference/stores":"docs","docs/next/advanced/arch":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/next/reference/i18n/intro":"docs","docs/ejecting":"docs","docs/0.3.0-0.3.2/strategies/intro":"docs","docs/deploying/intro":"docs","docs/next/reference/define-app":"docs","docs/0.3.0-0.3.2/advanced/arch":"docs","docs/next/reference/strategies/revalidation":"docs","docs/0.3.0-0.3.2/templates/intro":"docs","docs/intro":"docs","docs/0.3.0-0.3.2/i18n/using":"docs","docs/next/reference/plugins/intro":"docs","docs/strategies/revalidation":"docs","docs/next/reference/plugins/security":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/stores":"docs","docs/deploying/serverful":"docs","docs/exporting":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.3.0-0.3.2/deploying/size":"docs","docs/0.3.0-0.3.2/hydration":"docs","docs/advanced/routing":"docs","docs/0.2.x/hello-world":"docs","docs/next/reference/i18n/defining":"docs","docs/0.3.0-0.3.2/styling":"docs","docs/0.3.0-0.3.2/templates/setting-headers":"docs","docs/next/advanced/route-announcer":"docs","docs/0.2.x/advanced/arch":"docs","docs/next/reference/deploying/relative-paths":"docs","docs/0.2.x/strategies/build-state":"docs","docs/next/reference/strategies/intro":"docs","docs/server-communication":"docs","docs/debugging":"docs","docs/0.3.0-0.3.2/strategies/request-state":"docs","docs/0.3.0-0.3.2/deploying/serverful":"docs","docs/0.3.0-0.3.2/deploying/relative-paths":"docs","docs/0.2.x/strategies/intro":"docs","docs/plugins/security":"docs","docs/0.3.0-0.3.2/testing/intro":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/next/reference/plugins/control":"docs","docs/deploying/serverless":"docs","docs/0.1.x/error_pages":"docs","docs/0.1.x/routing":"docs","docs/error-pages":"docs","docs/0.2.x/ejecting":"docs","docs/cli":"docs","docs/next/reference/testing/manual":"docs","docs":"docs","docs/0.3.0-0.3.2/debugging":"docs","docs/plugins/publishing":"docs","docs/next/reference/snooping":"docs","docs/next/reference/i18n/using":"docs","docs/next/reference/state/global":"docs","docs/0.3.0-0.3.2/advanced/define_app":"docs","docs/next/reference/plugins/writing":"docs","docs/strategies/build-paths":"docs","docs/0.3.0-0.3.2/strategies/build-state":"docs","docs/templates/intro":"docs","docs/0.1.x/setup":"docs","docs/0.3.0-0.3.2/strategies/build-paths":"docs","docs/next/reference/strategies/build-paths":"docs","docs/next/reference/static-content":"docs","docs/0.3.0-0.3.2/define-app":"docs","docs/deploying/docker":"docs","docs/i18n/using":"docs","docs/pitfalls-and-bugs":"docs","docs/next/reference/plugins/using":"docs","docs/next/reference/strategies/amalgamation":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.2/plugins/functional":"docs","docs/0.1.x/cli":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.3.0-0.3.2/plugins/tinker":"docs","docs/styling":"docs","comparisons":"comparisons","docs/0.3.0-0.3.2/pitfalls-and-bugs":"docs","docs/next/reference/i18n/translations-managers":"docs","docs/0.2.x/i18n/intro":"docs","docs/what-is-perseus":"docs","docs/0.3.0-0.3.2/hello-world":"docs","docs/advanced/define_app":"docs","docs/next/reference/deploying/size":"docs","docs/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.2/plugins/security":"docs","docs/next/reference/state/rx":"docs","docs/deploying/relative-paths":"docs","docs/next/reference/live-reloading":"docs","docs/0.3.0-0.3.2/static-content":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.3.0-0.3.2/advanced/intro":"docs","docs/plugins/control":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/next/reference/state/freezing":"docs","docs/next/reference/testing/intro":"docs","plugins":"plugins","docs/next/reference/error-pages":"docs","docs/0.1.x/strategies/build_state":"docs","docs/strategies/amalgamation":"docs","docs/0.1.x/intro":"docs","docs/0.3.0-0.3.2/intro":"docs","docs/0.3.0-0.3.2/ejecting":"docs","docs/static-content":"docs","docs/0.3.0-0.3.2/snooping":"docs","docs/templates/setting-headers":"docs","docs/next/reference/strategies/incremental":"docs","docs/views":"docs","docs/updating":"docs","docs/0.3.0-0.3.2/plugins/writing":"docs","docs/0.2.x/intro":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.3.0-0.3.2/error-pages":"docs","docs/next/reference/ejecting":"docs","docs/next/reference/styling":"docs","docs/testing/intro":"docs","docs/0.3.0-0.3.2/advanced/initial-loads":"docs","docs/0.2.x/testing/intro":"docs","docs/0.3.0-0.3.2/updating":"docs","docs/0.2.x/strategies/request-state":"docs","docs/0.3.0-0.3.2/exporting":"docs","docs/0.3.0-0.3.2/advanced/subsequent-loads":"docs","docs/next/reference/pitfalls-and-bugs":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/snooping":"docs","docs/i18n/defining":"docs","docs/next/reference/strategies/build-state":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.3.0-0.3.2/views":"docs","docs/0.2.x/i18n/using":"docs","docs/testing/fantoccini-basics":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/i18n/translations-managers":"docs","docs/hello-world":"docs","docs/testing/manual":"docs","docs/next/reference/strategies/request-state":"docs","docs/templates/metadata-modification":"docs","docs/i18n/intro":"docs","docs/define-app":"docs","docs/0.2.x/define-app":"docs","docs/0.3.0-0.3.2/templates/metadata-modification":"docs","docs/next/reference/deploying/serverless":"docs","docs/0.3.0-0.3.2/deploying/intro":"docs","docs/next/reference/testing/checkpoints":"docs","docs/0.2.x/config-managers":"docs","docs/0.3.0-0.3.2/i18n/intro":"docs","docs/0.2.x/cli":"docs","docs/next/reference/i18n/other-engines":"docs","docs/next/reference/deploying/serverful":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.3.0-0.3.2/stores":"docs","docs/advanced/arch":"docs","docs/next/reference/exporting":"docs","docs/next/advanced/define_app":"docs","docs/hydration":"docs","docs/next/reference/templates/setting-headers":"docs","docs/plugins/functional":"docs","docs/0.3.0-0.3.2/testing/fantoccini-basics":"docs","docs/next/reference/testing/fantoccini-basics":"docs","docs/strategies/build-state":"docs","docs/i18n/other-engines":"docs","docs/deploying/size":"docs","docs/0.3.0-0.3.2/testing/manual":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/0.3.0-0.3.2/cli":"docs","docs/strategies/request-state":"docs","docs/0.2.x/second-app":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/plugins/writing":"docs","docs/next/reference/plugins/functional":"docs","docs/advanced/initial-loads":"docs","docs/next/reference/deploying/intro":"docs","docs/0.3.0-0.3.2/strategies/revalidation":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.2.x/testing/manual":"docs","docs/next/reference/server-communication":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.2.x/error-pages":"docs","docs/0.2.x/deploying/exporting":"docs","index":"index","docs/next/reference/cli":"docs","docs/0.2.x/deploying/intro":"docs","docs/next/advanced/intro":"docs","docs/0.2.x/i18n/defining":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title data-hk="1.0">Optimizing Code Size | Perseus Docs</title><link rel="stylesheet" href=".perseus/static/styles/markdown.css" data-hk="1.1"/><link rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css" data-hk="1.2"/><link data-hk="1.3" href=".perseus/static/prism.css" rel="stylesheet"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"Optimizing Code Size","content":"<h1>Optimizing Code Size</h1>\\n<p>If you're used to working with Rust, you're probably used to two things: performance is everything, and Rust produces big binaries. With Wasm, these actually become problems because of the way the web works. If you think about it, your Wasm files (big because Rust optimizes for speed instead of size by default) need to be sent to browsers. So, the larger they are, the slower your site will be (because it'll take longer to load). Fortunately, Perseus only makes this relevant when a user first navigates to your site with its <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads\\">subsequent loads</a> system. However, it's still worth optimizing code size in places.</p>\\n<p>Before we go any further though, it's worth addressing a common misconception about Wasm. The size of the final Wasm bianry for the Perseus basic example is usually around 200-300kB (this of course changes over time), which would be utterly unacceptable with JavaScript, but this would be considered about normal for an image. It's common to compare Wasm file sizes to JS file sizes, but Wasm is actually much similar to an image, because, unlike with JS, the browser can instantiate it much more quickly because it's already been compiled. This is a complex topic, but the general idea is that Wasm file sizes are better compared to image file sizes than to JS file sizes. You can read more about this <a href=\\"https://hacks.mozilla.org/2018/01/making-webassembly-even-faster-firefoxs-new-streaming-and-tiering-compiler/\\">here</a>.</p>\\n<p>Now onto the optimizations. If you've worked with Rust and Wasm before, you may be familiar with <code>wasm-opt</code>, which performs a ton of optimizations for you. Perseus does this automatically with <code>wasm-pack</code>. But we can do better.</p>\\n<p>The easiest way to apply size optimizations for Perseus is the <a href=\\"https://github.com/arctic-hen7/perseus-size-opt\\"><code>perseus-size-opt</code> plugin</a>, which prevents the need for ejecting to apply optimizations in <code>.perseus/</code>, and requires only a single line of code to use. Check it out <a href=\\"https://github.com/arctic-hen7/perseus-size-opt\\">here</a> for more details! It's recommended that all Perseus apps use this plugin before they deploy to production, because it can result in size decreases of upwards of 100kb, which translates into real increases in loading time for your users.</p>\\n<p><em>Note: every size optimization has a trade-off with either speed or compile-time, and you should test the performance of your app after applying these optimizations to make sure you're happy with the results, because the balance between speed and size will be different for every app. That said, using even all these optimizations usually has a negligible performance impact.</em></p>\\n<p>Usually, this will be enough for most apps, though, if you really want to cut down a few kilobytes, you can use <code>default-features = false</code> on the <code>perseus</code> dependency in your <code>Cargo.toml</code> to deactivate <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading\\">live reloading</a> and <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr\\">HSR</a>. These don't <em>do</em> anything in production, though they do have a very slight code footprint, which can be elimimated by entirely disabling their features (<code>live-reloading</code> and <code>hsr</code>, which are enabled by default). Note that you'll probably only want to do this in production, as using this setting will disable these features in development as well. Note though that this will usually only remove fewer than 5kB from your final bundle (sometimes less).</p>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/intro\\">Introduction</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles\\">Core Principles</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/hello-world\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/define-app\\"><code>define_app!</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/views\\">Writing Views</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading\\">Live Reloading</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/metadata-modification\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/setting-headers\\">Modifying HTTP Headers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/router-state\\">Listening to the Router</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/error-pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/static-content\\">Static Content</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/intro\\">Internationalization</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/defining\\">Defining Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/using\\">Using Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/translations-managers\\">Translations Managers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/other-engines\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/request-state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/incremental\\">Incremental Generation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/amalgamation\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/rx\\">Reactive State</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/global\\">Global State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing\\">State Freezing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing\\">Freezing to IndexedDB</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr\\">Hot State Reloading (HSR)</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/cli\\">CLI</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/ejecting\\">Ejecting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/snooping\\">Snooping</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/intro\\">Testing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/checkpoints\\">Checkpoints</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/fantoccini-basics\\">Fantoccini Basics</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/manual\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/styling\\">Styling</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/server-communication\\">Communicating with a Server</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/stores\\">Stores</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/intro\\">Plugins</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/functional\\">Functional Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/control\\">Control Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/using\\">Using Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/tinker\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/writing\\">Writing Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/security\\">Security Considerations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/publishing\\">Publishing Plugins</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/engines\\">Engines</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/intro\\">Deploying</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverful\\">Server Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverless\\">Serverless Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/size\\">Optimizing Code Size</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/relative-paths\\">Relative Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/docker\\">Docker Deployment</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/updating\\">Migrating from v0.2.x</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/pitfalls-and-bugs\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/intro\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/initial-loads\\">Initial Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads\\">Subsequent Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/routing\\">Routing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/define_app\\"><code>define_app</code> in Detail</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/route-announcer\\">Route Announcer</a></li>\\n</ul>\\n","status":"Next","manifest":{"stable":"0.3.0-0.3.2","outdated":["0.2.x","0.1.x"],"beta":[],"history_map":{"0.2.x":"v0.2.3","0.3.0-0.3.2":"v0.3.2","0.1.x":"v0.1.4"}},"current_version":"next"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header data-hk="3.0" class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20"><div data-hk="3.1" class="flex justify-between"><a class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" href="en-US/" data-hk="3.2">Perseus</a><div class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 " data-hk="3.3"><div data-hk="3.4" class="tham-box"><div data-hk="3.5" class="dark:bg-white tham-inner"></div></div></div><nav class="hidden md:flex" data-hk="3.6"><ul class="mr-5 flex" data-hk="3.7"><li class="m-3 p-1" data-hk="4.0"><a data-hk="4.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="4.2" class="m-3 p-1"><a class="px-2" data-hk="4.3" href="en-US/comparisons">Comparisons</a></li><li class="m-3 p-1" data-hk="4.4"><a data-hk="4.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul></nav></div><nav id="mobile_nav_menu" class="md:hidden w-full text-center justify-center overflow-y-scroll hidden" data-hk="3.8"><div data-hk="3.9" class="mr-5 overflow-y-scroll" style="max-height: 500px"><ul data-hk="3.10"><li data-hk="5.0" class="m-3 p-1"><a class="px-2" href="en-US/docs" data-hk="5.1">Docs</a></li><li class="m-3 p-1" data-hk="5.2"><a data-hk="5.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="5.4" class="m-3 p-1"><a href="en-US/plugins" class="px-2" data-hk="5.5">Plugins</a></li></ul><hr data-hk="3.11"/><div class="text-left p-3" data-hk="3.12"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="6.0"><option value="next" selected="" data-hk="6.1">Next (unreleased)</option><!--#--><!--/--><option data-hk="6.2" value="0.3.0-0.3.2">v⁨0.3.0-0.3.2⁩ (stable)</option><!--#--><option data-hk="6.3" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option data-hk="6.4" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.13" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/define_app"><code>define_app</code> in Detail</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/route-announcer">Route Announcer</a></li>
</ul>
</div></div></div></nav></header><div data-hk="3.14" class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex"><div data-hk="3.15" class="flex w-full"><div data-hk="3.16" class="h-full hidden md:block max-w-xs w-full border-r"><div class="mr-5" data-hk="3.17"><div class="text-left text-black dark:text-white p-3" data-hk="3.18"><aside data-hk="3.19"><!--#--><!----><select data-hk="7.0" class="p-2 rounded-md text-white bg-indigo-500"><option selected="" value="next" data-hk="7.1">Next (unreleased)</option><!--#--><!--/--><option data-hk="7.2" value="0.3.0-0.3.2">v⁨0.3.0-0.3.2⁩ (stable)</option><!--#--><option value="0.2.x" data-hk="7.3">v⁨0.2.x⁩ (outdated)</option><option data-hk="7.4" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.20" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/define_app"><code>define_app</code> in Detail</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/route-announcer">Route Announcer</a></li>
</ul>
</div></aside></div></div></div><div class="h-full flex w-full" data-hk="3.21"><div class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl" data-hk="3.22"><!--#--><div data-hk="3.23" class="ring-4 ring-orange-400 p-4 rounded-lg mt-1"><div class="flex flex-col 2xs:flex-row dark:text-white" data-hk="3.24"><span class="self-center mr-2" style="fill: #fb923c;" data-hk="3.25"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk="3.26">This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href="en-US/docs/0.3.x/intro" class="underline">here</a>.</p></div></div><!--/--><main data-hk="3.27" class="text-black dark:text-white"><div class="markdown" data-hk="2.0"><h1>Optimizing Code Size</h1>
<p>If you're used to working with Rust, you're probably used to two things: performance is everything, and Rust produces big binaries. With Wasm, these actually become problems because of the way the web works. If you think about it, your Wasm files (big because Rust optimizes for speed instead of size by default) need to be sent to browsers. So, the larger they are, the slower your site will be (because it'll take longer to load). Fortunately, Perseus only makes this relevant when a user first navigates to your site with its <a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/advanced/subsequent-loads">subsequent loads</a> system. However, it's still worth optimizing code size in places.</p>
<p>Before we go any further though, it's worth addressing a common misconception about Wasm. The size of the final Wasm bianry for the Perseus basic example is usually around 200-300kB (this of course changes over time), which would be utterly unacceptable with JavaScript, but this would be considered about normal for an image. It's common to compare Wasm file sizes to JS file sizes, but Wasm is actually much similar to an image, because, unlike with JS, the browser can instantiate it much more quickly because it's already been compiled. This is a complex topic, but the general idea is that Wasm file sizes are better compared to image file sizes than to JS file sizes. You can read more about this <a href="https://hacks.mozilla.org/2018/01/making-webassembly-even-faster-firefoxs-new-streaming-and-tiering-compiler/">here</a>.</p>
<p>Now onto the optimizations. If you've worked with Rust and Wasm before, you may be familiar with <code>wasm-opt</code>, which performs a ton of optimizations for you. Perseus does this automatically with <code>wasm-pack</code>. But we can do better.</p>
<p>The easiest way to apply size optimizations for Perseus is the <a href="https://github.com/arctic-hen7/perseus-size-opt"><code>perseus-size-opt</code> plugin</a>, which prevents the need for ejecting to apply optimizations in <code>.perseus/</code>, and requires only a single line of code to use. Check it out <a href="https://github.com/arctic-hen7/perseus-size-opt">here</a> for more details! It's recommended that all Perseus apps use this plugin before they deploy to production, because it can result in size decreases of upwards of 100kb, which translates into real increases in loading time for your users.</p>
<p><em>Note: every size optimization has a trade-off with either speed or compile-time, and you should test the performance of your app after applying these optimizations to make sure you're happy with the results, because the balance between speed and size will be different for every app. That said, using even all these optimizations usually has a negligible performance impact.</em></p>
<p>Usually, this will be enough for most apps, though, if you really want to cut down a few kilobytes, you can use <code>default-features = false</code> on the <code>perseus</code> dependency in your <code>Cargo.toml</code> to deactivate <a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/live-reloading">live reloading</a> and <a href="https://arctic-hen7.github.io/perseus/en-US/docs/next/reference/state/hsr">HSR</a>. These don't <em>do</em> anything in production, though they do have a very slight code footprint, which can be elimimated by entirely disabling their features (<code>live-reloading</code> and <code>hsr</code>, which are enabled by default). Note that you'll probably only want to do this in production, as using this setting will disable these features in development as well. Note though that this will usually only remove fewer than 5kB from your final bundle (sometimes less).</p>
</div></main></div></div></div></div><footer data-hk="3.28" class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep"><p data-hk="3.29" class="dark:text-white mx-5 text-center"><span data-hk="3.30">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script defer="" src=".perseus/static/prism.js" data-hk="2.1"></script><script data-hk="2.2">window.Prism.highlightAll();</script></div></div>
    </body>
</html>
