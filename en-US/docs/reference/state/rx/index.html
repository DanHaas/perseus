<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs/0.2.x/updating":"docs","docs/reference/define-app":"docs","docs/reference/i18n/using":"docs","docs/next/what-is-perseus":"docs","docs/0.3.0-0.3.3/strategies/incremental":"docs","docs/reference/strategies/amalgamation":"docs","docs/0.1.x/strategies/intro":"docs","docs/reference/templates/intro":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.2.x/ejecting":"docs","docs/reference/pitfalls-and-bugs":"docs","docs/0.3.4/reference/plugins/using":"docs","docs/0.1.x/arch":"docs","docs/0.3.4/reference/debugging":"docs","docs/0.3.4/what-is-perseus":"docs","docs/0.2.x/styling":"docs","docs/0.1.x/strategies/request_state":"docs","docs/next/reference/snooping":"docs","docs/0.3.4/reference/templates/metadata-modification":"docs","docs/0.3.0-0.3.3/deploying/serverful":"docs","docs/reference/testing/intro":"docs","docs/reference/strategies/intro":"docs","docs/reference/templates/setting-headers":"docs","docs/next/reference/deploying/serverless":"docs","docs/next/reference/i18n/intro":"docs","docs/reference/deploying/docker":"docs","docs/0.3.0-0.3.3/advanced/define_app":"docs","docs/reference/state/rx":"docs","docs/reference/error-pages":"docs","docs/0.3.4/reference/testing/checkpoints":"docs","docs/0.3.0-0.3.3/strategies/revalidation":"docs","docs/0.3.4/reference/plugins/control":"docs","docs/reference/i18n/intro":"docs","docs/0.3.4/reference/cli":"docs","docs/next/advanced/route-announcer":"docs","docs/0.1.x/error_pages":"docs","docs/0.3.4/reference/styling":"docs","docs/0.3.4/reference/templates/intro":"docs","docs/0.3.4/reference/strategies/revalidation":"docs","docs/reference/plugins/writing":"docs","docs/0.3.0-0.3.3/testing/manual":"docs","docs/0.2.x/i18n/intro":"docs","comparisons":"comparisons","docs/next/reference/plugins/writing":"docs","docs/0.3.4/reference/deploying/serverful":"docs","docs/0.3.0-0.3.3/plugins/using":"docs","docs/0.2.x/intro":"docs","docs/next/reference/perseus-app":"docs","docs/advanced/route-announcer":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/next/reference/plugins/tinker":"docs","docs/reference/index-view":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/next/tutorials/hello-world":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.3/i18n/translations-managers":"docs","docs/0.3.4/reference/live-reloading":"docs","docs/0.3.4/reference/exporting":"docs","docs/reference/deploying/intro":"docs","docs/reference/strategies/build-state":"docs","docs/reference/ejecting":"docs","docs/0.2.x/debugging":"docs","docs/0.3.4/reference/strategies/request-state":"docs","docs/0.3.4/core-principles":"docs","docs/0.3.0-0.3.3/strategies/intro":"docs","docs/0.3.0-0.3.3/second-app":"docs","docs/reference/plugins/control":"docs","docs/next/reference/views":"docs","docs/reference/deploying/size":"docs","docs/0.3.0-0.3.3/debugging":"docs","docs/0.3.0-0.3.3/advanced/arch":"docs","docs/next/reference/templates/intro":"docs","docs/0.3.0-0.3.3/deploying/serverless":"docs","docs/next/reference/testing/intro":"docs","docs/next/reference/stores":"docs","docs/0.3.4/reference/templates/router-state":"docs","docs/0.3.0-0.3.3/intro":"docs","docs/advanced/routing":"docs","docs/0.3.0-0.3.3/plugins/publishing":"docs","docs/next/advanced/intro":"docs","docs/0.3.0-0.3.3/views":"docs","docs/next/reference/strategies/amalgamation":"docs","docs/0.1.x/intro":"docs","docs/reference/snooping":"docs","docs/reference/stores":"docs","docs/0.2.x/strategies/intro":"docs","docs/advanced/initial-loads":"docs","docs/core-principles":"docs","docs/0.2.x/i18n/defining":"docs","docs/next/reference/deploying/intro":"docs","docs/reference/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/deploying/relative-paths":"docs","docs/next/reference/strategies/build-state":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/templates/intro":"docs","docs/next/advanced/routing":"docs","docs/0.2.x/advanced/routing":"docs","docs/next/reference/templates/metadata-modification":"docs","docs/0.3.4/reference/i18n/other-engines":"docs","docs/0.3.4/advanced/route-announcer":"docs","docs/0.3.4/advanced/subsequent-loads":"docs","docs/reference/deploying/serverless":"docs","docs/0.3.0-0.3.3/hydration":"docs","docs/0.1.x/strategies/incremental":"docs","docs/reference/server-communication":"docs","docs/0.3.4/reference/i18n/defining":"docs","docs/reference/templates/metadata-modification":"docs","docs/0.3.4/reference/perseus-app":"docs","docs/0.2.x/strategies/request-state":"docs","docs/reference/plugins/security":"docs","docs/next/reference/strategies/incremental":"docs","docs/0.3.4/tutorials/second-app":"docs","docs/reference/strategies/request-state":"docs","docs/next/reference/state/hsr":"docs","docs/0.3.0-0.3.3/updating":"docs","docs/reference/debugging":"docs","docs/0.3.4/reference/views":"docs","docs/next/reference/hydration":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/i18n/other-engines":"docs","docs/0.3.0-0.3.3/strategies/request-state":"docs","docs/reference/live-reloading":"docs","docs/reference/hydration":"docs","docs/0.3.0-0.3.3/testing/checkpoints":"docs","docs/0.3.0-0.3.3/define-app":"docs","docs/0.3.4/reference/deploying/docker":"docs","docs/0.1.x/setup":"docs","docs/0.3.0-0.3.3/advanced/routing":"docs","docs/0.3.4/reference/testing/intro":"docs","docs/0.3.0-0.3.3/static-content":"docs","docs/next/reference/styling":"docs","plugins":"plugins","docs/reference/testing/manual":"docs","docs/next/reference/plugins/control":"docs","docs/next/reference/deploying/size":"docs","docs/next/reference/state/global":"docs","docs/0.3.4/reference/index-view":"docs","docs/0.1.x/config_managers":"docs","docs/next/reference/strategies/build-paths":"docs","index":"index","docs/0.3.0-0.3.3/snooping":"docs","docs/0.3.0-0.3.3/error-pages":"docs","docs/reference/strategies/revalidation":"docs","docs/0.1.x/routing":"docs","docs/next/reference/define-app":"docs","docs/0.3.4/reference/testing/manual":"docs","docs/0.3.0-0.3.3/deploying/size":"docs","docs/what-is-perseus":"docs","docs/0.3.0-0.3.3/plugins/intro":"docs","docs/0.3.4/reference/deploying/relative-paths":"docs","docs/next/reference/deploying/docker":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.3.4/advanced/intro":"docs","docs/reference/plugins/intro":"docs","docs/0.3.0-0.3.3/plugins/functional":"docs","docs/next/reference/templates/router-state":"docs","docs/0.3.4/reference/i18n/using":"docs","docs/reference/deploying/serverful":"docs","docs/0.3.0-0.3.3/advanced/subsequent-loads":"docs","docs/0.3.4/reference/plugins/writing":"docs","docs/reference/perseus-app":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/0.3.4/reference/plugins/tinker":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.3.0-0.3.3/styling":"docs","docs/next/reference/plugins/security":"docs","docs/0.1.x/templates":"docs","docs/next/tutorials/second-app":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/0.2.x/config-managers":"docs","docs/next/reference/state/freezing":"docs","docs/0.3.4/reference/deploying/intro":"docs","docs/next/reference/cli":"docs","docs/0.3.0-0.3.3/i18n/intro":"docs","docs/reference/static-content":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/next/reference/i18n/translations-managers":"docs","docs/advanced/intro":"docs","docs/tutorials/auth":"docs","docs/0.3.4/advanced/initial-loads":"docs","docs/0.3.4/reference/plugins/publishing":"docs","docs/0.3.4/reference/state/global":"docs","docs/advanced/subsequent-loads":"docs","docs/next/reference/plugins/functional":"docs","docs/reference/cli":"docs","docs/reference/testing/fantoccini-basics":"docs","docs/0.2.x/cli":"docs","docs/0.3.0-0.3.3/advanced/initial-loads":"docs","docs/0.3.4/reference/plugins/functional":"docs","docs/next/intro":"docs","docs/reference/i18n/other-engines":"docs","docs/0.3.4/reference/strategies/amalgamation":"docs","docs/0.1.x/strategies/build_state":"docs","docs/0.2.x/advanced/arch":"docs","docs/next/reference/plugins/publishing":"docs","docs/0.3.4/advanced/arch":"docs","docs/0.3.4/reference/i18n/intro":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/0.3.4/reference/strategies/build-paths":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/next/reference/deploying/serverful":"docs","docs/next/reference/state/idb-freezing":"docs","docs/0.3.4/reference/server-communication":"docs","docs/reference/templates/router-state":"docs","docs/next/reference/i18n/defining":"docs","docs/0.3.4/reference/state/rx":"docs","docs/0.3.0-0.3.3/strategies/build-paths":"docs","docs/next/core-principles":"docs","docs/0.3.4/reference/updating":"docs","docs/reference/i18n/defining":"docs","docs/0.3.4/reference/stores":"docs","docs/next/reference/i18n/other-engines":"docs","docs/0.3.4/reference/strategies/build-state":"docs","docs/reference/state/hsr":"docs","docs/0.3.0-0.3.3/i18n/defining":"docs","docs/0.3.0-0.3.3/i18n/using":"docs","docs/next/reference/ejecting":"docs","docs/next/reference/static-content":"docs","docs/0.2.x/i18n/using":"docs","docs/next/reference/i18n/using":"docs","docs/0.3.4/reference/i18n/translations-managers":"docs","docs/0.3.4/reference/engines":"docs","docs/next/reference/state/rx":"docs","docs/next/reference/engines":"docs","docs/0.3.0-0.3.3/plugins/control":"docs","docs/next/reference/strategies/request-state":"docs","docs/next/reference/templates/setting-headers":"docs","docs/0.3.0-0.3.3/deploying/intro":"docs","docs/next/advanced/initial-loads":"docs","docs/0.3.4/tutorials/auth":"docs","docs/0.3.0-0.3.3/stores":"docs","docs/0.2.x/strategies/build-state":"docs","docs/reference/plugins/publishing":"docs","docs/0.3.4/reference/hydration":"docs","docs/tutorials/hello-world":"docs","docs/next/reference/testing/manual":"docs","docs/0.3.0-0.3.3/strategies/build-state":"docs","docs/reference/updating":"docs","docs/0.3.0-0.3.3/pitfalls-and-bugs":"docs","docs/0.3.4/intro":"docs","docs/reference/state/idb-freezing":"docs","docs/reference/plugins/using":"docs","docs/intro":"docs","docs/tutorials/second-app":"docs","docs/0.3.4/reference/deploying/serverless":"docs","docs/0.3.0-0.3.3/deploying/docker":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/next/reference/server-communication":"docs","docs/reference/styling":"docs","docs/next/reference/error-pages":"docs","docs/0.3.4/reference/error-pages":"docs","docs/next/reference/testing/fantoccini-basics":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.3.4/advanced/routing":"docs","docs/0.3.4/reference/plugins/intro":"docs","docs/0.3.0-0.3.3/plugins/writing":"docs","docs/0.3.4/reference/state/idb-freezing":"docs","docs/next/reference/strategies/revalidation":"docs","docs/advanced/arch":"docs","docs/0.3.4/reference/static-content":"docs","docs/next/reference/pitfalls-and-bugs":"docs","docs/0.3.0-0.3.3/templates/metadata-modification":"docs","docs/0.3.0-0.3.3/strategies/amalgamation":"docs","docs/next/reference/testing/checkpoints":"docs","docs/next/reference/index-view":"docs","docs/0.3.0-0.3.3/testing/intro":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.3.4/reference/deploying/size":"docs","docs/0.2.x/static-content":"docs","docs/reference/state/freezing":"docs","docs/reference/testing/checkpoints":"docs","docs/0.3.4/tutorials/hello-world":"docs","docs/0.3.4/reference/testing/fantoccini-basics":"docs","docs/next/reference/exporting":"docs","docs/0.2.x/error-pages":"docs","docs/next/tutorials/auth":"docs","docs/next/reference/live-reloading":"docs","docs/0.3.0-0.3.3/advanced/intro":"docs","docs/0.3.0-0.3.3/hello-world":"docs","docs/0.3.4/reference/templates/setting-headers":"docs","docs/0.3.4/reference/state/freezing":"docs","docs/0.3.0-0.3.3/exporting":"docs","docs/next/reference/debugging":"docs","docs/next/advanced/arch":"docs","docs/0.2.x/testing/intro":"docs","docs":"docs","docs/next/reference/deploying/relative-paths":"docs","docs/0.3.4/reference/strategies/intro":"docs","docs/0.3.0-0.3.3/server-communication":"docs","docs/0.3.0-0.3.3/testing/fantoccini-basics":"docs","docs/0.3.4/reference/strategies/incremental":"docs","docs/0.1.x/serving":"docs","docs/reference/views":"docs","docs/reference/strategies/incremental":"docs","docs/0.2.x/second-app":"docs","docs/0.3.4/reference/snooping":"docs","docs/0.3.4/reference/state/hsr":"docs","docs/0.3.0-0.3.3/plugins/security":"docs","docs/reference/deploying/relative-paths":"docs","docs/reference/engines":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/next/advanced/subsequent-loads":"docs","docs/reference/state/global":"docs","docs/next/reference/strategies/intro":"docs","docs/reference/strategies/build-paths":"docs","docs/reference/exporting":"docs","docs/0.2.x/define-app":"docs","docs/0.2.x/hello-world":"docs","docs/0.3.0-0.3.3/templates/setting-headers":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/0.3.0-0.3.3/ejecting":"docs","docs/0.2.x/testing/manual":"docs","docs/0.1.x/cli":"docs","docs/0.2.x/templates/intro":"docs","docs/0.3.0-0.3.3/cli":"docs","docs/next/reference/plugins/intro":"docs","docs/0.3.0-0.3.3/what-is-perseus":"docs","docs/reference/plugins/functional":"docs","docs/0.3.4/reference/plugins/security":"docs","docs/next/reference/plugins/using":"docs","docs/0.3.0-0.3.3/plugins/tinker":"docs","docs/0.3.4/reference/ejecting":"docs","docs/0.3.4/reference/pitfalls-and-bugs":"docs","docs/0.2.x/views":"docs","docs/0.3.4/reference/define-app":"docs","docs/0.1.x/building":"docs","docs/reference/plugins/tinker":"docs","docs/next/reference/updating":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title data-hk="1.0">Reactive State | Perseus Docs</title><link href=".perseus/static/styles/markdown.css" data-hk="1.1" rel="stylesheet"/><link rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css" data-hk="1.2"/><link data-hk="1.3" rel="stylesheet" href=".perseus/static/prism.css"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"Reactive State","content":"<h1>Reactive State</h1>\\n<p>In v0.3.4, Perseus added support for <em>reactive state</em>, which we talked about a bit in the tutorials at the beginning of the documentation. If you've come from a Perseus version before v0.3.4, this system will be quite new to you, as it adds a whole new platform on which templates can interact with their state. Originally, you could generate state, and then it would be done, and the template would receive it as is. Now, that state can be made <em>reactive</em> by wrapping all its fields inside <code>Signal</code>s, and it will then be added to a global store of page state. The platform this is built on allows a whole new level of state mechanics in Perseus, including <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/global\\">global state</a> and even <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/hsr\\">hot state reloading</a> (a world first to our knowledge)!</p>\\n<p>In essence, Perseus now provides a way to make your state automatically reactive, which enables some <em>really</em> cool new features!</p>\\n<p>To use this new platform, just annotate a state <code>struct</code> with <code>#[perseus::make_rx(RxName)]</code>, where <code>RxName</code> is the name of the new reactive <code>struct</code> (e.g. <code>IndexState</code> might become <code>IndexStateRx</code>). This macro wraps every single property in your <code>struct</code> in a <code>Signal</code> and produces a new reactive version that way, implementing <code>perseus::state::MakeRx</code> on the original to provide a method <code>.make_rx()</code> that can be used to convert from the unreactive version to the reactive one (there's also the reverse through <code>perseus::state::MakeUnrx</code>, which is implemented on the new, reactive version). If you have fields on your <code>struct</code> that are themselves <code>struct</code>s, you'll need to nest that reactivity, which you can do by adding <code>#[rx::nested(&quot;field&quot;, FieldRxName)]</code> just underneath the <code>#[make_rx(...)]</code> macro, providing it the name of the field and the type of the reactive version (which you'd generated with <code>#[make_rx(...)]</code>). Notably, <code>#[make_rx(...)]</code> automatically derives <code>Serialize</code>, <code>Deserialize</code>, and <code>Clone</code> on your <code>struct</code> (so don't derive them yourself!).</p>\\n<p><em>Note: Sycamore has a proposal to support fine-grained reactivity like this through observers, which will supersede this when they're released, and they'll make all this even faster! Right now, everything has to be cloned unfortunately.</em></p>\\n<p>Once you've got some reactive versions of your state <code>struct</code>s ready, you should generate the unreactive versions as usual in functions like <code>get_build_state()</code>, but then set the first argument on your template function to the reactive version (e.g. <code>IndexStateRx</code> rather than <code>IndexState</code>). This requires Perseus to convert between the unreactive and reactive versions in the background, which you can enable by changing the old <code>#[template(...)]</code> (used in the old documentation/tutorials) to <code>#[template_rx]</code> and removing the Sycamore <code>#[component]</code> annotation (this is added automatically by <code>#[template_rx]</code>). Behind the scenes, you've just enabled the world's most powerful state platform, and not only will your state be made reactive for you, it will be added to the <em>page state store</em>, a global store that enables Perseus to cache the state of a page. So, if your users start filling out forms on page 1 and then go to page 2, and then come back to page 1, their forms will be just how they left them. (Not sure about you, but it feels to us like it's about time this was the default on the web!)</p>\\n<p><em>Side note: if you think this behavior is horrific, you can still use the old \`#[template(...)] macro, and we have no plans to deprecate it. Perseus' original unreactive state system worked very well, and there are still plenty of use cases where you may not want all this newfangled reactive state nonsense (like completely static blogs).</em></p>\\n<p>You may be wondering what the benefits of having a reactive state are. Well, the intention is this: every possible state your page can be in should be representable in your state. That means that, whenever you'd usually declare a new variable in a <code>Signal</code> to handle some state, you can move it into your template's state and handle it there instead, making things cleaner and taking advantage of Perseus' state caching system. If your entire app doesn't use any of this though, you can still trivially use the old state platform if you want to.</p>\\n<h2>Example</h2>\\n<p>This can all be a bit hard to imagine, so here's how it looks in practice with a simple state involving a <code>username</code> that the user can type in, and then it'll be displayed back to them. You can see the source <a href=\\"https://github.com/arctic-hen7/perseus/blob/main/examples/core/rx_state/src/templates/index.rs\\">here</a>.</p>\\n<pre><code class=\\"language-rust\\">use perseus::{Html, RenderFnResultWithCause, Template};\\nuse sycamore::prelude::{view, SsrNode, View};\\n\\n#[perseus::make_rx(IndexPageStateRx)]\\npub struct IndexPageState {\\n    pub username: String,\\n}\\n\\n// This macro will make our state reactive *and* store it in the page state store, which means it'll be the same even if we go to the about page and come back (as long as we're in the same session)\\n#[perseus::template_rx]\\npub fn index_page(state: IndexPageStateRx) -&gt; View&lt;G&gt; {\\n    let username = state.username;\\n    let username_2 = username.clone();\\n\\n    view! {\\n        p { (format!(&quot;Greetings, {}!&quot;, username.get())) }\\n        input(bind:value = username_2, placeholder = &quot;Username&quot;)\\n\\n        a(href = &quot;about&quot;, id = &quot;about-link&quot;) { &quot;About&quot; }\\n    }\\n}\\n\\n#[perseus::head]\\npub fn head() -&gt; View&lt;SsrNode&gt; {\\n    view! {\\n        title { &quot;Index Page&quot; }\\n    }\\n}\\n\\npub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {\\n    Template::new(&quot;index&quot;)\\n        .template(index_page)\\n        .head(head)\\n        .build_state_fn(get_build_state)\\n}\\n\\n#[perseus::autoserde(build_state)]\\npub async fn get_build_state(\\n    _path: String,\\n    _locale: String,\\n) -&gt; RenderFnResultWithCause&lt;IndexPageState&gt; {\\n    Ok(IndexPageState {\\n        username: &quot;&quot;.to_string(),\\n    })\\n}\\n\\n</code></pre>\\n<p>The only particularly unergonomic thing here is that we have to <code>.clone()</code> the <code>username</code> so that we can both <code>bind:value</code> to it and display it. Note that this will be made unnecessary with Sycamore's new reactive primitives (which will be released soon).</p>\\n<h2>Accessing Another Page's State</h2>\\n<p>Because every template that uses this pattern will have its state added to a special <em>page state store</em>, you can actually access the state of another page quite easily. However, you must be careful doing this, because the other page's state will only be available if it's been loaded by the user. On the server, every page is loaded in its own little silo to prevent corruption, so no other page will ever have been 'loaded'. As for in the browser, you might design an app in which it's only possible to get to a certain page by going through another, but you still can't assume that that page has been loaded, because <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/freezing\\">state freezing</a> can let a user pick up from any page in your app, and such special rendering flows will be shattered.</p>\\n<p>All that said, you can access another page's state like so (see <a href=\\"https://github.com/arctic-hen7/perseus/blob/main/examples/core/rx_state/src/templates/about.rs\\">here</a>):</p>\\n<pre><code class=\\"language-rust\\">use crate::templates::index::IndexPageStateRx;\\nuse perseus::{get_render_ctx, Html, Template};\\nuse sycamore::prelude::{view, Signal};\\nuse sycamore::view::View;\\n\\n// WARNING: Accessing the page state store manually as this template does is NOT recommended, and is done for demonstration purposes only! In reality, you should use global state for anything that\\n// you need to share between pages.\\n\\n#[perseus::template_rx]\\npub fn about_page() -&gt; View&lt;G&gt; {\\n    // Get the page state store manually\\n    // The index page is just an empty string\\n    let index_props_rx = get_render_ctx!()\\n        .page_state_store\\n        .get::&lt;IndexPageStateRx&gt;(&quot;&quot;);\\n    // Get the state from the index page\\n    // If the user hasn't visited there yet, this won't exist\\n    let username = match index_props_rx {\\n        Some(IndexPageStateRx { username }) =&gt; username,\\n        None =&gt; Signal::new(&quot;&quot;.to_string()),\\n    };\\n\\n    view! {\\n        p { (format!(&quot;Greetings, {}!&quot;, username.get())) }\\n\\n        a(href = &quot;&quot;) { &quot;Index&quot; }\\n    }\\n}\\n\\npub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {\\n    Template::new(&quot;about&quot;).template(about_page)\\n}\\n\\n</code></pre>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/intro\\">Introduction</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/core-principles\\">Core Principles</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/hello-world\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/second-app\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/perseus-app\\"><code>PerseusApp</code></a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/define-app\\"><code>define_app!</code></a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/views\\">Writing Views</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/index-view\\">The Index View</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/live-reloading\\">Live Reloading</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/intro\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/metadata-modification\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/setting-headers\\">Modifying HTTP Headers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/router-state\\">Listening to the Router</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/error-pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/static-content\\">Static Content</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/intro\\">Internationalization</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/defining\\">Defining Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/using\\">Using Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/translations-managers\\">Translations Managers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/other-engines\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/request-state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/incremental\\">Incremental Generation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/amalgamation\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/rx\\">Reactive State</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/global\\">Global State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/freezing\\">State Freezing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/idb-freezing\\">Freezing to IndexedDB</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/hsr\\">Hot State Reloading (HSR)</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/cli\\">CLI</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/ejecting\\">Ejecting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/snooping\\">Snooping</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/intro\\">Testing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/checkpoints\\">Checkpoints</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/fantoccini-basics\\">Fantoccini Basics</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/manual\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/styling\\">Styling</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/server-communication\\">Communicating with a Server</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/stores\\">Stores</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/intro\\">Plugins</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/functional\\">Functional Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/control\\">Control Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/using\\">Using Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/tinker\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/writing\\">Writing Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/security\\">Security Considerations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/publishing\\">Publishing Plugins</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/engines\\">Engines</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/intro\\">Deploying</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverful\\">Server Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverless\\">Serverless Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/size\\">Optimizing Code Size</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/relative-paths\\">Relative Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/docker\\">Docker Deployment</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/updating\\">Migrating from v0.3.3</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/pitfalls-and-bugs\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/intro\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/initial-loads\\">Initial Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/subsequent-loads\\">Subsequent Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/routing\\">Routing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/route-announcer\\">Route Announcer</a></li>\\n</ul>\\n<hr />\\n<h1>Further Tutorials</h1>\\n<ul>\\n<li><a href=\\"docs/tutorials/auth\\">Authentication</a></li>\\n</ul>\\n","status":"Stable","manifest":{"stable":"0.3.4","outdated":["0.3.0-0.3.3","0.2.x","0.1.x"],"beta":[],"history_map":{"0.2.x":"v0.2.3","0.3.4":"HEAD","0.3.0-0.3.3":"v0.3.3","0.1.x":"v0.1.4"}},"current_version":"0.3.4"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20" data-hk="3.0"><div data-hk="3.1" class="flex justify-between"><a href="en-US/" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" data-hk="3.2">Perseus</a><div data-hk="3.3" class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div data-hk="3.4" class="tham-box"><div data-hk="3.5" class="dark:bg-white tham-inner"></div></div></div><nav data-hk="3.6" class="hidden md:flex"><ul data-hk="3.7" class="mr-5 flex"><li data-hk="4.0" class="m-3 p-1"><a data-hk="4.1" href="en-US/docs" class="px-2">Docs</a></li><li class="m-3 p-1" data-hk="4.2"><a href="en-US/comparisons" data-hk="4.3" class="px-2">Comparisons</a></li><li class="m-3 p-1" data-hk="4.4"><a class="px-2" href="en-US/plugins" data-hk="4.5">Plugins</a></li></ul></nav></div><nav class="md:hidden w-full text-center justify-center overflow-y-scroll hidden" id="mobile_nav_menu" data-hk="3.8"><div data-hk="3.9" class="mr-5 overflow-y-scroll" style="max-height: 500px"><ul data-hk="3.10"><li data-hk="5.0" class="m-3 p-1"><a class="px-2" href="en-US/docs" data-hk="5.1">Docs</a></li><li data-hk="5.2" class="m-3 p-1"><a href="en-US/comparisons" class="px-2" data-hk="5.3">Comparisons</a></li><li data-hk="5.4" class="m-3 p-1"><a data-hk="5.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul><hr data-hk="3.11"/><div data-hk="3.12" class="text-left p-3"><!--#--><!----><select data-hk="6.0" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="6.1" value="next">Next (unreleased)</option><!--#--><!--/--><option selected="" value="0.3.4" data-hk="6.2">v⁨0.3.4⁩ (stable)</option><!--#--><option data-hk="6.3" value="0.3.0-0.3.3">v⁨0.3.0-0.3.3⁩ (outdated)</option><option value="0.2.x" data-hk="6.4">v⁨0.2.x⁩ (outdated)</option><option data-hk="6.5" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div class="docs-links-markdown" data-hk="3.13"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/perseus-app"><code>PerseusApp</code></a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/define-app"><code>define_app!</code></a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/views">Writing Views</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/index-view">The Index View</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/updating">Migrating from v0.3.3</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/route-announcer">Route Announcer</a></li>
</ul>
<hr />
<h1>Further Tutorials</h1>
<ul>
<li><a href="docs/tutorials/auth">Authentication</a></li>
</ul>
</div></div></div></nav></header><div class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex" data-hk="3.14"><div data-hk="3.15" class="flex w-full"><div class="h-full hidden md:block max-w-xs w-full border-r" data-hk="3.16"><div data-hk="3.17" class="mr-5"><div class="text-left text-black dark:text-white p-3" data-hk="3.18"><aside data-hk="3.19"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="7.0"><option data-hk="7.1" value="next">Next (unreleased)</option><!--#--><!--/--><option data-hk="7.2" selected="" value="0.3.4">v⁨0.3.4⁩ (stable)</option><!--#--><option data-hk="7.3" value="0.3.0-0.3.3">v⁨0.3.0-0.3.3⁩ (outdated)</option><option value="0.2.x" data-hk="7.4">v⁨0.2.x⁩ (outdated)</option><option data-hk="7.5" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div class="docs-links-markdown" data-hk="3.20"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/perseus-app"><code>PerseusApp</code></a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/define-app"><code>define_app!</code></a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/views">Writing Views</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/index-view">The Index View</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/updating">Migrating from v0.3.3</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/route-announcer">Route Announcer</a></li>
</ul>
<hr />
<h1>Further Tutorials</h1>
<ul>
<li><a href="docs/tutorials/auth">Authentication</a></li>
</ul>
</div></aside></div></div></div><div class="h-full flex w-full" data-hk="3.21"><div class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl" data-hk="3.22"><!--#--><!----><!--/--><main class="text-black dark:text-white" data-hk="3.23"><div class="markdown" data-hk="2.0"><h1>Reactive State</h1>
<p>In v0.3.4, Perseus added support for <em>reactive state</em>, which we talked about a bit in the tutorials at the beginning of the documentation. If you've come from a Perseus version before v0.3.4, this system will be quite new to you, as it adds a whole new platform on which templates can interact with their state. Originally, you could generate state, and then it would be done, and the template would receive it as is. Now, that state can be made <em>reactive</em> by wrapping all its fields inside <code>Signal</code>s, and it will then be added to a global store of page state. The platform this is built on allows a whole new level of state mechanics in Perseus, including <a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/global">global state</a> and even <a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/hsr">hot state reloading</a> (a world first to our knowledge)!</p>
<p>In essence, Perseus now provides a way to make your state automatically reactive, which enables some <em>really</em> cool new features!</p>
<p>To use this new platform, just annotate a state <code>struct</code> with <code>#[perseus::make_rx(RxName)]</code>, where <code>RxName</code> is the name of the new reactive <code>struct</code> (e.g. <code>IndexState</code> might become <code>IndexStateRx</code>). This macro wraps every single property in your <code>struct</code> in a <code>Signal</code> and produces a new reactive version that way, implementing <code>perseus::state::MakeRx</code> on the original to provide a method <code>.make_rx()</code> that can be used to convert from the unreactive version to the reactive one (there's also the reverse through <code>perseus::state::MakeUnrx</code>, which is implemented on the new, reactive version). If you have fields on your <code>struct</code> that are themselves <code>struct</code>s, you'll need to nest that reactivity, which you can do by adding <code>#[rx::nested(&quot;field&quot;, FieldRxName)]</code> just underneath the <code>#[make_rx(...)]</code> macro, providing it the name of the field and the type of the reactive version (which you'd generated with <code>#[make_rx(...)]</code>). Notably, <code>#[make_rx(...)]</code> automatically derives <code>Serialize</code>, <code>Deserialize</code>, and <code>Clone</code> on your <code>struct</code> (so don't derive them yourself!).</p>
<p><em>Note: Sycamore has a proposal to support fine-grained reactivity like this through observers, which will supersede this when they're released, and they'll make all this even faster! Right now, everything has to be cloned unfortunately.</em></p>
<p>Once you've got some reactive versions of your state <code>struct</code>s ready, you should generate the unreactive versions as usual in functions like <code>get_build_state()</code>, but then set the first argument on your template function to the reactive version (e.g. <code>IndexStateRx</code> rather than <code>IndexState</code>). This requires Perseus to convert between the unreactive and reactive versions in the background, which you can enable by changing the old <code>#[template(...)]</code> (used in the old documentation/tutorials) to <code>#[template_rx]</code> and removing the Sycamore <code>#[component]</code> annotation (this is added automatically by <code>#[template_rx]</code>). Behind the scenes, you've just enabled the world's most powerful state platform, and not only will your state be made reactive for you, it will be added to the <em>page state store</em>, a global store that enables Perseus to cache the state of a page. So, if your users start filling out forms on page 1 and then go to page 2, and then come back to page 1, their forms will be just how they left them. (Not sure about you, but it feels to us like it's about time this was the default on the web!)</p>
<p><em>Side note: if you think this behavior is horrific, you can still use the old `#[template(...)] macro, and we have no plans to deprecate it. Perseus' original unreactive state system worked very well, and there are still plenty of use cases where you may not want all this newfangled reactive state nonsense (like completely static blogs).</em></p>
<p>You may be wondering what the benefits of having a reactive state are. Well, the intention is this: every possible state your page can be in should be representable in your state. That means that, whenever you'd usually declare a new variable in a <code>Signal</code> to handle some state, you can move it into your template's state and handle it there instead, making things cleaner and taking advantage of Perseus' state caching system. If your entire app doesn't use any of this though, you can still trivially use the old state platform if you want to.</p>
<h2>Example</h2>
<p>This can all be a bit hard to imagine, so here's how it looks in practice with a simple state involving a <code>username</code> that the user can type in, and then it'll be displayed back to them. You can see the source <a href="https://github.com/arctic-hen7/perseus/blob/main/examples/core/rx_state/src/templates/index.rs">here</a>.</p>
<pre><code class="language-rust">use perseus::{Html, RenderFnResultWithCause, Template};
use sycamore::prelude::{view, SsrNode, View};

#[perseus::make_rx(IndexPageStateRx)]
pub struct IndexPageState {
    pub username: String,
}

// This macro will make our state reactive *and* store it in the page state store, which means it'll be the same even if we go to the about page and come back (as long as we're in the same session)
#[perseus::template_rx]
pub fn index_page(state: IndexPageStateRx) -&gt; View&lt;G&gt; {
    let username = state.username;
    let username_2 = username.clone();

    view! {
        p { (format!(&quot;Greetings, {}!&quot;, username.get())) }
        input(bind:value = username_2, placeholder = &quot;Username&quot;)

        a(href = &quot;about&quot;, id = &quot;about-link&quot;) { &quot;About&quot; }
    }
}

#[perseus::head]
pub fn head() -&gt; View&lt;SsrNode&gt; {
    view! {
        title { &quot;Index Page&quot; }
    }
}

pub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {
    Template::new(&quot;index&quot;)
        .template(index_page)
        .head(head)
        .build_state_fn(get_build_state)
}

#[perseus::autoserde(build_state)]
pub async fn get_build_state(
    _path: String,
    _locale: String,
) -&gt; RenderFnResultWithCause&lt;IndexPageState&gt; {
    Ok(IndexPageState {
        username: &quot;&quot;.to_string(),
    })
}

</code></pre>
<p>The only particularly unergonomic thing here is that we have to <code>.clone()</code> the <code>username</code> so that we can both <code>bind:value</code> to it and display it. Note that this will be made unnecessary with Sycamore's new reactive primitives (which will be released soon).</p>
<h2>Accessing Another Page's State</h2>
<p>Because every template that uses this pattern will have its state added to a special <em>page state store</em>, you can actually access the state of another page quite easily. However, you must be careful doing this, because the other page's state will only be available if it's been loaded by the user. On the server, every page is loaded in its own little silo to prevent corruption, so no other page will ever have been 'loaded'. As for in the browser, you might design an app in which it's only possible to get to a certain page by going through another, but you still can't assume that that page has been loaded, because <a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/freezing">state freezing</a> can let a user pick up from any page in your app, and such special rendering flows will be shattered.</p>
<p>All that said, you can access another page's state like so (see <a href="https://github.com/arctic-hen7/perseus/blob/main/examples/core/rx_state/src/templates/about.rs">here</a>):</p>
<pre><code class="language-rust">use crate::templates::index::IndexPageStateRx;
use perseus::{get_render_ctx, Html, Template};
use sycamore::prelude::{view, Signal};
use sycamore::view::View;

// WARNING: Accessing the page state store manually as this template does is NOT recommended, and is done for demonstration purposes only! In reality, you should use global state for anything that
// you need to share between pages.

#[perseus::template_rx]
pub fn about_page() -&gt; View&lt;G&gt; {
    // Get the page state store manually
    // The index page is just an empty string
    let index_props_rx = get_render_ctx!()
        .page_state_store
        .get::&lt;IndexPageStateRx&gt;(&quot;&quot;);
    // Get the state from the index page
    // If the user hasn't visited there yet, this won't exist
    let username = match index_props_rx {
        Some(IndexPageStateRx { username }) =&gt; username,
        None =&gt; Signal::new(&quot;&quot;.to_string()),
    };

    view! {
        p { (format!(&quot;Greetings, {}!&quot;, username.get())) }

        a(href = &quot;&quot;) { &quot;Index&quot; }
    }
}

pub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {
    Template::new(&quot;about&quot;).template(about_page)
}

</code></pre>
</div></main></div></div></div></div><footer data-hk="3.24" class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep"><p class="dark:text-white mx-5 text-center" data-hk="3.25"><span data-hk="3.26">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script defer="" data-hk="2.1" src=".perseus/static/prism.js"></script><script data-hk="2.2">window.Prism.highlightAll();</script></div></div>
    </body>
</html>
