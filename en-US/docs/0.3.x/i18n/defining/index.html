<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs/testing/fantoccini-basics":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/next/strategies/build-paths":"docs","docs/0.2.x/testing/manual":"docs","docs/0.2.x/i18n/using":"docs","docs/next/deploying/size":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.3.x/strategies/incremental":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.3.x/i18n/other-engines":"docs","docs/next/testing/fantoccini-basics":"docs","docs/next/plugins/security":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/advanced/initial-loads":"docs","docs/0.2.x/advanced/arch":"docs","docs/debugging":"docs","docs/0.3.x/cli":"docs","docs/testing/manual":"docs","docs/templates/setting-headers":"docs","docs/0.3.x/strategies/request-state":"docs","docs/next/static-content":"docs","docs/0.3.x/testing/fantoccini-basics":"docs","docs/0.3.x/advanced/intro":"docs","docs/0.1.x/setup":"docs","docs/0.3.x/what-is-perseus":"docs","docs/next/server-communication":"docs","docs/next/strategies/build-state":"docs","docs/next/plugins/intro":"docs","docs/next/error-pages":"docs","docs/next/i18n/other-engines":"docs","docs/strategies/build-paths":"docs","docs/next/plugins/publishing":"docs","docs/next/templates/setting-headers":"docs","docs/0.3.x/intro":"docs","docs/0.3.x/i18n/defining":"docs","docs/next/stores":"docs","docs/0.2.x/config-managers":"docs","docs/next/advanced/arch":"docs","docs/0.3.x/advanced/arch":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.3.x/testing/checkpoints":"docs","docs/0.2.x/testing/intro":"docs","docs/0.3.x/deploying/serverless":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/0.3.x/deploying/intro":"docs","docs/strategies/incremental":"docs","docs/next/hello-world":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.1.x/cli":"docs","docs/i18n/using":"docs","docs/0.3.x/exporting":"docs","docs/next/advanced/intro":"docs","docs/next/plugins/using":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.3.x/stores":"docs","docs/cli":"docs","docs/0.2.x/static-content":"docs","docs/next/advanced/subsequent-loads":"docs","docs/0.2.x/cli":"docs","docs/0.3.x/hello-world":"docs","docs/next/snooping":"docs","docs/0.2.x/error-pages":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/next/i18n/translations-managers":"docs","docs/0.3.x/styling":"docs","comparisons":"comparisons","docs/next/strategies/request-state":"docs","docs/0.3.x/plugins/security":"docs","docs/strategies/intro":"docs","docs":"docs","docs/0.3.x/i18n/intro":"docs","docs/next/i18n/using":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/0.1.x/error_pages":"docs","docs/0.2.x/debugging":"docs","docs/i18n/translations-managers":"docs","docs/0.1.x/config_managers":"docs","docs/templates/intro":"docs","docs/next/advanced/routing":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.2.x/intro":"docs","docs/0.1.x/templates":"docs","docs/advanced/intro":"docs","docs/0.3.x/templates/intro":"docs","docs/0.3.x/plugins/using":"docs","docs/deploying/exporting":"docs","docs/next/strategies/revalidation":"docs","docs/0.3.x/ejecting":"docs","docs/0.2.x/advanced/routing":"docs","docs/next/define-app":"docs","docs/define-app":"docs","docs/0.3.x/strategies/build-state":"docs","docs/templates/metadata-modification":"docs","docs/0.2.x/define-app":"docs","docs/0.3.x/pitfalls-and-bugs":"docs","docs/0.3.x/deploying/size":"docs","docs/advanced/routing":"docs","docs/0.3.x/static-content":"docs","docs/next/intro":"docs","docs/ejecting":"docs","docs/second-app":"docs","docs/testing/intro":"docs","docs/0.3.x/plugins/control":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/next/what-is-perseus":"docs","docs/views":"docs","docs/0.2.x/second-app":"docs","docs/next/testing/checkpoints":"docs","docs/0.2.x/i18n/intro":"docs","docs/0.3.x/templates/metadata-modification":"docs","docs/0.2.x/advanced/intro":"docs","docs/next/second-app":"docs","docs/next/templates/intro":"docs","docs/0.2.x/i18n/defining":"docs","docs/next/views":"docs","docs/i18n/other-engines":"docs","docs/0.3.x/templates/setting-headers":"docs","docs/hello-world":"docs","docs/0.2.x/ejecting":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.3.x/server-communication":"docs","docs/next/plugins/control":"docs","docs/advanced/subsequent-loads":"docs","docs/0.3.x/snooping":"docs","docs/next/cli":"docs","docs/next/deploying/relative-paths":"docs","docs/next/strategies/incremental":"docs","docs/advanced/arch":"docs","docs/next/i18n/intro":"docs","docs/next/deploying/intro":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.3.x/error-pages":"docs","docs/next/pitfalls-and-bugs":"docs","docs/0.3.x/testing/intro":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.3.x/i18n/translations-managers":"docs","docs/strategies/build-state":"docs","docs/0.3.x/strategies/amalgamation":"docs","docs/0.2.x/styling":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/static-content":"docs","docs/0.3.x/views":"docs","docs/next/deploying/serverful":"docs","docs/intro":"docs","docs/deploying/intro":"docs","docs/next/strategies/intro":"docs","docs/what-is-perseus":"docs","docs/next/plugins/writing":"docs","docs/0.3.x/plugins/intro":"docs","docs/0.3.x/deploying/serverful":"docs","docs/next/i18n/defining":"docs","docs/next/plugins/functional":"docs","docs/0.1.x/strategies/build_state":"docs","docs/0.2.x/strategies/request-state":"docs","docs/i18n/intro":"docs","docs/0.3.x/define-app":"docs","docs/0.1.x/intro":"docs","docs/0.3.x/plugins/tinker":"docs","docs/next/templates/metadata-modification":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/next/advanced/initial-loads":"docs","docs/0.2.x/updating":"docs","docs/strategies/revalidation":"docs","docs/0.3.x/strategies/build-paths":"docs","docs/0.1.x/arch":"docs","docs/next/strategies/amalgamation":"docs","docs/0.2.x/what-is-perseus":"docs","docs/next/deploying/serverless":"docs","docs/next/updating":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.3.x/plugins/publishing":"docs","docs/config-managers":"docs","docs/0.1.x/serving":"docs","docs/next/styling":"docs","docs/0.3.x/strategies/intro":"docs","docs/0.3.x/debugging":"docs","docs/next/plugins/tinker":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.2.x/strategies/intro":"docs","docs/0.2.x/templates/intro":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.3.x/testing/manual":"docs","docs/0.3.x/advanced/routing":"docs","docs/testing/checkpoints":"docs","docs/0.3.x/i18n/using":"docs","docs/next/testing/intro":"docs","docs/updating":"docs","index":"index","docs/next/debugging":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/error-pages":"docs","docs/0.3.x/advanced/initial-loads":"docs","docs/0.3.x/advanced/subsequent-loads":"docs","docs/strategies/request-state":"docs","docs/0.3.x/second-app":"docs","docs/0.2.x/views":"docs","docs/next/exporting":"docs","docs/0.2.x/hello-world":"docs","docs/0.1.x/building":"docs","docs/next/ejecting":"docs","docs/0.3.x/updating":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","plugins":"plugins","docs/0.3.x/plugins/writing":"docs","docs/0.3.x/strategies/revalidation":"docs","docs/0.3.x/plugins/functional":"docs","docs/0.3.x/deploying/relative-paths":"docs","docs/0.1.x/routing":"docs","docs/styling":"docs","docs/next/testing/manual":"docs","docs/i18n/defining":"docs","docs/strategies/amalgamation":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title data-hk="1.0">Defining Translations | Perseus Docs</title><link data-hk="1.1" rel="stylesheet" href=".perseus/static/styles/markdown.css"/><link data-hk="1.2" rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css"/><link data-hk="1.3" rel="stylesheet" href=".perseus/static/prism.css"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"Defining Translations","content":"<h1>Defining Translations</h1>\\n<p>The first part of setting up i18n in Perseus is to state that your app uses it, which is done in the <code>define-app!</code> macro like so (taken from <a href=\\"https://github.com/arctic-hen7/perseus/tree/main/examples/i18n\\">the i18n example</a>):</p>\\n<pre><code class=\\"language-rust\\">mod error_pages;\\nmod templates;\\n\\nuse perseus::define_app;\\n\\ndefine_app! {\\n    templates: [\\n        crate::templates::about::get_template::&lt;G&gt;(),\\n        crate::templates::index::get_template::&lt;G&gt;(),\\n        crate::templates::post::get_template::&lt;G&gt;()\\n    ],\\n    error_pages: crate::error_pages::get_error_pages(),\\n    locales: {\\n        default: &quot;en-US&quot;,\\n        other: [&quot;fr-FR&quot;, &quot;es-ES&quot;]\\n    }\\n}\\n\\n</code></pre>\\n<p>There are two subfields under the <code>locales</code> key: <code>default</code> and <code>other</code>. Each of these locales should be specified in the form <code>xx-XX</code>, where <code>xx</code> is the language code (e.g. <code>en</code> for English, <code>fr</code> for French, <code>la</code> for Latin) and <code>XX</code> is the region code (e.g. <code>US</code> for United States, <code>GB</code> for Great Britain, <code>CN</code> for China).</p>\\n<h2>Routing</h2>\\n<p>After you've enabled i18n like so, every page on your app will be rendered behind a locale. For example, <code>/about</code> will become <code>/en-US/about</code>, <code>/fr-FR/about</code>, and<code>/es-ES/about</code> in the above example. These are automatically rendered by Perseus at build-time, and they behave exactly the same as every other feature of Perseus.</p>\\n<p>Of course, it's hardly optimal to direct users to a pre-translated page if they may prefer it in another language, which is why Perseus supports <em>locale detection</em> automatically. In other words, you can direct users to <code>/about</code>, and they'll automatically be redirected to <code>/&lt;locale&gt;/about</code>, where <code>&lt;locale&gt;</code> is their preferred locale according to <code>navigator.languages</code>. This matching is done based on <a href=\\"https://www.rfc-editor.org/rfc/rfc4647.txt\\">RFC 4647</a>, which defines how locale detection should be done.</p>\\n<h2>Adding Translations</h2>\\n<p>After you've added those definitions to <code>define_app!</code>, if you try to run your app, you'll find that ever page throws an error because it can't find any of the translations files. These must be defined under <code>translations/</code> (which should be NEXT to <code>/src</code>, not under it!), though this can be customized (explained later). They must also adhere to the naming format <code>xx-XX.ftl</code> (e.g. <code>en-US.ftl</code>). <code>.ftl</code> is the file extension that <a href=\\"https://projectfluent.org\\">Fluent</a> files use, which is the default translations system of Perseus. If you'd like to use a different system, this will be explained later.</p>\\n<p>Here's an example of a translations file (taken from <a href=\\"https://github.com/arctic-hen7/perseus/blob/main/examples/i18n/translations/en-US.ftl\\">here</a>):</p>\\n<pre><code class=\\"language-fluent\\">hello = Hello, { $user }!\\nabout = Welcome to the about page (English)!\\n\\n</code></pre>\\n<p>You can read more about Fluent's syntax <a href=\\"https://projectfluent.org\\">here</a> (it's <em>very</em> powerful).</p>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/intro\\">Introduction</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hello-world\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/second-app\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/define-app\\"><code>define_app!</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/views\\">Writing Views</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/intro\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/metadata-modification\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/setting-headers\\">Modifying HTTP Headers</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/error-pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/static-content\\">Static Content</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/intro\\">Internationalization</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/defining\\">Defining Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/using\\">Using Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/translations-managers\\">Translations Managers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/other-engines\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/request-state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/incremental\\">Incremental Generation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/amalgamation\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/cli\\">CLI</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/ejecting\\">Ejecting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/snooping\\">Snooping</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/intro\\">Testing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/checkpoints\\">Checkpoints</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/fantoccini-basics\\">Fantoccini Basics</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/manual\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/styling\\">Styling</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/server-communication\\">Communicating with a Server</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/stores\\">Stores</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/intro\\">Plugins</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/functional\\">Functional Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/control\\">Control Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/using\\">Using Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/tinker\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/writing\\">Writing Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/security\\">Security Considerations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/publishing\\">Publishing Plugins</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/intro\\">Deploying</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverful\\">Server Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverless\\">Serverless Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/size\\">Optimizing Code Size</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/relative-paths\\">Relative Paths</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/updating\\">Migrating from v0.2.x</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/pitfalls-and-bugs\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/intro\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/initial-loads\\">Initial Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/subsequent-loads\\">Subsequent Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/routing\\">Routing</a></li>\\n</ul>\\n</li>\\n</ul>\\n","status":"Beta","manifest":{"stable":"0.2.x","outdated":["0.1.x"],"beta":["0.3.x"],"history_map":{"0.3.x":"HEAD","0.2.x":"v0.2.3","0.1.x":"v0.1.4"}},"current_version":"0.3.x"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20" data-hk="3.0"><div data-hk="3.1" class="flex justify-between"><a data-hk="3.2" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" href="en-US/">Perseus</a><div data-hk="3.3" class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div class="tham-box" data-hk="3.4"><div class="dark:bg-white tham-inner" data-hk="3.5"></div></div></div><nav class="hidden md:flex" data-hk="3.6"><ul class="mr-5 flex" data-hk="3.7"><li class="m-3 p-1" data-hk="4.0"><a class="px-2" data-hk="4.1" href="en-US/docs">Docs</a></li><li class="m-3 p-1" data-hk="4.2"><a class="px-2" href="en-US/comparisons" data-hk="4.3">Comparisons</a></li><li class="m-3 p-1" data-hk="4.4"><a data-hk="4.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul></nav></div><nav data-hk="3.8" class="md:hidden w-full text-center justify-center overflow-y-scroll hidden" id="mobile_nav_menu"><div data-hk="3.9" class="mr-5 overflow-y-scroll" style="max-height: 500px"><ul data-hk="3.10"><li data-hk="5.0" class="m-3 p-1"><a class="px-2" data-hk="5.1" href="en-US/docs">Docs</a></li><li data-hk="5.2" class="m-3 p-1"><a class="px-2" data-hk="5.3" href="en-US/comparisons">Comparisons</a></li><li class="m-3 p-1" data-hk="5.4"><a data-hk="5.5" class="px-2" href="en-US/plugins">Plugins</a></li></ul><hr data-hk="3.11"/><div class="text-left p-3" data-hk="3.12"><!--#--><!----><select data-hk="6.0" class="p-2 rounded-md text-white bg-indigo-500"><option value="next" data-hk="6.1">Next (unreleased)</option><!--#--><option selected="" value="0.3.x" data-hk="6.2">v⁨0.3.x⁩ (beta)</option><!--/--><option value="0.2.x" data-hk="6.3">v⁨0.2.x⁩ (stable)</option><!--#--><option data-hk="6.4" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.13" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/setting-headers">Modifying HTTP Headers</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/relative-paths">Relative Paths</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/routing">Routing</a></li>
</ul>
</li>
</ul>
</div></div></div></nav></header><div data-hk="3.14" class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex"><div class="flex w-full" data-hk="3.15"><div data-hk="3.16" class="h-full hidden md:block max-w-xs w-full border-r"><div data-hk="3.17" class="mr-5"><div class="text-left text-black dark:text-white p-3" data-hk="3.18"><aside data-hk="3.19"><!--#--><!----><select class="p-2 rounded-md text-white bg-indigo-500" data-hk="7.0"><option data-hk="7.1" value="next">Next (unreleased)</option><!--#--><option value="0.3.x" selected="" data-hk="7.2">v⁨0.3.x⁩ (beta)</option><!--/--><option value="0.2.x" data-hk="7.3">v⁨0.2.x⁩ (stable)</option><!--#--><option data-hk="7.4" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.20" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/setting-headers">Modifying HTTP Headers</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/relative-paths">Relative Paths</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/routing">Routing</a></li>
</ul>
</li>
</ul>
</div></aside></div></div></div><div class="h-full flex w-full" data-hk="3.21"><div data-hk="3.22" class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl"><!--#--><div data-hk="3.23" class="ring-4 ring-yellow-300 p-4 rounded-lg mt-1"><div class="flex flex-col 2xs:flex-row dark:text-white" data-hk="3.24"><span class="self-center mr-2" style="fill: #fcd34d;" data-hk="3.25"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 5.99L19.53 19H4.47L12 5.99M2.74 18c-.77 1.33.19 3 1.73 3h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18zM11 11v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zm0 5h2v2h-2z"/></svg></span><p data-hk="3.26">This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href="en-US/docs/0.2.x/intro" class="underline">here</a>.</p></div></div><!--/--><main data-hk="3.27" class="text-black dark:text-white"><div data-hk="2.0" class="markdown"><h1>Defining Translations</h1>
<p>The first part of setting up i18n in Perseus is to state that your app uses it, which is done in the <code>define-app!</code> macro like so (taken from <a href="https://github.com/arctic-hen7/perseus/tree/main/examples/i18n">the i18n example</a>):</p>
<pre><code class="language-rust">mod error_pages;
mod templates;

use perseus::define_app;

define_app! {
    templates: [
        crate::templates::about::get_template::&lt;G&gt;(),
        crate::templates::index::get_template::&lt;G&gt;(),
        crate::templates::post::get_template::&lt;G&gt;()
    ],
    error_pages: crate::error_pages::get_error_pages(),
    locales: {
        default: &quot;en-US&quot;,
        other: [&quot;fr-FR&quot;, &quot;es-ES&quot;]
    }
}

</code></pre>
<p>There are two subfields under the <code>locales</code> key: <code>default</code> and <code>other</code>. Each of these locales should be specified in the form <code>xx-XX</code>, where <code>xx</code> is the language code (e.g. <code>en</code> for English, <code>fr</code> for French, <code>la</code> for Latin) and <code>XX</code> is the region code (e.g. <code>US</code> for United States, <code>GB</code> for Great Britain, <code>CN</code> for China).</p>
<h2>Routing</h2>
<p>After you've enabled i18n like so, every page on your app will be rendered behind a locale. For example, <code>/about</code> will become <code>/en-US/about</code>, <code>/fr-FR/about</code>, and<code>/es-ES/about</code> in the above example. These are automatically rendered by Perseus at build-time, and they behave exactly the same as every other feature of Perseus.</p>
<p>Of course, it's hardly optimal to direct users to a pre-translated page if they may prefer it in another language, which is why Perseus supports <em>locale detection</em> automatically. In other words, you can direct users to <code>/about</code>, and they'll automatically be redirected to <code>/&lt;locale&gt;/about</code>, where <code>&lt;locale&gt;</code> is their preferred locale according to <code>navigator.languages</code>. This matching is done based on <a href="https://www.rfc-editor.org/rfc/rfc4647.txt">RFC 4647</a>, which defines how locale detection should be done.</p>
<h2>Adding Translations</h2>
<p>After you've added those definitions to <code>define_app!</code>, if you try to run your app, you'll find that ever page throws an error because it can't find any of the translations files. These must be defined under <code>translations/</code> (which should be NEXT to <code>/src</code>, not under it!), though this can be customized (explained later). They must also adhere to the naming format <code>xx-XX.ftl</code> (e.g. <code>en-US.ftl</code>). <code>.ftl</code> is the file extension that <a href="https://projectfluent.org">Fluent</a> files use, which is the default translations system of Perseus. If you'd like to use a different system, this will be explained later.</p>
<p>Here's an example of a translations file (taken from <a href="https://github.com/arctic-hen7/perseus/blob/main/examples/i18n/translations/en-US.ftl">here</a>):</p>
<pre><code class="language-fluent">hello = Hello, { $user }!
about = Welcome to the about page (English)!

</code></pre>
<p>You can read more about Fluent's syntax <a href="https://projectfluent.org">here</a> (it's <em>very</em> powerful).</p>
</div></main></div></div></div></div><footer data-hk="3.28" class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep"><p data-hk="3.29" class="dark:text-white mx-5 text-center"><span data-hk="3.30">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script defer="" data-hk="2.1" src=".perseus/static/prism.js"></script><script data-hk="2.2">window.Prism.highlightAll();</script></div></div>
    </body>
</html>
