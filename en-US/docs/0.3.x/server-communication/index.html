<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs/next/i18n/other-engines":"docs","docs/testing/checkpoints":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.3.x/advanced/intro":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.3.x/i18n/intro":"docs","docs/next/advanced/routing":"docs","docs/0.3.x/advanced/routing":"docs","docs/0.3.x/deploying/size":"docs","docs/0.3.x/static-content":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/advanced/routing":"docs","docs/0.1.x/intro":"docs","docs/0.2.x/config-managers":"docs","docs/0.2.x/strategies/incremental":"docs","docs/intro":"docs","docs/0.1.x/setup":"docs","docs/0.3.x/testing/fantoccini-basics":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/next/i18n/using":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/next/debugging":"docs","docs/next/strategies/revalidation":"docs","docs/0.1.x/templates":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/0.2.x/strategies/intro":"docs","docs/testing/intro":"docs","docs/what-is-perseus":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.2.x/i18n/intro":"docs","docs/0.3.x/i18n/defining":"docs","docs/next/templates/metadata-modification":"docs","docs/0.2.x/testing/manual":"docs","docs/0.3.x/plugins/security":"docs","docs/templates/intro":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/i18n/using":"docs","docs/0.2.x/strategies/request-state":"docs","docs/i18n/intro":"docs","docs/strategies/build-state":"docs","docs/0.2.x/advanced/arch":"docs","docs/next/server-communication":"docs","docs/0.1.x/serving":"docs","docs/0.3.x/error-pages":"docs","docs/0.3.x/testing/manual":"docs","docs/next/snooping":"docs","docs/next/strategies/build-state":"docs","docs/0.3.x/plugins/tinker":"docs","index":"index","docs/next/templates/setting-headers":"docs","docs/0.2.x/i18n/other-engines":"docs","docs":"docs","docs/0.3.x/strategies/build-state":"docs","docs/0.2.x/deploying/exporting":"docs","docs/next/templates/intro":"docs","docs/next/advanced/arch":"docs","docs/0.1.x/cli":"docs","docs/next/strategies/intro":"docs","docs/0.3.x/templates/setting-headers":"docs","docs/0.3.x/server-communication":"docs","docs/0.1.x/strategies/build_state":"docs","docs/next/plugins/intro":"docs","docs/next/plugins/tinker":"docs","plugins":"plugins","docs/strategies/intro":"docs","docs/advanced/subsequent-loads":"docs","docs/updating":"docs","docs/0.3.x/i18n/translations-managers":"docs","docs/0.2.x/templates/intro":"docs","docs/0.3.x/i18n/using":"docs","docs/next/plugins/using":"docs","docs/0.3.x/views":"docs","docs/strategies/amalgamation":"docs","docs/0.3.x/deploying/serverless":"docs","docs/0.3.x/styling":"docs","docs/0.3.x/plugins/functional":"docs","docs/next/testing/checkpoints":"docs","docs/0.2.x/define-app":"docs","docs/next/plugins/control":"docs","docs/0.3.x/define-app":"docs","docs/next/plugins/functional":"docs","docs/next/i18n/defining":"docs","docs/next/plugins/security":"docs","docs/0.1.x/routing":"docs","docs/next/pitfalls-and-bugs":"docs","docs/next/deploying/intro":"docs","docs/0.3.x/testing/checkpoints":"docs","docs/views":"docs","docs/advanced/arch":"docs","docs/0.1.x/building":"docs","comparisons":"comparisons","docs/0.3.x/stores":"docs","docs/0.1.x/arch":"docs","docs/next/testing/intro":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/i18n/defining":"docs","docs/0.2.x/i18n/using":"docs","docs/0.3.x/plugins/intro":"docs","docs/0.2.x/intro":"docs","docs/next/strategies/incremental":"docs","docs/next/intro":"docs","docs/deploying/exporting":"docs","docs/0.3.x/debugging":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.x/strategies/build-paths":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/next/static-content":"docs","docs/0.3.x/ejecting":"docs","docs/0.3.x/templates/metadata-modification":"docs","docs/define-app":"docs","docs/error-pages":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.3.x/plugins/using":"docs","docs/second-app":"docs","docs/0.2.x/second-app":"docs","docs/next/advanced/subsequent-loads":"docs","docs/next/plugins/writing":"docs","docs/next/deploying/relative-paths":"docs","docs/next/stores":"docs","docs/0.2.x/what-is-perseus":"docs","docs/static-content":"docs","docs/0.3.x/updating":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/0.3.x/strategies/request-state":"docs","docs/0.3.x/cli":"docs","docs/0.3.x/deploying/relative-paths":"docs","docs/0.2.x/views":"docs","docs/next/advanced/intro":"docs","docs/0.2.x/debugging":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.3.x/strategies/amalgamation":"docs","docs/next/error-pages":"docs","docs/0.3.x/deploying/serverful":"docs","docs/testing/manual":"docs","docs/next/deploying/size":"docs","docs/deploying/intro":"docs","docs/0.3.x/advanced/initial-loads":"docs","docs/templates/setting-headers":"docs","docs/next/strategies/request-state":"docs","docs/0.3.x/advanced/arch":"docs","docs/next/exporting":"docs","docs/0.3.x/templates/intro":"docs","docs/next/define-app":"docs","docs/cli":"docs","docs/next/strategies/build-paths":"docs","docs/strategies/incremental":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.2.x/ejecting":"docs","docs/0.1.x/config_managers":"docs","docs/next/second-app":"docs","docs/0.2.x/hello-world":"docs","docs/0.2.x/advanced/intro":"docs","docs/next/updating":"docs","docs/0.3.x/advanced/subsequent-loads":"docs","docs/0.3.x/i18n/other-engines":"docs","docs/next/testing/fantoccini-basics":"docs","docs/next/styling":"docs","docs/advanced/initial-loads":"docs","docs/i18n/other-engines":"docs","docs/0.2.x/styling":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/0.3.x/second-app":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.3.x/plugins/control":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/0.2.x/deploying/intro":"docs","docs/next/deploying/serverless":"docs","docs/next/hello-world":"docs","docs/next/strategies/amalgamation":"docs","docs/0.2.x/testing/intro":"docs","docs/next/i18n/translations-managers":"docs","docs/config-managers":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/next/cli":"docs","docs/next/deploying/serverful":"docs","docs/0.1.x/error_pages":"docs","docs/0.3.x/hello-world":"docs","docs/styling":"docs","docs/0.2.x/static-content":"docs","docs/0.3.x/intro":"docs","docs/strategies/revalidation":"docs","docs/0.3.x/strategies/incremental":"docs","docs/0.3.x/strategies/revalidation":"docs","docs/i18n/translations-managers":"docs","docs/0.3.x/exporting":"docs","docs/0.2.x/updating":"docs","docs/testing/fantoccini-basics":"docs","docs/templates/metadata-modification":"docs","docs/hello-world":"docs","docs/0.3.x/testing/intro":"docs","docs/strategies/build-paths":"docs","docs/next/testing/manual":"docs","docs/ejecting":"docs","docs/0.3.x/strategies/intro":"docs","docs/debugging":"docs","docs/0.2.x/cli":"docs","docs/0.2.x/error-pages":"docs","docs/next/ejecting":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/next/views":"docs","docs/next/i18n/intro":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.3.x/plugins/writing":"docs","docs/next/advanced/initial-loads":"docs","docs/0.3.x/deploying/intro":"docs","docs/0.3.x/what-is-perseus":"docs","docs/next/what-is-perseus":"docs","docs/advanced/intro":"docs","docs/strategies/request-state":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title>Communicating with a Server | Perseus Docs</title><link href=".perseus/static/styles/markdown.css" rel="stylesheet"/><link href=".perseus/static/styles/docs_links_markdown.css" rel="stylesheet"/><link href=".perseus/static/prism.css" rel="stylesheet"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"Communicating with a Server","content":"<h1>Communicating with a Server</h1>\\n<p>So far, we've described how to use Perseus to build powerful and performant frontend apps, but we've mostly left out the backend. If you want to fetch data from a database, authenticate users, perform server-side calculations or the like, you'll almost certainly want a backend of some kind.</p>\\n<details>\\n<summary>Frontend? Backend?</summary>\\n<p>In web development, we typically refer to a project as having a <em>frontend</em>, which is the thing users see (i.e. your web app, with all its styling and the like), and a <em>backend</em>, which is a server or serverless function (see below) that performs server-side work. A classic example would be a server that communicates with a database to fetch some data, but it needs to authenticate against the database. If you're new to web dev, you might well be thinking we could just query the database from the web app, but that would mean we'd have to store the access token in our frontend code, which can be easily inspected by the user (albeit less easily with Wasm, but still definitely doable). For that reason, we communicate with a server and ask it to get the data from the database for us.</p>\\n<p>Of course, a much simpler way of doing the above would be to make the database not need authentication in the first place, but the point stands.</p>\\n</details>\\n<h2>The Perseus Server</h2>\\n<p>Perseus has an inbuilt server that serves your app and its data, and this can be extended by your own code. However, this requires <a href=\\"/docs/ejecting\\">ejecting</a>, which can be brittle, because you'll have to redo everything every time there's a major update.</p>\\n<h2>Your Own Server</h2>\\n<p>Instead, it's recommended that you create a server separate from Perseus that you control completely. You might do this with <a href=\\"https://actix.rs\\">Actix Web</a> or similar software.</p>\\n<h3>Serverless Functions</h3>\\n<p>In the last few years, a new technology has sprung up that allows you to run individual <em>functions</em> (which might be single API routes) whenever they're requested. Infinitely many functions can be spawned simultaneously, and none will be active if none are being requested, which significantly reduces costs and increases scalability. This is provided by services like <a href=\\"https://aws.amazon.com/lambda/\\">AWS Lambda</a>, and can be used with Rust via <a href=\\"https://docs.rs/netlify_lambda_http\\">this library</a>. </p>\\n<h2>Querying a Server</h2>\\n<p>You have a few options if you want to query a server from client-side code. You can use an high-level module, like <a href=\\"https://docs.rs/reqwest\\">reqwest</a> (which supports Wasm), or you can use the underlying browser Fetch API directly (which entails turning JavaScript types into Rust types). We recommend the first approach, but an example of the second can be found in the Perseus code <a href=\\"https://github.com/arctic-hen7/perseus/blob/61dac01b838df23cc0f33b0d65fcb7bf5f252770/packages/perseus/src/shell.rs#L19-L65\\">here</a>.</p>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/intro\\">Introduction</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hello-world\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/second-app\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/define-app\\"><code>define_app!</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/views\\">Writing Views</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/intro\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/metadata-modification\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/setting-headers\\">Modifying HTTP Headers</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/error-pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/static-content\\">Static Content</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/intro\\">Internationalization</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/defining\\">Defining Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/using\\">Using Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/translations-managers\\">Translations Managers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/other-engines\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/request-state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/incremental\\">Incremental Generation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/amalgamation\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/cli\\">CLI</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/ejecting\\">Ejecting</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/intro\\">Testing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/checkpoints\\">Checkpoints</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/fantoccini-basics\\">Fantoccini Basics</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/manual\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/styling\\">Styling</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/server-communication\\">Communicating with a Server</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/stores\\">Stores</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/intro\\">Plugins</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/functional\\">Functional Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/control\\">Control Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/using\\">Using Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/tinker\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/writing\\">Writing Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/security\\">Security Considerations</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/intro\\">Deploying</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverful\\">Server Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverless\\">Serverless Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/size\\">Optimizing Code Size</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/relative-paths\\">Relative Paths</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/updating\\">Migrating from v0.2.x</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/intro\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/initial-loads\\">Initial Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/subsequent-loads\\">Subsequent Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/routing\\">Routing</a></li>\\n</ul>\\n</li>\\n</ul>\\n","status":"Beta","manifest":{"stable":"0.2.x","outdated":["0.1.x"],"beta":["0.3.x"],"history_map":{"0.1.x":"v0.1.4","0.2.x":"v0.2.3","0.3.x":"HEAD"}},"current_version":"0.3.x"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20"><div class="flex justify-between"><a href="en-US/" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl">Perseus</a><div class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div class="tham-box"><div class="dark:bg-white tham-inner"></div></div></div><nav class="hidden md:flex"><ul class="mr-5 flex"><li class="m-3 p-1"><a class="px-2" href="en-US/docs">Docs</a></li><li class="m-3 p-1"><a class="px-2" href="en-US/comparisons">Comparisons</a></li><li class="m-3 p-1"><a class="px-2" href="en-US/plugins">Plugins</a></li></ul></nav></div><nav id="mobile_nav_menu" class="md:hidden w-full text-center justify-center overflow-y-scroll hidden"><div class="mr-5 overflow-y-scroll" style="max-height: 500px"><ul><li class="m-3 p-1"><a class="px-2" href="en-US/docs">Docs</a></li><li class="m-3 p-1"><a class="px-2" href="en-US/comparisons">Comparisons</a></li><li class="m-3 p-1"><a href="en-US/plugins" class="px-2">Plugins</a></li></ul><hr/><div class="text-left p-3"><!----><select class="p-2 rounded-md text-white bg-indigo-500"><option value="next">Next (unreleased)</option><option value="0.3.x" selected="">v⁨0.3.x⁩ (beta)</option><option value="0.2.x">v⁨0.2.x⁩ (stable)</option><option value="0.1.x">v⁨0.1.x⁩ (outdated)</option></select><div class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/setting-headers">Modifying HTTP Headers</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/ejecting">Ejecting</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/security">Security Considerations</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/relative-paths">Relative Paths</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/updating">Migrating from v0.2.x</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/routing">Routing</a></li>
</ul>
</li>
</ul>
</div></div></div></nav></header><div class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex"><div class="flex w-full"><div class="h-full hidden md:block max-w-xs w-full border-r"><div class="mr-5"><div class="text-left text-black dark:text-white p-3"><aside><!----><select class="p-2 rounded-md text-white bg-indigo-500"><option value="next">Next (unreleased)</option><option selected="" value="0.3.x">v⁨0.3.x⁩ (beta)</option><option value="0.2.x">v⁨0.2.x⁩ (stable)</option><option value="0.1.x">v⁨0.1.x⁩ (outdated)</option></select><div class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/setting-headers">Modifying HTTP Headers</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/ejecting">Ejecting</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/security">Security Considerations</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/relative-paths">Relative Paths</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/updating">Migrating from v0.2.x</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/routing">Routing</a></li>
</ul>
</li>
</ul>
</div></aside></div></div></div><div class="h-full flex w-full"><div class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl"><div class="ring-4 ring-yellow-300 p-4 rounded-lg mt-1"><div class="flex flex-col 2xs:flex-row dark:text-white"><span style="fill: #fcd34d;" class="self-center mr-2"><svg xmlns="http://www.w3.org/2000/svg" height="auto" viewBox="0 0 24 24" width="2.25rem" fill="\#000000"><path d="M12 5.99L19.53 19H4.47L12 5.99M2.74 18c-.77 1.33.19 3 1.73 3h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18zM11 11v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zm0 5h2v2h-2z"/></svg></span><p>This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href="en-US/docs/0.2.x/intro" class="underline">here</a>.</p></div></div><main class="text-black dark:text-white"><div class="markdown"><h1>Communicating with a Server</h1>
<p>So far, we've described how to use Perseus to build powerful and performant frontend apps, but we've mostly left out the backend. If you want to fetch data from a database, authenticate users, perform server-side calculations or the like, you'll almost certainly want a backend of some kind.</p>
<details>
<summary>Frontend? Backend?</summary>
<p>In web development, we typically refer to a project as having a <em>frontend</em>, which is the thing users see (i.e. your web app, with all its styling and the like), and a <em>backend</em>, which is a server or serverless function (see below) that performs server-side work. A classic example would be a server that communicates with a database to fetch some data, but it needs to authenticate against the database. If you're new to web dev, you might well be thinking we could just query the database from the web app, but that would mean we'd have to store the access token in our frontend code, which can be easily inspected by the user (albeit less easily with Wasm, but still definitely doable). For that reason, we communicate with a server and ask it to get the data from the database for us.</p>
<p>Of course, a much simpler way of doing the above would be to make the database not need authentication in the first place, but the point stands.</p>
</details>
<h2>The Perseus Server</h2>
<p>Perseus has an inbuilt server that serves your app and its data, and this can be extended by your own code. However, this requires <a href="/docs/ejecting">ejecting</a>, which can be brittle, because you'll have to redo everything every time there's a major update.</p>
<h2>Your Own Server</h2>
<p>Instead, it's recommended that you create a server separate from Perseus that you control completely. You might do this with <a href="https://actix.rs">Actix Web</a> or similar software.</p>
<h3>Serverless Functions</h3>
<p>In the last few years, a new technology has sprung up that allows you to run individual <em>functions</em> (which might be single API routes) whenever they're requested. Infinitely many functions can be spawned simultaneously, and none will be active if none are being requested, which significantly reduces costs and increases scalability. This is provided by services like <a href="https://aws.amazon.com/lambda/">AWS Lambda</a>, and can be used with Rust via <a href="https://docs.rs/netlify_lambda_http">this library</a>. </p>
<h2>Querying a Server</h2>
<p>You have a few options if you want to query a server from client-side code. You can use an high-level module, like <a href="https://docs.rs/reqwest">reqwest</a> (which supports Wasm), or you can use the underlying browser Fetch API directly (which entails turning JavaScript types into Rust types). We recommend the first approach, but an example of the second can be found in the Perseus code <a href="https://github.com/arctic-hen7/perseus/blob/61dac01b838df23cc0f33b0d65fcb7bf5f252770/packages/perseus/src/shell.rs#L19-L65">here</a>.</p>
</div></main></div></div></div></div><footer class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep"><p class="dark:text-white mx-5 text-center"><span>© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script src=".perseus/static/prism.js" defer=""></script><script>window.Prism.highlightAll();</script></div></div>
    </body>
</html>
