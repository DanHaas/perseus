<!DOCTYPE html>
<html lang="en" class="light">
    <head>
<base href="https://arctic-hen7.github.io/perseus/" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href=".perseus/static/tailwind.css" />
        <link rel="stylesheet" href=".perseus/static/styles/style.css" />
    <script>window.__PERSEUS_RENDER_CFG = '{"docs/advanced/arch":"docs","docs/0.3.x/advanced/arch":"docs","docs/0.3.x/advanced/define_app":"docs","docs/deploying/intro":"docs","docs/i18n/other-engines":"docs","docs/i18n/intro":"docs","docs/0.2.x/advanced/intro":"docs","docs/next/i18n/using":"docs","docs/next/i18n/intro":"docs","docs/0.3.x/styling":"docs","docs/next/advanced/subsequent-loads":"docs","docs/0.3.x/plugins/control":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.3.x/plugins/using":"docs","docs/templates/intro":"docs","docs/next/debugging":"docs","docs/0.3.x/views":"docs","comparisons":"comparisons","docs/0.2.x/debugging":"docs","docs/next/advanced/routing":"docs","docs/hydration":"docs","docs/0.3.x/plugins/publishing":"docs","docs/server-communication":"docs","docs/next/plugins/writing":"docs","docs/0.3.x/second-app":"docs","docs/0.3.x/strategies/intro":"docs","docs/0.3.x/testing/manual":"docs","docs/0.2.x/strategies/request-state":"docs","docs/snooping":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.3.x/plugins/tinker":"docs","docs/next/cli":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.x/deploying/serverless":"docs","docs":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.2.x/deploying/intro":"docs","docs/next/strategies/revalidation":"docs","docs/next/advanced/initial-loads":"docs","docs/0.2.x/strategies/incremental":"docs","docs/next/testing/intro":"docs","docs/0.3.x/deploying/relative-paths":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.3.x/what-is-perseus":"docs","docs/0.3.x/i18n/defining":"docs","docs/plugins/publishing":"docs","docs/templates/metadata-modification":"docs","docs/deploying/serverless":"docs","docs/0.2.x/i18n/using":"docs","docs/strategies/intro":"docs","docs/second-app":"docs","docs/0.3.x/advanced/initial-loads":"docs","docs/pitfalls-and-bugs":"docs","docs/advanced/routing":"docs","docs/0.3.x/exporting":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/next/ejecting":"docs","docs/0.1.x/cli":"docs","docs/next/static-content":"docs","docs/next/exporting":"docs","docs/0.3.x/strategies/incremental":"docs","docs/0.2.x/ejecting":"docs","docs/what-is-perseus":"docs","docs/0.2.x/hello-world":"docs","docs/next/deploying/size":"docs","docs/0.3.x/deploying/size":"docs","docs/0.3.x/plugins/writing":"docs","docs/0.1.x/serving":"docs","docs/next/deploying/serverless":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/plugins/tinker":"docs","docs/next/advanced/arch":"docs","docs/0.3.x/static-content":"docs","docs/0.2.x/updating":"docs","docs/next/plugins/tinker":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.2.x/views":"docs","docs/i18n/defining":"docs","docs/strategies/revalidation":"docs","docs/intro":"docs","docs/0.3.x/strategies/build-state":"docs","docs/next/plugins/functional":"docs","docs/next/strategies/intro":"docs","docs/next/strategies/amalgamation":"docs","docs/error-pages":"docs","docs/strategies/amalgamation":"docs","docs/testing/manual":"docs","docs/next/deploying/serverful":"docs","docs/0.2.x/second-app":"docs","docs/0.3.x/strategies/request-state":"docs","docs/next/templates/intro":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/next/strategies/request-state":"docs","docs/0.3.x/testing/intro":"docs","docs/debugging":"docs","docs/next/i18n/other-engines":"docs","docs/deploying/size":"docs","docs/0.3.x/advanced/intro":"docs","docs/testing/checkpoints":"docs","docs/next/i18n/translations-managers":"docs","docs/0.3.x/strategies/build-paths":"docs","docs/next/testing/fantoccini-basics":"docs","docs/next/strategies/build-state":"docs","docs/plugins/control":"docs","docs/i18n/using":"docs","docs/0.2.x/error-pages":"docs","docs/0.3.x/error-pages":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.2.x/templates/intro":"docs","docs/next/plugins/intro":"docs","docs/strategies/request-state":"docs","docs/next/error-pages":"docs","docs/0.3.x/pitfalls-and-bugs":"docs","docs/0.3.x/server-communication":"docs","docs/next/hello-world":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/next/server-communication":"docs","docs/0.3.x/plugins/security":"docs","docs/0.3.x/i18n/translations-managers":"docs","docs/next/what-is-perseus":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/deploying/serverful":"docs","docs/cli":"docs","docs/hello-world":"docs","docs/advanced/define_app":"docs","docs/strategies/build-state":"docs","docs/0.3.x/testing/fantoccini-basics":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/next/pitfalls-and-bugs":"docs","docs/0.3.x/templates/metadata-modification":"docs","docs/0.3.x/hydration":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/0.1.x/templates":"docs","docs/static-content":"docs","docs/next/advanced/intro":"docs","docs/plugins/writing":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/next/intro":"docs","docs/0.1.x/strategies/build_state":"docs","docs/styling":"docs","docs/next/plugins/publishing":"docs","docs/next/styling":"docs","docs/0.3.x/templates/intro":"docs","docs/exporting":"docs","docs/plugins/intro":"docs","docs/0.1.x/building":"docs","docs/0.2.x/cli":"docs","docs/next/testing/manual":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/advanced/intro":"docs","docs/next/snooping":"docs","docs/0.3.x/cli":"docs","docs/define-app":"docs","docs/updating":"docs","docs/0.1.x/routing":"docs","docs/0.3.x/i18n/intro":"docs","docs/0.3.x/deploying/serverful":"docs","docs/next/strategies/incremental":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/advanced/initial-loads":"docs","docs/0.2.x/i18n/intro":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/0.3.x/strategies/revalidation":"docs","docs/next/deploying/docker":"docs","docs/advanced/subsequent-loads":"docs","docs/next/deploying/relative-paths":"docs","docs/0.3.x/advanced/subsequent-loads":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.1.x/error_pages":"docs","docs/plugins/using":"docs","docs/0.2.x/intro":"docs","docs/0.2.x/strategies/intro":"docs","docs/next/second-app":"docs","docs/next/templates/metadata-modification":"docs","docs/0.2.x/static-content":"docs","docs/next/advanced/define_app":"docs","plugins":"plugins","docs/0.3.x/plugins/intro":"docs","docs/0.3.x/stores":"docs","docs/0.3.x/snooping":"docs","docs/0.3.x/strategies/amalgamation":"docs","docs/next/templates/setting-headers":"docs","docs/next/stores":"docs","docs/next/deploying/intro":"docs","docs/strategies/incremental":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.2.x/testing/manual":"docs","docs/i18n/translations-managers":"docs","docs/0.3.x/templates/setting-headers":"docs","docs/next/plugins/control":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/next/plugins/using":"docs","docs/testing/fantoccini-basics":"docs","docs/0.2.x/config-managers":"docs","docs/plugins/security":"docs","docs/testing/intro":"docs","docs/0.3.x/debugging":"docs","index":"index","docs/next/views":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/next/strategies/build-paths":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.3.x/i18n/using":"docs","docs/plugins/functional":"docs","docs/0.2.x/define-app":"docs","docs/0.1.x/intro":"docs","docs/0.3.x/deploying/docker":"docs","docs/views":"docs","docs/0.3.x/deploying/intro":"docs","docs/0.3.x/ejecting":"docs","docs/templates/setting-headers":"docs","docs/0.3.x/define-app":"docs","docs/stores":"docs","docs/next/testing/checkpoints":"docs","docs/next/define-app":"docs","docs/strategies/build-paths":"docs","docs/0.3.x/testing/checkpoints":"docs","docs/0.3.x/advanced/routing":"docs","docs/next/plugins/security":"docs","docs/0.2.x/testing/intro":"docs","docs/0.2.x/styling":"docs","docs/deploying/relative-paths":"docs","docs/0.3.x/i18n/other-engines":"docs","docs/0.3.x/plugins/functional":"docs","docs/next/updating":"docs","docs/0.3.x/hello-world":"docs","docs/next/i18n/defining":"docs","docs/ejecting":"docs","docs/0.3.x/intro":"docs","docs/0.1.x/config_managers":"docs","docs/0.1.x/setup":"docs","docs/deploying/docker":"docs","docs/next/hydration":"docs","docs/0.3.x/updating":"docs","docs/0.1.x/arch":"docs"}';</script>
<script type="module">
    import init, { run } from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
    async function main() {
        await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        run();
    }
    main();
</script>
<!--PERSEUS_INTERPOLATED_HEAD_BEGINS--><title data-hk="1.0">Using Plugins | Perseus Docs</title><link data-hk="1.1" href=".perseus/static/styles/markdown.css" rel="stylesheet"/><link rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css" data-hk="1.2"/><link data-hk="1.3" href=".perseus/static/prism.css" rel="stylesheet"/>
<script>window.__PERSEUS_INITIAL_STATE = `{"title":"Using Plugins","content":"<h1>Using Plugins</h1>\\n<p>The plugins system is designed to be as easy as possible to use, and you can import plugins into your app like so (taken from <a href=\\"https://github.com/arctic-hen7/perseus/blob/main/examples/plugins/src/lib.rs\\">here</a>):</p>\\n<pre><code class=\\"language-rust\\">mod error_pages;\\nmod plugin;\\nmod templates;\\n\\nuse perseus::{define_app, Plugins};\\n\\ndefine_app! {\\n    templates: [\\n        crate::templates::index::get_template::&lt;G&gt;(),\\n        crate::templates::about::get_template::&lt;G&gt;()\\n    ],\\n    error_pages: crate::error_pages::get_error_pages(),\\n    plugins: Plugins::new()\\n        .plugin_with_client_privilege(plugin::get_test_plugin, plugin::TestPluginData {\\n            about_page_greeting: &quot;Hey from a plugin!&quot;.to_string()\\n        })\\n}\\n\\n</code></pre>\\n<p>In addition to the usual <code>define_app!</code> calls, this also uses the <code>plugins</code> parameter, passing to it an instance of <code>perseus::plugins::Plugins</code>, which manages all the intricacies of the plugins system. If this parameter isn't provided, it'll default to <code>Plugins::new()</code>, which creates the configuration for plugins without registering any.</p>\\n<p>To register a plugin, we use the <code>.plugin()</code>/<code>.plugin_with_client_privilege()</code> function on <code>Plugins</code>, which takes two parameters: the plugin's definition (a <code>perseus::plugins::Plugin</code>) and any data that should be provided to the plugin. The former should be exported from the plugin's crate, and the latter you'll need to provide based on the plugin's documentation. Note that plugins can accept almost anything as data (specifically, anything that can be expressed as <code>dyn Any</code>).</p>\\n<p>Plugins in Perseus are fantastic, but they're also a great way to increase your Wasm bundle size, which will make your website slower to laod when users first visit it. To mitigate this, Perseus lets plugin authors define where their plugins should run: in the browser (<code>PluginEnv::Client</code>), on the server-side (<code>PluginEnv::Server</code>), or on both (<code>PluginEnv::Both</code>). Plugins that only run on the server-side should be registered with <code>.plugin()</code>, and they will not be included in your final Wasm binary, which keeps your website nimble. If a plugin does need to run on the client though, it can be registered with <code>.plugin_with_client_privilege()</code> instead, which is named separately for conditional compilation reasons as well as to create a clear separation. But don't worry, if you accidentally register a plugin with the wrong function, your app won'y build, and Perseus will tell you that you've used the wrong function.</p>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/intro\\">Introduction</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hello-world\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/second-app\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/define-app\\"><code>define_app!</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/views\\">Writing Views</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/intro\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/metadata-modification\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/setting-headers\\">Modifying HTTP Headers</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/error-pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/static-content\\">Static Content</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/intro\\">Internationalization</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/defining\\">Defining Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/using\\">Using Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/translations-managers\\">Translations Managers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/other-engines\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/request-state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/incremental\\">Incremental Generation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/amalgamation\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/cli\\">CLI</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/ejecting\\">Ejecting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/snooping\\">Snooping</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/intro\\">Testing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/checkpoints\\">Checkpoints</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/fantoccini-basics\\">Fantoccini Basics</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/manual\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/styling\\">Styling</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/server-communication\\">Communicating with a Server</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/stores\\">Stores</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/intro\\">Plugins</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/functional\\">Functional Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/control\\">Control Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/using\\">Using Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/tinker\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/writing\\">Writing Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/security\\">Security Considerations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/publishing\\">Publishing Plugins</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/intro\\">Deploying</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverful\\">Server Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverless\\">Serverless Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/size\\">Optimizing Code Size</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/relative-paths\\">Relative Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/docker\\">Docker Deployment</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/updating\\">Migrating from v0.2.x</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/pitfalls-and-bugs\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/intro\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/initial-loads\\">Initial Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/subsequent-loads\\">Subsequent Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/routing\\">Routing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/define_app\\"><code>define_app</code> in Detail</a></li>\\n</ul>\\n","status":"Stable","manifest":{"stable":"0.3.x","outdated":["0.2.x","0.1.x"],"beta":[],"history_map":{"0.3.x":"HEAD","0.2.x":"v0.2.3","0.1.x":"v0.1.4"}},"current_version":"0.3.x"}`;</script>
</head>
    <body class="bg-white dark:bg-navy">
        <div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20" data-hk="3.0"><div data-hk="3.1" class="flex justify-between"><a data-hk="3.2" href="en-US/" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl">Perseus</a><div data-hk="3.3" class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div class="tham-box" data-hk="3.4"><div data-hk="3.5" class="dark:bg-white tham-inner"></div></div></div><nav data-hk="3.6" class="hidden md:flex"><ul data-hk="3.7" class="mr-5 flex"><li class="m-3 p-1" data-hk="4.0"><a class="px-2" href="en-US/docs" data-hk="4.1">Docs</a></li><li data-hk="4.2" class="m-3 p-1"><a class="px-2" data-hk="4.3" href="en-US/comparisons">Comparisons</a></li><li class="m-3 p-1" data-hk="4.4"><a href="en-US/plugins" data-hk="4.5" class="px-2">Plugins</a></li></ul></nav></div><nav id="mobile_nav_menu" data-hk="3.8" class="md:hidden w-full text-center justify-center overflow-y-scroll hidden"><div style="max-height: 500px" class="mr-5 overflow-y-scroll" data-hk="3.9"><ul data-hk="3.10"><li data-hk="5.0" class="m-3 p-1"><a data-hk="5.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="5.2" class="m-3 p-1"><a data-hk="5.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li class="m-3 p-1" data-hk="5.4"><a data-hk="5.5" class="px-2" href="en-US/plugins">Plugins</a></li></ul><hr data-hk="3.11"/><div data-hk="3.12" class="text-left p-3"><!--#--><!----><select data-hk="6.0" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="6.1" value="next">Next (unreleased)</option><!--#--><!--/--><option value="0.3.x" selected="" data-hk="6.2">v⁨0.3.x⁩ (stable)</option><!--#--><option data-hk="6.3" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option data-hk="6.4" value="0.1.x">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div class="docs-links-markdown" data-hk="3.13"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/setting-headers">Modifying HTTP Headers</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/define_app"><code>define_app</code> in Detail</a></li>
</ul>
</div></div></div></nav></header><div data-hk="3.14" class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex"><div data-hk="3.15" class="flex w-full"><div class="h-full hidden md:block max-w-xs w-full border-r" data-hk="3.16"><div class="mr-5" data-hk="3.17"><div class="text-left text-black dark:text-white p-3" data-hk="3.18"><aside data-hk="3.19"><!--#--><!----><select data-hk="7.0" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="7.1" value="next">Next (unreleased)</option><!--#--><!--/--><option selected="" data-hk="7.2" value="0.3.x">v⁨0.3.x⁩ (stable)</option><!--#--><option value="0.2.x" data-hk="7.3">v⁨0.2.x⁩ (outdated)</option><option value="0.1.x" data-hk="7.4">v⁨0.1.x⁩ (outdated)</option><!--/--></select><!--/--><div data-hk="3.20" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/define-app"><code>define_app!</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/views">Writing Views</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/templates/setting-headers">Modifying HTTP Headers</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/updating">Migrating from v0.2.x</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.x/advanced/define_app"><code>define_app</code> in Detail</a></li>
</ul>
</div></aside></div></div></div><div data-hk="3.21" class="h-full flex w-full"><div class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl" data-hk="3.22"><!--#--><!----><!--/--><main class="text-black dark:text-white" data-hk="3.23"><div class="markdown" data-hk="2.0"><h1>Using Plugins</h1>
<p>The plugins system is designed to be as easy as possible to use, and you can import plugins into your app like so (taken from <a href="https://github.com/arctic-hen7/perseus/blob/main/examples/plugins/src/lib.rs">here</a>):</p>
<pre><code class="language-rust">mod error_pages;
mod plugin;
mod templates;

use perseus::{define_app, Plugins};

define_app! {
    templates: [
        crate::templates::index::get_template::&lt;G&gt;(),
        crate::templates::about::get_template::&lt;G&gt;()
    ],
    error_pages: crate::error_pages::get_error_pages(),
    plugins: Plugins::new()
        .plugin_with_client_privilege(plugin::get_test_plugin, plugin::TestPluginData {
            about_page_greeting: &quot;Hey from a plugin!&quot;.to_string()
        })
}

</code></pre>
<p>In addition to the usual <code>define_app!</code> calls, this also uses the <code>plugins</code> parameter, passing to it an instance of <code>perseus::plugins::Plugins</code>, which manages all the intricacies of the plugins system. If this parameter isn't provided, it'll default to <code>Plugins::new()</code>, which creates the configuration for plugins without registering any.</p>
<p>To register a plugin, we use the <code>.plugin()</code>/<code>.plugin_with_client_privilege()</code> function on <code>Plugins</code>, which takes two parameters: the plugin's definition (a <code>perseus::plugins::Plugin</code>) and any data that should be provided to the plugin. The former should be exported from the plugin's crate, and the latter you'll need to provide based on the plugin's documentation. Note that plugins can accept almost anything as data (specifically, anything that can be expressed as <code>dyn Any</code>).</p>
<p>Plugins in Perseus are fantastic, but they're also a great way to increase your Wasm bundle size, which will make your website slower to laod when users first visit it. To mitigate this, Perseus lets plugin authors define where their plugins should run: in the browser (<code>PluginEnv::Client</code>), on the server-side (<code>PluginEnv::Server</code>), or on both (<code>PluginEnv::Both</code>). Plugins that only run on the server-side should be registered with <code>.plugin()</code>, and they will not be included in your final Wasm binary, which keeps your website nimble. If a plugin does need to run on the client though, it can be registered with <code>.plugin_with_client_privilege()</code> instead, which is named separately for conditional compilation reasons as well as to create a clear separation. But don't worry, if you accidentally register a plugin with the wrong function, your app won'y build, and Perseus will tell you that you've used the wrong function.</p>
</div></main></div></div></div></div><footer class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep" data-hk="3.24"><p class="dark:text-white mx-5 text-center" data-hk="3.25"><span data-hk="3.26">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script data-hk="2.1" src=".perseus/static/prism.js" defer=""></script><script data-hk="2.2">window.Prism.highlightAll();</script></div></div>
    </body>
</html>
