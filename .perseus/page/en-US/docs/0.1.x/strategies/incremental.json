{"state":"{\"title\":\"Incremental Generation\",\"content\":\"<h1>Incremental Generation</h1>\\n<p>This strategy is both the most complex and most simple that Perseus offers. It's simple in that you don't have to write any extra code except telling Perseus to use it (see below), but it's complex in what it does.</p>\\n<p>Let's say you have an online store, where every item you sell is rendered by the template <code>item</code>. If you have 5 items, you might fetch them from a database at build-time and tell Perseus to render each one with the <em>build paths</em> strategy. But what if you have 5 million items? If you were to render every single one of these at build time, your builds would take a very long time, especially if you're fetching data for every single item! Enter <em>incremental generation</em>, which allows you to return a subset of items with <em>build paths</em>, like only the 5 most commonly accessed items, and then the rest are left unspoken.</p>\\n<p>When a user requests a pre-rendered item, it's served as usual, but if they request something under <code>/item</code>, Perseus will detect that that page may well exist, but hasn't been rendered yet, and so it will invoke the <em>build state</em> strategy as it would've if this page were being built at build-time, it just does it at request-time! And here's the magic of it, <strong>after the first request, Perseus will cache the page</strong>! So basically, pages are built on demand, and then cached for everyone else! Only the first user to access a page will see the slightest delay.</p>\\n<p>The one caveat with this strategy is that you need to handle the possibility in the <em>build state</em> strategy that the given path may not actually exist, and you'll need to return a 404 (page not found error) in that case. You can do that like so:</p>\\n<pre><code class=\\\"language-rust\\\">use perseus::ErrorCause\\n\\nreturn Err((&quot;custom error message&quot;.to_string(), ErrorCause::Client(Some(404))))\\n</code></pre>\\n<p>Note that this tells Perseus that the client caused an error, particularly a 404, which should be handled in your app to return something like 'Page not found'.</p>\\n<h2>Usage</h2>\\n<p>This strategy can be added to a template like so:</p>\\n<pre><code class=\\\"language-rust\\\">template\\n\\t// ...\\n\\t.incremental(true)\\n</code></pre>\\n\",\"sidebar_content\":\"<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/intro\\\">Introduction</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/setup\\\">Setup</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/arch\\\">Architecture</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/intro\\\">Building Your First App</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/setup\\\">Installation and Setup</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/template\\\">Writing Your First Template</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/tutorials/first_app/app\\\">Setting up the App Itself</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/cli\\\">CLI</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/templates\\\">Templates</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/routing\\\">Routing</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/error_pages\\\">Error Pages</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/intro\\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/build_paths\\\">Build Paths</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/build_state\\\">Build State</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/request_state\\\">Request State</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/revalidation\\\">Revalidation</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/strategies/incremental\\\">Incremental generation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/building\\\">Building</a></li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/serving\\\">Serving</a>\\n<ul>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/integrations/actix-web\\\">Actix Web Integration</a></li>\\n</ul>\\n</li>\\n<li><a href=\\\"https://framesurge.sh/perseus/en-US/docs/0.1.x/config_managers\\\">Config Managers</a></li>\\n</ul>\\n\",\"status\":\"Outdated\",\"manifest\":{\"0.1.x\":{\"state\":\"outdated\",\"git\":\"v0.1.4\",\"docs_rs\":\"0.1\"},\"0.3.4\":{\"state\":\"stable\",\"git\":\"v0.3.6\",\"docs_rs\":\"0.3\"},\"0.3.0-0.3.3\":{\"state\":\"outdated\",\"git\":\"v0.3.3\",\"docs_rs\":\"0.3.3\"},\"0.2.x\":{\"state\":\"outdated\",\"git\":\"v0.2.3\",\"docs_rs\":\"0.2\"},\"0.4.x\":{\"state\":\"beta\",\"git\":\"HEAD\",\"docs_rs\":\"0.4.0-beta\"}},\"current_version\":\"0.1.x\"}","head":"<title>Incremental Generation | Perseus Docs</title><link rel=\"stylesheet\" href=\".perseus/static/styles/markdown.css\"/><link rel=\"stylesheet\" href=\".perseus/static/styles/docs_links_markdown.css\"/><link rel=\"stylesheet\" href=\".perseus/static/prism.css\"/>"}